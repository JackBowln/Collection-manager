import{_ as U,a as h}from"./B7Xsw2Wk.js";import{f as k,q as N,s as u,i as C,c as S,b as t,w as a,o as q,a as c,v as B,x as _,m as d,j as E,d as f,e as T,n as j}from"./fMH9WF-P.js";import{_ as A}from"./Ccg_Gj5U.js";const F={class:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900"},R={class:"text-sm text-center text-gray-500"},L=k({__name:"register",setup(D){const g=useSupabaseClient(),y=useSupabaseUser(),x=N(),l=u(""),s=u(""),r=u(""),i=u(!1);C(()=>{y.value&&j("/dashboard")});const v=async()=>{try{i.value=!0;const{error:o}=await g.auth.signUp({email:l.value,password:s.value,options:{data:{full_name:r.value}}});if(o)throw o;x.add({title:"Check your email",description:"We sent you a confirmation link.",color:"green"})}catch(o){x.add({title:"Error",description:o.message,color:"red"})}finally{i.value=!1}};return(o,e)=>{const m=h,p=U,b=E,w=T,V=A;return q(),S("div",F,[t(V,{class:"w-full max-w-md"},{header:a(()=>[...e[3]||(e[3]=[c("h1",{class:"text-xl font-bold text-center"},"Create Account",-1)])]),footer:a(()=>[c("p",R,[e[6]||(e[6]=f(" Already have an account? ",-1)),t(w,{to:"/login",class:"text-primary-600 hover:underline"},{default:a(()=>[...e[5]||(e[5]=[f("Sign in",-1)])]),_:1})])]),default:a(()=>[c("form",{onSubmit:B(v,["prevent"]),class:"space-y-4"},[t(p,{label:"Full Name",name:"fullName"},{default:a(()=>[t(m,{modelValue:d(r),"onUpdate:modelValue":e[0]||(e[0]=n=>_(r)?r.value=n:null),placeholder:"John Doe",required:""},null,8,["modelValue"])]),_:1}),t(p,{label:"Email",name:"email"},{default:a(()=>[t(m,{modelValue:d(l),"onUpdate:modelValue":e[1]||(e[1]=n=>_(l)?l.value=n:null),type:"email",placeholder:"you@example.com",required:""},null,8,["modelValue"])]),_:1}),t(p,{label:"Password",name:"password"},{default:a(()=>[t(m,{modelValue:d(s),"onUpdate:modelValue":e[2]||(e[2]=n=>_(s)?s.value=n:null),type:"password",required:"",minlength:"6"},null,8,["modelValue"])]),_:1}),t(b,{type:"submit",block:"",loading:d(i)},{default:a(()=>[...e[4]||(e[4]=[f("Sign Up",-1)])]),_:1},8,["loading"])],32)]),_:1})])}}});export{L as default};

import{AsyncResource as e,AsyncLocalStorage as t}from"node:async_hooks";function createNotImplementedError(e){return new Error(`[unenv] ${e} is not implemented yet!`)}function notImplemented(e){return Object.assign(()=>{throw createNotImplementedError(e)},{__unenv__:!0})}const s=[],a=[],c="undefined"==typeof Uint8Array?Array:Uint8Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(let e=0,t=64;e<t;++e)s[e]=d[e],a[d.charCodeAt(e)]=e;function toByteArray(e){let t;const s=function(e){const t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");let s=e.indexOf("=");return-1===s&&(s=t),[s,s===t?0:4-s%4]}(e),d=s[0],u=s[1],f=new c(function(e,t,s){return 3*(t+s)/4-s}(0,d,u));let h=0;const m=u>0?d-4:d;let g;for(g=0;g<m;g+=4)t=a[e.charCodeAt(g)]<<18|a[e.charCodeAt(g+1)]<<12|a[e.charCodeAt(g+2)]<<6|a[e.charCodeAt(g+3)],f[h++]=t>>16&255,f[h++]=t>>8&255,f[h++]=255&t;return 2===u&&(t=a[e.charCodeAt(g)]<<2|a[e.charCodeAt(g+1)]>>4,f[h++]=255&t),1===u&&(t=a[e.charCodeAt(g)]<<10|a[e.charCodeAt(g+1)]<<4|a[e.charCodeAt(g+2)]>>2,f[h++]=t>>8&255,f[h++]=255&t),f}function tripletToBase64(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function encodeChunk(e,t,s){let a;const c=[];for(let d=t;d<s;d+=3)a=(e[d]<<16&16711680)+(e[d+1]<<8&65280)+(255&e[d+2]),c.push(tripletToBase64(a));return c.join("")}function fromByteArray(e){let t;const a=e.length,c=a%3,d=[],u=16383;for(let t=0,s=a-c;t<s;t+=u)d.push(encodeChunk(e,t,t+u>s?s:t+u));return 1===c?(t=e[a-1],d.push(s[t>>2]+s[t<<4&63]+"==")):2===c&&(t=(e[a-2]<<8)+e[a-1],d.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),d.join("")}function read(e,t,s,a,c){let d,u;const f=8*c-a-1,h=(1<<f)-1,m=h>>1;let g=-7,x=s?c-1:0;const _=s?-1:1;let j=e[t+x];for(x+=_,d=j&(1<<-g)-1,j>>=-g,g+=f;g>0;)d=256*d+e[t+x],x+=_,g-=8;for(u=d&(1<<-g)-1,d>>=-g,g+=a;g>0;)u=256*u+e[t+x],x+=_,g-=8;if(0===d)d=1-m;else{if(d===h)return u?Number.NaN:(j?-1:1)*Number.POSITIVE_INFINITY;u+=Math.pow(2,a),d-=m}return(j?-1:1)*u*Math.pow(2,d-a)}function write(e,t,s,a,c,d){let u,f,h,m=8*d-c-1;const g=(1<<m)-1,x=g>>1,_=23===c?Math.pow(2,-24)-Math.pow(2,-77):0;let j=a?0:d-1;const C=a?1:-1,R=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),Number.isNaN(t)||t===Number.POSITIVE_INFINITY?(f=Number.isNaN(t)?1:0,u=g):(u=Math.floor(Math.log2(t)),t*(h=Math.pow(2,-u))<1&&(u--,h*=2),(t+=u+x>=1?_/h:_*Math.pow(2,1-x))*h>=2&&(u++,h/=2),u+x>=g?(f=0,u=g):u+x>=1?(f=(t*h-1)*Math.pow(2,c),u+=x):(f=t*Math.pow(2,x-1)*Math.pow(2,c),u=0));c>=8;)e[s+j]=255&f,j+=C,f/=256,c-=8;for(u=u<<c|f,m+=c;m>0;)e[s+j]=255&u,j+=C,u/=256,m-=8;e[s+j-C]|=128*R}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;const u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,f=2147483647;function createBuffer(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer$1.prototype),t}function Buffer$1(e,t,s){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,s)}function from(e,t,s){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!Buffer$1.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const s=0|byteLength(e,t);let a=createBuffer(s);const c=a.write(e,t);c!==s&&(a=a.slice(0,c));return a}(e,t);if(ArrayBuffer.isView(e))return function(e){if(isInstance(e,Uint8Array)){const t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer))return fromArrayBuffer(e,t,s);if("undefined"!=typeof SharedArrayBuffer&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer)))return fromArrayBuffer(e,t,s);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const a=e.valueOf&&e.valueOf();if(null!=a&&a!==e)return Buffer$1.from(a,t,s);const c=function(e){if(Buffer$1.isBuffer(e)){const t=0|checked(e.length),s=createBuffer(t);return 0===s.length||e.copy(s,0,0,t),s}if(void 0!==e.length)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike(e.data)}(e);if(c)return c;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer$1.from(e[Symbol.toPrimitive]("string"),t,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromArrayLike(e){const t=e.length<0?0:0|checked(e.length),s=createBuffer(t);for(let a=0;a<t;a+=1)s[a]=255&e[a];return s}function fromArrayBuffer(e,t,s){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(s||0))throw new RangeError('"length" is outside of buffer bounds');let a;return a=void 0===t&&void 0===s?new Uint8Array(e):void 0===s?new Uint8Array(e,t):new Uint8Array(e,t,s),Object.setPrototypeOf(a,Buffer$1.prototype),a}function checked(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|e}function byteLength(e,t){if(Buffer$1.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const s=e.length,a=arguments.length>2&&!0===arguments[2];if(!a&&0===s)return 0;let c=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*s;case"hex":return s>>>1;case"base64":return base64ToBytes(e).length;default:if(c)return a?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),c=!0}}function slowToString(e,t,s){let a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===s||s>this.length)&&(s=this.length),s<=0)return"";if((s>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,s);case"utf8":case"utf-8":return utf8Slice(this,t,s);case"ascii":return asciiSlice(this,t,s);case"latin1":case"binary":return latin1Slice(this,t,s);case"base64":return base64Slice(this,t,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,s);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function swap(e,t,s){const a=e[t];e[t]=e[s],e[s]=a}function bidirectionalIndexOf(e,t,s,a,c){if(0===e.length)return-1;if("string"==typeof s?(a=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),numberIsNaN(s=+s)&&(s=c?0:e.length-1),s<0&&(s=e.length+s),s>=e.length){if(c)return-1;s=e.length-1}else if(s<0){if(!c)return-1;s=0}if("string"==typeof t&&(t=Buffer$1.from(t,a)),Buffer$1.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,s,a,c);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?c?Uint8Array.prototype.indexOf.call(e,t,s):Uint8Array.prototype.lastIndexOf.call(e,t,s):arrayIndexOf(e,[t],s,a,c);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,s,a,c){let d,u=1,f=e.length,h=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;u=2,f/=2,h/=2,s/=2}function read(e,t){return 1===u?e[t]:e.readUInt16BE(t*u)}if(c){let a=-1;for(d=s;d<f;d++)if(read(e,d)===read(t,-1===a?0:d-a)){if(-1===a&&(a=d),d-a+1===h)return a*u}else-1!==a&&(d-=d-a),a=-1}else for(s+h>f&&(s=f-h),d=s;d>=0;d--){let s=!0;for(let a=0;a<h;a++)if(read(e,d+a)!==read(t,a)){s=!1;break}if(s)return d}return-1}function hexWrite(e,t,s,a){s=Number(s)||0;const c=e.length-s;a?(a=Number(a))>c&&(a=c):a=c;const d=t.length;let u;for(a>d/2&&(a=d/2),u=0;u<a;++u){const a=Number.parseInt(t.slice(2*u,2*u+2),16);if(numberIsNaN(a))return u;e[s+u]=a}return u}function utf8Write(e,t,s,a){return blitBuffer(utf8ToBytes(t,e.length-s),e,s,a)}function asciiWrite(e,t,s,a){return blitBuffer(function(e){const t=[];for(let s=0;s<e.length;++s)t.push(255&e.charCodeAt(s));return t}(t),e,s,a)}function base64Write(e,t,s,a){return blitBuffer(base64ToBytes(t),e,s,a)}function ucs2Write(e,t,s,a){return blitBuffer(function(e,t){let s,a,c;const d=[];for(let u=0;u<e.length&&!((t-=2)<0);++u)s=e.charCodeAt(u),a=s>>8,c=s%256,d.push(c,a);return d}(t,e.length-s),e,s,a)}function base64Slice(e,t,s){return 0===t&&s===e.length?fromByteArray(e):fromByteArray(e.slice(t,s))}function utf8Slice(e,t,s){s=Math.min(e.length,s);const a=[];let c=t;for(;c<s;){const t=e[c];let d=null,u=t>239?4:t>223?3:t>191?2:1;if(c+u<=s){let s,a,f,h;switch(u){case 1:t<128&&(d=t);break;case 2:s=e[c+1],128==(192&s)&&(h=(31&t)<<6|63&s,h>127&&(d=h));break;case 3:s=e[c+1],a=e[c+2],128==(192&s)&&128==(192&a)&&(h=(15&t)<<12|(63&s)<<6|63&a,h>2047&&(h<55296||h>57343)&&(d=h));break;case 4:s=e[c+1],a=e[c+2],f=e[c+3],128==(192&s)&&128==(192&a)&&128==(192&f)&&(h=(15&t)<<18|(63&s)<<12|(63&a)<<6|63&f,h>65535&&h<1114112&&(d=h))}}null===d?(d=65533,u=1):d>65535&&(d-=65536,a.push(d>>>10&1023|55296),d=56320|1023&d),a.push(d),c+=u}return function(e){const t=e.length;if(t<=h)return String.fromCharCode.apply(String,e);let s="",a=0;for(;a<t;)s+=String.fromCharCode.apply(String,e.slice(a,a+=h));return s}(a)}Buffer$1.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}(),Buffer$1.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This environment lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer$1.prototype,"parent",{enumerable:!0,get:function(){if(Buffer$1.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer$1.prototype,"offset",{enumerable:!0,get:function(){if(Buffer$1.isBuffer(this))return this.byteOffset}}),Buffer$1.poolSize=8192,Buffer$1.from=function(e,t,s){return from(e,t,s)},Object.setPrototypeOf(Buffer$1.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer$1,Uint8Array),Buffer$1.alloc=function(e,t,s){return function(e,t,s){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof s?createBuffer(e).fill(t,s):createBuffer(e).fill(t):createBuffer(e)}(e,t,s)},Buffer$1.allocUnsafe=function(e){return allocUnsafe(e)},Buffer$1.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer$1.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer$1.prototype},Buffer$1.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer$1.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer$1.from(t,t.offset,t.byteLength)),!Buffer$1.isBuffer(e)||!Buffer$1.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let s=e.length,a=t.length;for(let c=0,d=Math.min(s,a);c<d;++c)if(e[c]!==t[c]){s=e[c],a=t[c];break}return s<a?-1:a<s?1:0},Buffer$1.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer$1.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer$1.alloc(0);let s;if(void 0===t)for(t=0,s=0;s<e.length;++s)t+=e[s].length;const a=Buffer$1.allocUnsafe(t);let c=0;for(s=0;s<e.length;++s){let t=e[s];if(isInstance(t,Uint8Array))c+t.length>a.length?(Buffer$1.isBuffer(t)||(t=Buffer$1.from(t.buffer,t.byteOffset,t.byteLength)),t.copy(a,c)):Uint8Array.prototype.set.call(a,t,c);else{if(!Buffer$1.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(a,c)}c+=t.length}return a},Buffer$1.byteLength=byteLength,Buffer$1.prototype._isBuffer=!0,Buffer$1.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer$1.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer$1.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer$1.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):Reflect.apply(slowToString,this,arguments)},Buffer$1.prototype.toLocaleString=Buffer$1.prototype.toString,Buffer$1.prototype.equals=function(e){if(!Buffer$1.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer$1.compare(this,e)},Buffer$1.prototype.inspect=function(){let e="";return e=this.toString("hex",0,50).replace(/(.{2})/g,"$1 ").trim(),this.length>50&&(e+=" ... "),"<Buffer "+e+">"},u&&(Buffer$1.prototype[u]=Buffer$1.prototype.inspect),Buffer$1.prototype.compare=function(e,t,s,a,c){if(isInstance(e,Uint8Array)&&(e=Buffer$1.from(e,e.offset,e.byteLength)),!Buffer$1.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===s&&(s=e?e.length:0),void 0===a&&(a=0),void 0===c&&(c=this.length),t<0||s>e.length||a<0||c>this.length)throw new RangeError("out of range index");if(a>=c&&t>=s)return 0;if(a>=c)return-1;if(t>=s)return 1;if(this===e)return 0;let d=(c>>>=0)-(a>>>=0),u=(s>>>=0)-(t>>>=0);const f=Math.min(d,u),h=this.slice(a,c),m=e.slice(t,s);for(let e=0;e<f;++e)if(h[e]!==m[e]){d=h[e],u=m[e];break}return d<u?-1:u<d?1:0},Buffer$1.prototype.includes=function(e,t,s){return-1!==this.indexOf(e,t,s)},Buffer$1.prototype.indexOf=function(e,t,s){return bidirectionalIndexOf(this,e,t,s,!0)},Buffer$1.prototype.lastIndexOf=function(e,t,s){return bidirectionalIndexOf(this,e,t,s,!1)},Buffer$1.prototype.write=function(e,t,s,a){if(void 0===t)a="utf8",s=this.length,t=0;else if(void 0===s&&"string"==typeof t)a=t,s=this.length,t=0;else{if(!Number.isFinite(t))throw new TypeError("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,Number.isFinite(s)?(s>>>=0,void 0===a&&(a="utf8")):(a=s,s=void 0)}const c=this.length-t;if((void 0===s||s>c)&&(s=c),e.length>0&&(s<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");let d=!1;for(;;)switch(a){case"hex":return hexWrite(this,e,t,s);case"utf8":case"utf-8":return utf8Write(this,e,t,s);case"ascii":case"latin1":case"binary":return asciiWrite(this,e,t,s);case"base64":return base64Write(this,e,t,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,s);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),d=!0}},Buffer$1.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const h=4096;function asciiSlice(e,t,s){let a="";s=Math.min(e.length,s);for(let c=t;c<s;++c)a+=String.fromCharCode(127&e[c]);return a}function latin1Slice(e,t,s){let a="";s=Math.min(e.length,s);for(let c=t;c<s;++c)a+=String.fromCharCode(e[c]);return a}function hexSlice(e,t,s){const a=e.length;(!t||t<0)&&(t=0),(!s||s<0||s>a)&&(s=a);let c="";for(let a=t;a<s;++a)c+=x[e[a]];return c}function utf16leSlice(e,t,s){const a=e.slice(t,s);let c="";for(let e=0;e<a.length-1;e+=2)c+=String.fromCharCode(a[e]+256*a[e+1]);return c}function checkOffset(e,t,s){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>s)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,s,a,c,d){if(!Buffer$1.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>c||t<d)throw new RangeError('"value" argument is out of bounds');if(s+a>e.length)throw new RangeError("Index out of range")}function wrtBigUInt64LE(e,t,s,a,c){checkIntBI(t,a,c,e,s,7);let d=Number(t&BigInt(4294967295));e[s++]=d,d>>=8,e[s++]=d,d>>=8,e[s++]=d,d>>=8,e[s++]=d;let u=Number(t>>BigInt(32)&BigInt(4294967295));return e[s++]=u,u>>=8,e[s++]=u,u>>=8,e[s++]=u,u>>=8,e[s++]=u,s}function wrtBigUInt64BE(e,t,s,a,c){checkIntBI(t,a,c,e,s,7);let d=Number(t&BigInt(4294967295));e[s+7]=d,d>>=8,e[s+6]=d,d>>=8,e[s+5]=d,d>>=8,e[s+4]=d;let u=Number(t>>BigInt(32)&BigInt(4294967295));return e[s+3]=u,u>>=8,e[s+2]=u,u>>=8,e[s+1]=u,u>>=8,e[s]=u,s+8}function checkIEEE754(e,t,s,a,c,d){if(s+a>e.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function writeFloat(e,t,s,a,c){return t=+t,s>>>=0,c||checkIEEE754(e,0,s,4),write(e,t,s,a,23,4),s+4}function writeDouble(e,t,s,a,c){return t=+t,s>>>=0,c||checkIEEE754(e,0,s,8),write(e,t,s,a,52,8),s+8}Buffer$1.prototype.slice=function(e,t){const s=this.length;(e=Math.trunc(e))<0?(e+=s)<0&&(e=0):e>s&&(e=s),(t=void 0===t?s:Math.trunc(t))<0?(t+=s)<0&&(t=0):t>s&&(t=s),t<e&&(t=e);const a=this.subarray(e,t);return Object.setPrototypeOf(a,Buffer$1.prototype),a},Buffer$1.prototype.readUintLE=Buffer$1.prototype.readUIntLE=function(e,t,s){e>>>=0,t>>>=0,s||checkOffset(e,t,this.length);let a=this[e],c=1,d=0;for(;++d<t&&(c*=256);)a+=this[e+d]*c;return a},Buffer$1.prototype.readUintBE=Buffer$1.prototype.readUIntBE=function(e,t,s){e>>>=0,t>>>=0,s||checkOffset(e,t,this.length);let a=this[e+--t],c=1;for(;t>0&&(c*=256);)a+=this[e+--t]*c;return a},Buffer$1.prototype.readUint8=Buffer$1.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer$1.prototype.readUint16LE=Buffer$1.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer$1.prototype.readUint16BE=Buffer$1.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer$1.prototype.readUint32LE=Buffer$1.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer$1.prototype.readUint32BE=Buffer$1.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer$1.prototype.readBigUInt64LE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");const t=this[e],s=this[e+7];void 0!==t&&void 0!==s||boundsError(e,this.length-8);const a=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,c=this[++e]+256*this[++e]+65536*this[++e]+s*2**24;return BigInt(a)+(BigInt(c)<<BigInt(32))}),Buffer$1.prototype.readBigUInt64BE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");const t=this[e],s=this[e+7];void 0!==t&&void 0!==s||boundsError(e,this.length-8);const a=t*2**24+65536*this[++e]+256*this[++e]+this[++e],c=this[++e]*2**24+65536*this[++e]+256*this[++e]+s;return(BigInt(a)<<BigInt(32))+BigInt(c)}),Buffer$1.prototype.readIntLE=function(e,t,s){e>>>=0,t>>>=0,s||checkOffset(e,t,this.length);let a=this[e],c=1,d=0;for(;++d<t&&(c*=256);)a+=this[e+d]*c;return c*=128,a>=c&&(a-=Math.pow(2,8*t)),a},Buffer$1.prototype.readIntBE=function(e,t,s){e>>>=0,t>>>=0,s||checkOffset(e,t,this.length);let a=t,c=1,d=this[e+--a];for(;a>0&&(c*=256);)d+=this[e+--a]*c;return c*=128,d>=c&&(d-=Math.pow(2,8*t)),d},Buffer$1.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer$1.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);const s=this[e]|this[e+1]<<8;return 32768&s?4294901760|s:s},Buffer$1.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);const s=this[e+1]|this[e]<<8;return 32768&s?4294901760|s:s},Buffer$1.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer$1.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer$1.prototype.readBigInt64LE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");const t=this[e],s=this[e+7];void 0!==t&&void 0!==s||boundsError(e,this.length-8);const a=this[e+4]+256*this[e+5]+65536*this[e+6]+(s<<24);return(BigInt(a)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),Buffer$1.prototype.readBigInt64BE=defineBigIntMethod(function(e){validateNumber(e>>>=0,"offset");const t=this[e],s=this[e+7];void 0!==t&&void 0!==s||boundsError(e,this.length-8);const a=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(a)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+s)}),Buffer$1.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),read(this,e,!0,23,4)},Buffer$1.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),read(this,e,!1,23,4)},Buffer$1.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),read(this,e,!0,52,8)},Buffer$1.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),read(this,e,!1,52,8)},Buffer$1.prototype.writeUintLE=Buffer$1.prototype.writeUIntLE=function(e,t,s,a){if(e=+e,t>>>=0,s>>>=0,!a){checkInt(this,e,t,s,Math.pow(2,8*s)-1,0)}let c=1,d=0;for(this[t]=255&e;++d<s&&(c*=256);)this[t+d]=e/c&255;return t+s},Buffer$1.prototype.writeUintBE=Buffer$1.prototype.writeUIntBE=function(e,t,s,a){if(e=+e,t>>>=0,s>>>=0,!a){checkInt(this,e,t,s,Math.pow(2,8*s)-1,0)}let c=s-1,d=1;for(this[t+c]=255&e;--c>=0&&(d*=256);)this[t+c]=e/d&255;return t+s},Buffer$1.prototype.writeUint8=Buffer$1.prototype.writeUInt8=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer$1.prototype.writeUint16LE=Buffer$1.prototype.writeUInt16LE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer$1.prototype.writeUint16BE=Buffer$1.prototype.writeUInt16BE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer$1.prototype.writeUint32LE=Buffer$1.prototype.writeUInt32LE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer$1.prototype.writeUint32BE=Buffer$1.prototype.writeUInt32BE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer$1.prototype.writeBigUInt64LE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64LE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer$1.prototype.writeBigUInt64BE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64BE(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),Buffer$1.prototype.writeIntLE=function(e,t,s,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*s-1);checkInt(this,e,t,s,a-1,-a)}let c=0,d=1,u=0;for(this[t]=255&e;++c<s&&(d*=256);)e<0&&0===u&&0!==this[t+c-1]&&(u=1),this[t+c]=Math.trunc(e/d)-u&255;return t+s},Buffer$1.prototype.writeIntBE=function(e,t,s,a){if(e=+e,t>>>=0,!a){const a=Math.pow(2,8*s-1);checkInt(this,e,t,s,a-1,-a)}let c=s-1,d=1,u=0;for(this[t+c]=255&e;--c>=0&&(d*=256);)e<0&&0===u&&0!==this[t+c+1]&&(u=1),this[t+c]=Math.trunc(e/d)-u&255;return t+s},Buffer$1.prototype.writeInt8=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer$1.prototype.writeInt16LE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer$1.prototype.writeInt16BE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer$1.prototype.writeInt32LE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer$1.prototype.writeInt32BE=function(e,t,s){return e=+e,t>>>=0,s||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer$1.prototype.writeBigInt64LE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64LE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer$1.prototype.writeBigInt64BE=defineBigIntMethod(function(e,t=0){return wrtBigUInt64BE(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Buffer$1.prototype.writeFloatLE=function(e,t,s){return writeFloat(this,e,t,!0,s)},Buffer$1.prototype.writeFloatBE=function(e,t,s){return writeFloat(this,e,t,!1,s)},Buffer$1.prototype.writeDoubleLE=function(e,t,s){return writeDouble(this,e,t,!0,s)},Buffer$1.prototype.writeDoubleBE=function(e,t,s){return writeDouble(this,e,t,!1,s)},Buffer$1.prototype.copy=function(e,t,s,a){if(!Buffer$1.isBuffer(e))throw new TypeError("argument should be a Buffer");if(s||(s=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<s&&(a=s),a===s)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-s&&(a=e.length-t+s);const c=a-s;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,s,a):Uint8Array.prototype.set.call(e,this.subarray(s,a),t),c},Buffer$1.prototype.fill=function(e,t,s,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,s=this.length):"string"==typeof s&&(a=s,s=this.length),void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!Buffer$1.isEncoding(a))throw new TypeError("Unknown encoding: "+a);if(1===e.length){const t=e.charCodeAt(0);("utf8"===a&&t<128||"latin1"===a)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<s)throw new RangeError("Out of range index");if(s<=t)return this;let c;if(t>>>=0,s=void 0===s?this.length:s>>>0,e||(e=0),"number"==typeof e)for(c=t;c<s;++c)this[c]=e;else{const d=Buffer$1.isBuffer(e)?e:Buffer$1.from(e,a),u=d.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(c=0;c<s-t;++c)this[c+t]=d[c%u]}return this};const m={};function E$1(e,t,s){m[e]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:Reflect.apply(t,this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function addNumericalSeparator(e){let t="",s=e.length;const a="-"===e[0]?1:0;for(;s>=a+4;s-=3)t=`_${e.slice(s-3,s)}${t}`;return`${e.slice(0,s)}${t}`}function checkIntBI(e,t,s,a,c,d){if(e>s||e<t){const s="bigint"==typeof t?"n":"";let a;throw a=0===t||t===BigInt(0)?`>= 0${s} and < 2${s} ** ${8*(d+1)}${s}`:`>= -(2${s} ** ${8*(d+1)-1}${s}) and < 2 ** ${8*(d+1)-1}${s}`,new m.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,s){validateNumber(t,"offset"),void 0!==e[t]&&void 0!==e[t+s]||boundsError(t,e.length-(s+1))}(a,c,d)}function validateNumber(e,t){if("number"!=typeof e)throw new m.ERR_INVALID_ARG_TYPE(t,"number",e)}function boundsError(e,t,s){if(Math.floor(e)!==e)throw validateNumber(e,s),new m.ERR_OUT_OF_RANGE("offset","an integer",e);if(t<0)throw new m.ERR_BUFFER_OUT_OF_BOUNDS;throw new m.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}E$1("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),E$1("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),E$1("ERR_OUT_OF_RANGE",function(e,t,s){let a=`The value of "${e}" is out of range.`,c=s;return Number.isInteger(s)&&Math.abs(s)>2**32?c=addNumericalSeparator(String(s)):"bigint"==typeof s&&(c=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(c=addNumericalSeparator(c)),c+="n"),a+=` It must be ${t}. Received ${c}`,a},RangeError);const g=/[^\w+/-]/g;function utf8ToBytes(e,t){let s;t=t||Number.POSITIVE_INFINITY;const a=e.length;let c=null;const d=[];for(let u=0;u<a;++u){if(s=e.charCodeAt(u),s>55295&&s<57344){if(!c){if(s>56319){(t-=3)>-1&&d.push(239,191,189);continue}if(u+1===a){(t-=3)>-1&&d.push(239,191,189);continue}c=s;continue}if(s<56320){(t-=3)>-1&&d.push(239,191,189),c=s;continue}s=65536+(c-55296<<10|s-56320)}else c&&(t-=3)>-1&&d.push(239,191,189);if(c=null,s<128){if((t-=1)<0)break;d.push(s)}else if(s<2048){if((t-=2)<0)break;d.push(s>>6|192,63&s|128)}else if(s<65536){if((t-=3)<0)break;d.push(s>>12|224,s>>6&63|128,63&s|128)}else{if(!(s<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;d.push(s>>18|240,s>>12&63|128,s>>6&63|128,63&s|128)}}return d}function base64ToBytes(e){return toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(g,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,s,a){let c;for(c=0;c<a&&!(c+s>=t.length||c>=e.length);++c)t[c+s]=e[c];return c}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function numberIsNaN(e){return e!=e}const x=function(){const e="0123456789abcdef",t=Array.from({length:256});for(let s=0;s<16;++s){const a=16*s;for(let c=0;c<16;++c)t[a+c]=e[s]+e[c]}return t}();function defineBigIntMethod(e){return"undefined"==typeof BigInt?BufferBigIntNotDefined:e}function BufferBigIntNotDefined(){throw new Error("BigInt not supported")}const _=globalThis.Buffer||Buffer$1;globalThis.btoa.bind(globalThis),globalThis.atob.bind(globalThis);Object.assign(()=>{},{__unenv__:!0});class Timeout{constructor(e,t){"function"==typeof e&&e(...t)}close(){throw createNotImplementedError("node.timers.timeout.close")}_onTimeout(...e){throw createNotImplementedError("node.timers.timeout._onTimeout")}ref(){return this}unref(){return this}hasRef(){return!1}refresh(){return this}[Symbol.dispose](){}[Symbol.toPrimitive](){return 0}}function setTimeoutFallback(e,t,...s){return new Timeout(e,s)}setTimeoutFallback.__promisify__=function(e,t,s){return new Promise(e=>{e(t)})};class Immediate{_onImmediate;_timeout;constructor(e,t){this._onImmediate=e,"setTimeout"in globalThis?this._timeout=setTimeout(e,0,...t):e(...t)}ref(){return this._timeout?.ref(),this}unref(){return this._timeout?.unref(),this}hasRef(){return this._timeout?.hasRef()??!1}[Symbol.dispose](){"clearTimeout"in globalThis&&clearTimeout(this._timeout)}}function setImmediateFallback(e,...t){return new Immediate(e,t)}function setIntervalFallback(e,t,...s){return new Timeout(e,s)}setImmediateFallback.__promisify__=function(e){return new Promise(t=>{t(e)})},setIntervalFallback.__promisify__=async function*(e,t){yield t};const j=globalThis.clearImmediate?.bind(globalThis)||function(e){e?.[Symbol.dispose]()};globalThis.clearInterval?.bind(globalThis),globalThis.clearTimeout?.bind(globalThis);const C=globalThis.setImmediate?.bind(globalThis)||setImmediateFallback;globalThis.setTimeout?.bind(globalThis),globalThis.setInterval?.bind(globalThis);const R=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,E=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,S=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function destr(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const s=e.trim();if(s.length<=9)switch(s.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!S.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(R.test(e)||E.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const T=/#/g,I=/&/g,$=/\//g,B=/=/g,O=/\+/g,L=/%5e/gi,U=/%60/gi,P=/%7c/gi,N=/%20/gi;function encodeQueryValue(e){return(t="string"==typeof e?e:JSON.stringify(e),encodeURI(""+t).replace(P,"|")).replace(O,"%2B").replace(N,"+").replace(T,"%23").replace(I,"%26").replace(U,"`").replace(L,"^").replace($,"%2F");var t}function encodeQueryKey(e){return encodeQueryValue(e).replace(B,"%3D")}function decode$1(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function decodeQueryKey(e){return decode$1(e.replace(O," "))}function decodeQueryValue(e){return decode$1(e.replace(O," "))}function parseQuery(e=""){const t=Object.create(null);"?"===e[0]&&(e=e.slice(1));for(const s of e.split("&")){const e=s.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const a=decodeQueryKey(e[1]);if("__proto__"===a||"constructor"===a)continue;const c=decodeQueryValue(e[2]||"");void 0===t[a]?t[a]=c:Array.isArray(t[a])?t[a].push(c):t[a]=[t[a],c]}return t}function stringifyQuery(e){return Object.keys(e).filter(t=>void 0!==e[t]).map(t=>{return s=t,"number"!=typeof(a=e[t])&&"boolean"!=typeof a||(a=String(a)),a?Array.isArray(a)?a.map(e=>`${encodeQueryKey(s)}=${encodeQueryValue(e)}`).join("&"):`${encodeQueryKey(s)}=${encodeQueryValue(a)}`:encodeQueryKey(s);var s,a}).filter(Boolean).join("&")}const z=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Z=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,M=/^([/\\]\s*){2,}[^/\\]/,H=/^[\s\0]*(blob|data|javascript|vbscript):$/i,q=/\/$|\/\?|\/#/,F=/^\.?\//;function hasProtocol(e,t={}){return"boolean"==typeof t&&(t={acceptRelative:t}),t.strict?z.test(e):Z.test(e)||!!t.acceptRelative&&M.test(e)}function isScriptProtocol(e){return!!e&&H.test(e)}function hasTrailingSlash(e="",t){return t?q.test(e):e.endsWith("/")}function withoutTrailingSlash(e="",t){if(!t)return(hasTrailingSlash(e)?e.slice(0,-1):e)||"/";if(!hasTrailingSlash(e,!0))return e||"/";let s=e,a="";const c=e.indexOf("#");-1!==c&&(s=e.slice(0,c),a=e.slice(c));const[d,...u]=s.split("?");return((d.endsWith("/")?d.slice(0,-1):d)||"/")+(u.length>0?`?${u.join("?")}`:"")+a}function withTrailingSlash(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(hasTrailingSlash(e,!0))return e||"/";let s=e,a="";const c=e.indexOf("#");if(-1!==c&&(s=e.slice(0,c),a=e.slice(c),!s))return a;const[d,...u]=s.split("?");return d+"/"+(u.length>0?`?${u.join("?")}`:"")+a}function withLeadingSlash(e=""){return function(e=""){return e.startsWith("/")}(e)?e:"/"+e}function withoutBase(e,t){if(isEmptyURL(t))return e;const s=withoutTrailingSlash(t);if(!e.startsWith(s))return e;const a=e.slice(s.length);return"/"===a[0]?a:"/"+a}function withQuery(e,t){const s=parseURL(e),a={...parseQuery(s.search),...t};return s.search=stringifyQuery(a),function(e){const t=e.pathname||"",s=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",a=e.hash||"",c=e.auth?e.auth+"@":"",d=e.host||"",u=e.protocol||e[D]?(e.protocol||"")+"//":"";return u+c+d+t+s+a}(s)}function getQuery$1(e){return parseQuery(parseURL(e).search)}function isEmptyURL(e){return!e||"/"===e}function joinURL(e,...t){let s=e||"";for(const e of t.filter(e=>function(e){return e&&"/"!==e}(e)))if(s){const t=e.replace(F,"");s=withTrailingSlash(s)+t}else s=e;return s}function joinRelativeURL(...e){const t=/\/(?!\/)/,s=e.filter(Boolean),a=[];let c=0;for(const e of s)if(e&&"/"!==e)for(const[s,d]of e.split(t).entries())if(d&&"."!==d)if(".."!==d)1===s&&a[a.length-1]?.endsWith(":/")?a[a.length-1]+="/"+d:(a.push(d),c++);else{if(1===a.length&&hasProtocol(a[0]))continue;a.pop(),c--}let d=a.join("/");return c>=0?s[0]?.startsWith("/")&&!d.startsWith("/")?d="/"+d:s[0]?.startsWith("./")&&!d.startsWith("./")&&(d="./"+d):d="../".repeat(-1*c)+d,s[s.length-1]?.endsWith("/")&&!d.endsWith("/")&&(d+="/"),d}const D=Symbol.for("ufo:protocolRelative");function parseURL(e="",t){const s=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){const[,e,t=""]=s;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!hasProtocol(e,{acceptRelative:!0}))return parsePath(e);const[,a="",c,d=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,u="",f=""]=d.match(/([^#/?]*)(.*)?/)||[];"file:"===a&&(f=f.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:h,search:m,hash:g}=parsePath(f);return{protocol:a.toLowerCase(),auth:c?c.slice(0,Math.max(0,c.length-1)):"",host:u,pathname:h,search:m,hash:g,[D]:!a}}function parsePath(e=""){const[t="",s="",a=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:s,hash:a}}function parse$2(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");const s={},a={},c=a.decode||decode;let d=0;for(;d<e.length;){const t=e.indexOf("=",d);if(-1===t)break;let u=e.indexOf(";",d);if(-1===u)u=e.length;else if(u<t){d=e.lastIndexOf(";",t-1)+1;continue}const f=e.slice(d,t).trim();if(!a?.filter||a?.filter(f)){if(void 0===s[f]){let a=e.slice(t+1,u).trim();34===a.codePointAt(0)&&(a=a.slice(1,-1)),s[f]=tryDecode(a,c)}d=u+1}else d=u+1}return s}function decode(e){return e.includes("%")?decodeURIComponent(e):e}function tryDecode(e,t){try{return t(e)}catch{return e}}const K=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function serialize$2(e,t,s){const a=s||{},c=a.encode||encodeURIComponent;if("function"!=typeof c)throw new TypeError("option encode is invalid");if(!K.test(e))throw new TypeError("argument name is invalid");const d=c(t);if(d&&!K.test(d))throw new TypeError("argument val is invalid");let u=e+"="+d;if(void 0!==a.maxAge&&null!==a.maxAge){const e=a.maxAge-0;if(Number.isNaN(e)||!Number.isFinite(e))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(e)}if(a.domain){if(!K.test(a.domain))throw new TypeError("option domain is invalid");u+="; Domain="+a.domain}if(a.path){if(!K.test(a.path))throw new TypeError("option path is invalid");u+="; Path="+a.path}if(a.expires){if(f=a.expires,!("[object Date]"===Object.prototype.toString.call(f)||f instanceof Date)||Number.isNaN(a.expires.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+a.expires.toUTCString()}var f;if(a.httpOnly&&(u+="; HttpOnly"),a.secure&&(u+="; Secure"),a.priority){switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(a.sameSite){switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a.partitioned&&(u+="; Partitioned"),u}function parseSetCookie(e,t){const s=(e||"").split(";").filter(e=>"string"==typeof e&&!!e.trim()),a=function(e){let t="",s="";const a=e.split("=");a.length>1?(t=a.shift(),s=a.join("=")):s=e;return{name:t,value:s}}(s.shift()||""),c=a.name;let d=a.value;try{d=!1===t?.decode?d:(t?.decode||decodeURIComponent)(d)}catch{}const u={name:c,value:d};for(const e of s){const t=e.split("="),s=(t.shift()||"").trimStart().toLowerCase(),a=t.join("=");switch(s){case"expires":u.expires=new Date(a);break;case"max-age":u.maxAge=Number.parseInt(a,10);break;case"secure":u.secure=!0;break;case"httponly":u.httpOnly=!0;break;case"samesite":u.sameSite=a;break;default:u[s]=a}}return u}const W=0,V=1,Q=2;function createRouter$1(e={}){const t={options:e,rootNode:createRadixNode(),staticRoutesMap:{}},normalizeTrailingSlash=t=>e.strictTrailingSlash?t:t.replace(/\/$/,"")||"/";if(e.routes)for(const s in e.routes)insert(t,normalizeTrailingSlash(s),e.routes[s]);return{ctx:t,lookup:e=>function(e,t){const s=e.staticRoutesMap[t];if(s)return s.data;const a=t.split("/"),c={};let d=!1,u=null,f=e.rootNode,h=null;for(let e=0;e<a.length;e++){const t=a[e];null!==f.wildcardChildNode&&(u=f.wildcardChildNode,h=a.slice(e).join("/"));const s=f.children.get(t);if(void 0===s){if(f&&f.placeholderChildren.length>1){const t=a.length-e;f=f.placeholderChildren.find(e=>e.maxDepth===t)||null}else f=f.placeholderChildren[0]||null;if(!f)break;f.paramName&&(c[f.paramName]=t),d=!0}else f=s}null!==f&&null!==f.data||null===u||(f=u,c[f.paramName||"_"]=h,d=!0);if(!f)return null;if(d)return{...f.data,params:d?c:void 0};return f.data}(t,normalizeTrailingSlash(e)),insert:(e,s)=>insert(t,normalizeTrailingSlash(e),s),remove:e=>function(e,t){let s=!1;const a=t.split("/");let c=e.rootNode;for(const e of a)if(c=c.children.get(e),!c)return s;if(c.data){const e=a.at(-1)||"";c.data=null,0===Object.keys(c.children).length&&c.parent&&(c.parent.children.delete(e),c.parent.wildcardChildNode=null,c.parent.placeholderChildren=[]),s=!0}return s}(t,normalizeTrailingSlash(e))}}function insert(e,t,s){let a=!0;const c=t.split("/");let d=e.rootNode,u=0;const f=[d];for(const e of c){let t;if(t=d.children.get(e))d=t;else{const s=getNodeType(e);t=createRadixNode({type:s,parent:d}),d.children.set(e,t),s===Q?(t.paramName="*"===e?"_"+u++:e.slice(1),d.placeholderChildren.push(t),a=!1):s===V&&(d.wildcardChildNode=t,t.paramName=e.slice(3)||"_",a=!1),f.push(t),d=t}}for(const[e,t]of f.entries())t.maxDepth=Math.max(f.length-e,t.maxDepth||0);return d.data=s,!0===a&&(e.staticRoutesMap[t]=d),d}function createRadixNode(e={}){return{type:e.type||W,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function getNodeType(e){return e.startsWith("**")?V:":"===e[0]||"*"===e?Q:W}function toRouteMatcher(e){return function(e,t){return{ctx:{table:e},matchAll:s=>_matchRoutes(s,e,t)}}(_routerNodeToTable("",e.ctx.rootNode),e.ctx.options.strictTrailingSlash)}function _matchRoutes(e,t,s){!0!==s&&e.endsWith("/")&&(e=e.slice(0,-1)||"/");const a=[];for(const[s,c]of _sortRoutesMap(t.wildcard))(e===s||e.startsWith(s+"/"))&&a.push(c);for(const[s,c]of _sortRoutesMap(t.dynamic))if(e.startsWith(s+"/")){const t="/"+e.slice(s.length).split("/").splice(2).join("/");a.push(..._matchRoutes(t,c))}const c=t.static.get(e);return c&&a.push(c),a.filter(Boolean)}function _sortRoutesMap(e){return[...e.entries()].sort((e,t)=>e[0].length-t[0].length)}function _routerNodeToTable(e,t){const s={static:new Map,wildcard:new Map,dynamic:new Map};return function _addNode(e,t){if(e)if(t.type!==W||e.includes("*")||e.includes(":")){if(t.type===V)s.wildcard.set(e.replace("/**",""),t.data);else if(t.type===Q){const a=_routerNodeToTable("",t);return t.data&&a.static.set("/",t.data),void s.dynamic.set(e.replace(/\/\*|\/:\w+/,""),a)}}else t.data&&s.static.set(e,t.data);for(const[s,a]of t.children.entries())_addNode(`${e}/${s}`.replace("//","/"),a)}(e,t),s}function isPlainObject$2(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function _defu$1(e,t,s=".",a){if(!isPlainObject$2(t))return _defu$1(e,{},s,a);const c=Object.assign({},t);for(const t in e){if("__proto__"===t||"constructor"===t)continue;const d=e[t];null!=d&&(a&&a(c,t,d,s)||(Array.isArray(d)&&Array.isArray(c[t])?c[t]=[...d,...c[t]]:isPlainObject$2(d)&&isPlainObject$2(c[t])?c[t]=_defu$1(d,c[t],(s?`${s}.`:"")+t.toString(),a):c[t]=d))}return c}function createDefu$1(e){return(...t)=>t.reduce((t,s)=>_defu$1(t,s,"",e),{})}const J=createDefu$1(),G=createDefu$1((e,t,s)=>{if(void 0!==e[t]&&"function"==typeof s)return e[t]=s(e[t]),!0}),Y=globalThis.crypto,X=Y.subtle,randomUUID=()=>Y.randomUUID(),getRandomValues=e=>Y.getRandomValues(e),ee={randomUUID:randomUUID,getRandomValues:getRandomValues,subtle:X};var te={},ne=Array.from({length:64});for(let e=0,t="A".charCodeAt(0),s="Z".charCodeAt(0);e+t<=s;e++){const s=String.fromCharCode(e+t);te[s]=e,ne[e]=s}for(let e=0,t="a".charCodeAt(0),s="z".charCodeAt(0);e+t<=s;e++){const s=String.fromCharCode(e+t),a=e+26;te[s]=a,ne[a]=s}for(let e=0;e<10;e++){te[e.toString(10)]=e+52;const t=e.toString(10),s=e+52;te[t]=s,ne[s]=t}te["-"]=62,ne[62]="-",te._=63,ne[63]="_";var stringToBuffer=e=>(new TextEncoder).encode(e),base64urlDecode=e=>{const t=e+"=".repeat((4-e.length%4)%4);let s=t.length/4*3;t.endsWith("==")?s-=2:t.endsWith("=")&&s--;const a=new ArrayBuffer(s),c=new DataView(a);for(let e=0;e<t.length;e+=4){let s=0,a=0;for(let c=e,d=e+3;c<=d;c++)if("="===t[c])s>>=6;else{if(!(t[c]in te))throw new TypeError(`Invalid character ${t[c]} in base64 string.`);s|=te[t[c]]<<6*(d-c),a+=6}const d=e/4*3;s>>=a%8;const u=Math.floor(a/8);for(let e=0;e<u;e++){const t=8*(u-e-1);c.setUint8(d+e,(s&255<<t)>>t)}}return new Uint8Array(a)},base64urlEncode=e=>{const t="string"==typeof e?stringToBuffer(e):e;let s="";for(let e=0;e<t.length;e+=3){let a=0,c=0;for(let s=e,d=Math.min(e+3,t.length);s<d;s++)a|=t[s]<<8*(d-s-1),c+=8;const d=Math.ceil(c/6);a<<=6*d-c;for(let e=1;e<=d;e++){const t=6*(d-e);s+=ne[(a&63<<t)>>t]}}return s},oe={encryption:{saltBits:256,algorithm:"aes-256-cbc",iterations:1,minPasswordlength:32},integrity:{saltBits:256,algorithm:"sha256",iterations:1,minPasswordlength:32},ttl:0,timestampSkewSec:60,localtimeOffsetMsec:0},clone=e=>({...e,encryption:{...e.encryption},integrity:{...e.integrity}}),ie={"aes-128-ctr":{keyBits:128,ivBits:128,name:"AES-CTR"},"aes-256-cbc":{keyBits:256,ivBits:128,name:"AES-CBC"},sha256:{keyBits:256,name:"SHA-256"}},re="Fe26.2",randomBits=(e,t)=>{if(t<1)throw new Error("Invalid random bits count");return((e,t)=>{const s=new Uint8Array(t);return e.getRandomValues(s),s})(e,Math.ceil(t/8))},generateKey=async(e,t,s)=>{var a;if(!(null==t?void 0:t.length))throw new Error("Empty password");if(null==s||"object"!=typeof s)throw new Error("Bad options");if(!(s.algorithm in ie))throw new Error(`Unknown algorithm: ${s.algorithm}`);const c=ie[s.algorithm],d={},u=null!=(a=s.hmac)&&a,f=u?{name:"HMAC",hash:c.name}:{name:c.name},h=u?["sign","verify"]:["encrypt","decrypt"];if("string"==typeof t){if(t.length<s.minPasswordlength)throw new Error(`Password string too short (min ${s.minPasswordlength} characters required)`);let{salt:a=""}=s;if(!a){const{saltBits:t=0}=s;if(!t)throw new Error("Missing salt and saltBits options");const c=randomBits(e,t);a=[...new Uint8Array(c)].map(e=>e.toString(16).padStart(2,"0")).join("")}const u=await(async(e,t,s,a,c,d)=>{const u=stringToBuffer(t),f=await e.subtle.importKey("raw",u,{name:"PBKDF2"},!1,["deriveBits"]),h={name:"PBKDF2",hash:d,salt:stringToBuffer(s),iterations:a};return await e.subtle.deriveBits(h,f,8*c)})(e,t,a,s.iterations,c.keyBits/8,"SHA-1"),m=await e.subtle.importKey("raw",u,f,!1,h);d.key=m,d.salt=a}else{if(t.length<c.keyBits/8)throw new Error("Key buffer (password) too small");d.key=await e.subtle.importKey("raw",t,f,!1,h),d.salt=""}return s.iv?d.iv=s.iv:"ivBits"in c&&(d.iv=randomBits(e,c.ivBits)),d},getEncryptParams=(e,t,s)=>["aes-128-ctr"===e?{name:"AES-CTR",counter:t.iv,length:128}:{name:"AES-CBC",iv:t.iv},t.key,"string"==typeof s?stringToBuffer(s):s],decrypt=async(e,t,s,a)=>{const c=await generateKey(e,t,s),d=await e.subtle.decrypt(...getEncryptParams(s.algorithm,c,a));return u=new Uint8Array(d),(new TextDecoder).decode(u);var u},hmacWithPassword=async(e,t,s,a)=>{const c=await generateKey(e,t,{...s,hmac:!0}),d=stringToBuffer(a),u=await e.subtle.sign({name:"HMAC"},c.key,d);return{digest:base64urlEncode(new Uint8Array(u)),salt:c.salt}},normalizePassword=e=>"string"==typeof e||e instanceof Uint8Array?{encryption:e,integrity:e}:"secret"in e?{id:e.id,encryption:e.secret,integrity:e.secret}:{id:e.id,encryption:e.encryption,integrity:e.integrity},seal=async(e,t,s,a)=>{if(!s)throw new Error("Empty password");const c=clone(a),d=Date.now()+(c.localtimeOffsetMsec||0),u=JSON.stringify(t),f=normalizePassword(s),{id:h="",encryption:m,integrity:g}=f;if(h&&!/^\w+$/.test(h))throw new Error("Invalid password id");const{encrypted:x,key:_}=await(async(e,t,s,a)=>{const c=await generateKey(e,t,s),d=await e.subtle.encrypt(...getEncryptParams(s.algorithm,c,a));return{encrypted:new Uint8Array(d),key:c}})(e,m,c.encryption,u),j=base64urlEncode(new Uint8Array(x)),C=base64urlEncode(_.iv),R=c.ttl?d+c.ttl:"",E=`${re}*${h}*${_.salt}*${C}*${j}*${R}`,S=await hmacWithPassword(e,g,c.integrity,E);return`${E}*${S.salt}*${S.digest}`};let se=10;const ae=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),inspect=(e,t)=>e,ce=Error,le=Error,de=Error,pe=Error,ue=Error,fe=Symbol.for("nodejs.rejection"),he=Symbol.for("kCapture"),me=Symbol.for("events.errorMonitor"),ge=Symbol.for("shapeMode"),ye=Symbol.for("events.maxEventTargetListeners"),ve=Symbol.for("kEnhanceStackBeforeInspector"),be=Symbol.for("nodejs.watermarkData"),we=Symbol.for("kEventEmitter"),xe=Symbol.for("kAsyncResource"),_e=Symbol.for("kFirstEventParam"),je=Symbol.for("kResistStopPropagation"),ke=Symbol.for("events.maxEventTargetListenersWarned");class _EventEmitter{_events=void 0;_eventsCount=0;_maxListeners=se;[he]=!1;[ge]=!1;static captureRejectionSymbol=fe;static errorMonitor=me;static kMaxEventTargetListeners=ye;static kMaxEventTargetListenersWarned=ke;static usingDomains=!1;static get on(){return on$1}static get once(){return once$1}static get getEventListeners(){return getEventListeners}static get getMaxListeners(){return getMaxListeners$1}static get addAbortListener(){return addAbortListener}static get EventEmitterAsyncResource(){return EventEmitterAsyncResource}static get EventEmitter(){return _EventEmitter}static setMaxListeners(e=se,...t){if(0===t.length)se=e;else for(const s of t)if(isEventTarget(s))s[ye]=e,s[ke]=!1;else{if("function"!=typeof s.setMaxListeners)throw new de("eventTargets",["EventEmitter","EventTarget"],s);s.setMaxListeners(e)}}static listenerCount(e,t){if("function"==typeof e.listenerCount)return e.listenerCount(t);_EventEmitter.prototype.listenerCount.call(e,t)}static init(){throw new Error("EventEmitter.init() is not implemented.")}static get captureRejections(){return this[he]}static set captureRejections(e){this[he]=e}static get defaultMaxListeners(){return se}static set defaultMaxListeners(e){se=e}constructor(e){void 0===this._events||this._events===Object.getPrototypeOf(this)._events?(this._events={__proto__:null},this._eventsCount=0,this[ge]=!1):this[ge]=!0,this._maxListeners=this._maxListeners||void 0,this[he]=e?.captureRejections?Boolean(e.captureRejections):_EventEmitter.prototype[he]}setMaxListeners(e){return this._maxListeners=e,this}getMaxListeners(){return _getMaxListeners(this)}emit(e,...t){let s="error"===e;const a=this._events;if(void 0!==a)s&&void 0!==a[me]&&this.emit(me,...t),s=s&&void 0===a.error;else if(!s)return!1;if(s){let e,s;if(t.length>0&&(e=t[0]),e instanceof Error){try{const t={};Error.captureStackTrace?.(t,_EventEmitter.prototype.emit),Object.defineProperty(e,ve,{__proto__:null,value:Function.prototype.bind(enhanceStackTrace,this,e,t),configurable:!0})}catch{}throw e}try{s=inspect(e)}catch{s=e}const a=new le(s);throw a.context=e,a}const c=a[e];if(void 0===c)return!1;if("function"==typeof c){const s=c.apply(this,t);null!=s&&addCatch(this,s,e,t)}else{const s=c.length,a=arrayClone(c);for(let c=0;c<s;++c){const s=a[c].apply(this,t);null!=s&&addCatch(this,s,e,t)}}return!0}addListener(e,t){return _addListener(this,e,t,!1),this}on(e,t){return this.addListener(e,t)}prependListener(e,t){return _addListener(this,e,t,!0),this}once(e,t){return this.on(e,_onceWrap(this,e,t)),this}prependOnceListener(e,t){return this.prependListener(e,_onceWrap(this,e,t)),this}removeListener(e,t){const s=this._events;if(void 0===s)return this;const a=s[e];if(void 0===a)return this;if(a===t||a.listener===t)this._eventsCount-=1,this[ge]?s[e]=void 0:0===this._eventsCount?this._events={__proto__:null}:(delete s[e],s.removeListener&&this.emit("removeListener",e,a.listener||t));else if("function"!=typeof a){let c=-1;for(let e=a.length-1;e>=0;e--)if(a[e]===t||a[e].listener===t){c=e;break}if(c<0)return this;0===c?a.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(a,c),1===a.length&&(s[e]=a[0]),void 0!==s.removeListener&&this.emit("removeListener",e,t)}return this}off(e,t){return this.removeListener(e,t)}removeAllListeners(e){const t=this._events;if(void 0===t)return this;if(void 0===t.removeListener)return 0===arguments.length?(this._events={__proto__:null},this._eventsCount=0):void 0!==t[e]&&(0===--this._eventsCount?this._events={__proto__:null}:delete t[e]),this[ge]=!1,this;if(0===arguments.length){for(const e of Reflect.ownKeys(t))"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={__proto__:null},this._eventsCount=0,this[ge]=!1,this}const s=t[e];if("function"==typeof s)this.removeListener(e,s);else if(void 0!==s)for(let t=s.length-1;t>=0;t--)this.removeListener(e,s[t]);return this}listeners(e){return _listeners(this,e,!0)}rawListeners(e){return _listeners(this,e,!1)}eventNames(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}listenerCount(e,t){const s=this._events;if(void 0!==s){const a=s[e];if("function"==typeof a)return null!=t?t===a||t===a.listener?1:0:1;if(void 0!==a){if(null!=t){let e=0;for(let s=0,c=a.length;s<c;s++)a[s]!==t&&a[s].listener!==t||e++;return e}return a.length}}return 0}}class EventEmitterAsyncResource extends _EventEmitter{constructor(e){let t;"string"==typeof e?(t=e,e=void 0):t=e?.name||new.target.name,super(e),this[xe]=new EventEmitterReferencingAsyncResource(this,t,e)}emit(e,...t){if(void 0===this[xe])throw new ce("EventEmitterAsyncResource");const{asyncResource:s}=this;return Array.prototype.unshift(t,super.emit,this,e),Reflect.apply(s.runInAsyncScope,s,t)}emitDestroy(){if(void 0===this[xe])throw new ce("EventEmitterAsyncResource");this.asyncResource.emitDestroy()}get asyncId(){if(void 0===this[xe])throw new ce("EventEmitterAsyncResource");return this.asyncResource.asyncId()}get triggerAsyncId(){if(void 0===this[xe])throw new ce("EventEmitterAsyncResource");return this.asyncResource.triggerAsyncId()}get asyncResource(){if(void 0===this[xe])throw new ce("EventEmitterAsyncResource");return this[xe]}}class EventEmitterReferencingAsyncResource extends e{constructor(e,t,s){super(t,s),this[we]=e}get eventEmitter(){if(void 0===this[we])throw new ce("EventEmitterReferencingAsyncResource");return this[we]}}const on$1=function(e,t,s={}){const a=s.signal;if(a?.aborted)throw new pe(void 0,{cause:a?.reason});const c=s.highWaterMark??s.highWatermark??Number.MAX_SAFE_INTEGER,d=s.lowWaterMark??s.lowWatermark??1,u=new FixedQueue,f=new FixedQueue;let h=!1,m=null,g=!1,x=0;const _=Object.setPrototypeOf({next(){if(x){const t=u.shift();return x--,h&&x<d&&(e.resume?.(),h=!1),Promise.resolve(createIterResult(t,!1))}if(m){const e=Promise.reject(m);return m=null,e}return g?closeHandler():new Promise(function(e,t){f.push({resolve:e,reject:t})})},return:()=>closeHandler(),throw(e){if(!(e&&e instanceof Error))throw new de("EventEmitter.AsyncIterator","Error",e);errorHandler(e)},[Symbol.asyncIterator](){return this},[be]:{get size(){return x},get low(){return d},get high(){return c},get isPaused(){return h}}},ae),{addEventListener:j,removeAll:C}=function(){const e=[];return{addEventListener(t,s,a,c){eventTargetAgnosticAddListener(t,s,a,c),Array.prototype.push(e,[t,s,a,c])},removeAll(){for(;e.length>0;)Reflect.apply(eventTargetAgnosticRemoveListener,void 0,e.pop())}}}();j(e,t,s[_e]?eventHandler:function(...e){return eventHandler(e)}),"error"!==t&&"function"==typeof e.on&&j(e,"error",errorHandler);const R=s?.close;if(R?.length)for(const t of R)j(e,t,closeHandler);const E=a?addAbortListener(a,function(){errorHandler(new pe(void 0,{cause:a?.reason}))}):null;return _;function eventHandler(t){f.isEmpty()?(x++,!h&&x>c&&(h=!0,e.pause?.()),u.push(t)):f.shift().resolve(createIterResult(t,!1))}function errorHandler(e){f.isEmpty()?m=e:f.shift().reject(e),closeHandler()}function closeHandler(){E?.[Symbol.dispose](),C(),g=!0;const e=createIterResult(void 0,!0);for(;!f.isEmpty();)f.shift().resolve(e);return Promise.resolve(e)}},once$1=async function(e,t,s={}){const a=s?.signal;if(a?.aborted)throw new pe(void 0,{cause:a?.reason});return new Promise((s,c)=>{const errorListener=s=>{"function"==typeof e.removeListener&&e.removeListener(t,resolver),null!=a&&eventTargetAgnosticRemoveListener(a,"abort",abortListener),c(s)},resolver=(...t)=>{"function"==typeof e.removeListener&&e.removeListener("error",errorListener),null!=a&&eventTargetAgnosticRemoveListener(a,"abort",abortListener),s(t)};function abortListener(){eventTargetAgnosticRemoveListener(e,t,resolver),eventTargetAgnosticRemoveListener(e,"error",errorListener),c(new pe(void 0,{cause:a?.reason}))}eventTargetAgnosticAddListener(e,t,resolver,{__proto__:null,once:!0,[je]:!0}),"error"!==t&&"function"==typeof e.once&&e.once("error",errorListener),null!=a&&eventTargetAgnosticAddListener(a,"abort",abortListener,{__proto__:null,once:!0,[je]:!0})})},addAbortListener=function(e,t){if(void 0===e)throw new de("signal","AbortSignal",e);let s;return e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[je]:!0}),s=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[Symbol.dispose](){s?.()}}},getEventListeners=function(e,t){if("function"==typeof e.listeners)return e.listeners(t);if(isEventTarget(e)){const s=e[kEvents].get(t),a=[];let c=s?.next;for(;void 0!==c?.listener;){const e=c.listener?.deref?c.listener.deref():c.listener;a.push(e),c=c.next}return a}throw new de("emitter",["EventEmitter","EventTarget"],e)},getMaxListeners$1=function(e){if("function"==typeof e?.getMaxListeners)return _getMaxListeners(e);if(e?.[ye])return e[ye];throw new de("emitter",["EventEmitter","EventTarget"],e)},Ce=2047;class FixedCircularBuffer{bottom;top;list;next;constructor(){this.bottom=0,this.top=0,this.list=new Array(2048),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&Ce)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&Ce}shift(){const e=this.list[this.bottom];return void 0===e?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&Ce,e)}}class FixedQueue{head;tail;constructor(){this.head=this.tail=new FixedCircularBuffer}isEmpty(){return this.head.isEmpty()}push(e){this.head.isFull()&&(this.head=this.head.next=new FixedCircularBuffer),this.head.push(e)}shift(){const e=this.tail,t=e.shift();return e.isEmpty()&&null!==e.next&&(this.tail=e.next,e.next=null),t}}function isEventTarget(e){return"function"==typeof e?.addEventListener}function addCatch(e,t,s,a){if(e[he])try{const c=t.then;"function"==typeof c&&c.call(t,void 0,function(t){setTimeout(emitUnhandledRejectionOrErr,0,e,t,s,a)})}catch(t){e.emit("error",t)}}function emitUnhandledRejectionOrErr(e,t,s,a){if("function"==typeof e[fe])e[fe](t,s,...a);else{const s=e[he];try{e[he]=!1,e.emit("error",t)}finally{e[he]=s}}}function _getMaxListeners(e){return void 0===e._maxListeners?se:e._maxListeners}function enhanceStackTrace(e,t){let s="";try{const{name:e}=this.constructor;"EventEmitter"!==e&&(s=` on ${e} instance`)}catch{}const a=`\nEmitted 'error' event${s} at:\n`,c=(t.stack||"").split("\n").slice(1);return e.stack+a+c.join("\n")}function _addListener(e,t,s,a){let c,d,u;if(d=e._events,void 0===d?(d=e._events={__proto__:null},e._eventsCount=0):(void 0!==d.newListener&&(e.emit("newListener",t,s.listener??s),d=e._events),u=d[t]),void 0===u)d[t]=s,++e._eventsCount;else if("function"==typeof u?u=d[t]=a?[s,u]:[u,s]:a?u.unshift(s):u.push(s),c=_getMaxListeners(e),c>0&&u.length>c&&!u.warned){u.warned=!0;const s=new ue(`Possible EventEmitter memory leak detected. ${u.length} ${String(t)} listeners added to ${inspect(e)}. MaxListeners is ${c}. Use emitter.setMaxListeners() to increase limit`,{name:"MaxListenersExceededWarning",emitter:e,type:t,count:u.length});console.warn(s)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,s){const a={fired:!1,wrapFn:void 0,target:e,type:t,listener:s},c=onceWrapper.bind(a);return c.listener=s,a.wrapFn=c,c}function _listeners(e,t,s){const a=e._events;if(void 0===a)return[];const c=a[t];return void 0===c?[]:"function"==typeof c?s?[c.listener||c]:[c]:s?function(e){const t=arrayClone(e);for(let e=0;e<t.length;++e){const s=t[e].listener;"function"==typeof s&&(t[e]=s)}return t}(c):arrayClone(c)}function arrayClone(e){switch(e.length){case 2:return[e[0],e[1]];case 3:return[e[0],e[1],e[2]];case 4:return[e[0],e[1],e[2],e[3]];case 5:return[e[0],e[1],e[2],e[3],e[4]];case 6:return[e[0],e[1],e[2],e[3],e[4],e[5]]}return Array.prototype.slice.call(e)}function createIterResult(e,t){return{value:e,done:t}}function eventTargetAgnosticRemoveListener(e,t,s,a){if("function"==typeof e.removeListener)e.removeListener(t,s);else{if("function"!=typeof e.removeEventListener)throw new de("emitter","EventEmitter",e);e.removeEventListener(t,s,a)}}function eventTargetAgnosticAddListener(e,t,s,a){if("function"==typeof e.on)a?.once?e.once(t,s):e.on(t,s);else{if("function"!=typeof e.addEventListener)throw new de("emitter","EventEmitter",e);e.addEventListener(t,s,a)}}function o(e){throw new Error(`${e} is not implemented yet!`)}class i extends _EventEmitter{__unenv__={};readableEncoding=null;readableEnded=!0;readableFlowing=!1;readableHighWaterMark=0;readableLength=0;readableObjectMode=!1;readableAborted=!1;readableDidRead=!1;closed=!1;errored=null;readable=!1;destroyed=!1;static from(e,t){return new i(t)}constructor(e){super()}_read(e){}read(e){}setEncoding(e){return this}pause(){return this}resume(){return this}isPaused(){return!0}unpipe(e){return this}unshift(e,t){}wrap(e){return this}push(e,t){return!1}_destroy(e,t){this.removeAllListeners()}destroy(e){return this.destroyed=!0,this._destroy(e),this}pipe(e,t){return{}}compose(e,t){throw new Error("Method not implemented.")}[Symbol.asyncDispose](){return this.destroy(),Promise.resolve()}async*[Symbol.asyncIterator](){throw o("Readable.asyncIterator")}iterator(e){throw o("Readable.iterator")}map(e,t){throw o("Readable.map")}filter(e,t){throw o("Readable.filter")}forEach(e,t){throw o("Readable.forEach")}reduce(e,t,s){throw o("Readable.reduce")}find(e,t){throw o("Readable.find")}findIndex(e,t){throw o("Readable.findIndex")}some(e,t){throw o("Readable.some")}toArray(e){throw o("Readable.toArray")}every(e,t){throw o("Readable.every")}flatMap(e,t){throw o("Readable.flatMap")}drop(e,t){throw o("Readable.drop")}take(e,t){throw o("Readable.take")}asIndexedPairs(e){throw o("Readable.asIndexedPairs")}}let Re=class extends _EventEmitter{__unenv__={};writable=!0;writableEnded=!1;writableFinished=!1;writableHighWaterMark=0;writableLength=0;writableObjectMode=!1;writableCorked=0;closed=!1;errored=null;writableNeedDrain=!1;writableAborted=!1;destroyed=!1;_data;_encoding="utf8";constructor(e){super()}pipe(e,t){return{}}_write(e,t,s){if(this.writableEnded)s&&s();else{if(void 0===this._data)this._data=e;else{const s="string"==typeof this._data?_.from(this._data,this._encoding||t||"utf8"):this._data,a="string"==typeof e?_.from(e,t||this._encoding||"utf8"):e;this._data=_.concat([s,a])}this._encoding=t,s&&s()}}_writev(e,t){}_destroy(e,t){}_final(e){}write(e,t,s){const a="string"==typeof t?this._encoding:"utf8",c="function"==typeof t?t:"function"==typeof s?s:void 0;return this._write(e,a,c),!0}setDefaultEncoding(e){return this}end(e,t,s){const a="function"==typeof e?e:"function"==typeof t?t:"function"==typeof s?s:void 0;if(this.writableEnded)return a&&a(),this;const c=e===a?void 0:e;if(c){const e=t===a?void 0:t;this.write(c,e,a)}return this.writableEnded=!0,this.writableFinished=!0,this.emit("close"),this.emit("finish"),this}cork(){}uncork(){}destroy(e){return this.destroyed=!0,delete this._data,this.removeAllListeners(),this}compose(e,t){throw new Error("Method not implemented.")}[Symbol.asyncDispose](){return Promise.resolve()}};const Ee=class{allowHalfOpen=!0;_destroy;constructor(e=new i,t=new Re){Object.assign(this,e),Object.assign(this,t),this._destroy=function(...e){return function(...t){for(const s of e)s(...t)}}(e._destroy,t._destroy)}};const Se=(Object.assign(Ee.prototype,i.prototype),Object.assign(Ee.prototype,Re.prototype),Ee);class A extends Se{__unenv__={};bufferSize=0;bytesRead=0;bytesWritten=0;connecting=!1;destroyed=!1;pending=!1;localAddress="";localPort=0;remoteAddress="";remoteFamily="";remotePort=0;autoSelectFamilyAttemptedAddresses=[];readyState="readOnly";constructor(e){super()}write(e,t,s){return!1}connect(e,t,s){return this}end(e,t,s){return this}setEncoding(e){return this}pause(){return this}resume(){return this}setTimeout(e,t){return this}setNoDelay(e){return this}setKeepAlive(e,t){return this}address(){return{}}unref(){return this}ref(){return this}destroySoon(){this.destroy()}resetAndDestroy(){const e=new Error("ERR_SOCKET_CLOSED");return e.code="ERR_SOCKET_CLOSED",this.destroy(e),this}}class y extends i{aborted=!1;httpVersion="1.1";httpVersionMajor=1;httpVersionMinor=1;complete=!0;connection;socket;headers={};trailers={};method="GET";url="/";statusCode=200;statusMessage="";closed=!1;errored=null;readable=!1;constructor(e){super(),this.socket=this.connection=e||new A}get rawHeaders(){const e=this.headers,t=[];for(const s in e)if(Array.isArray(e[s]))for(const a of e[s])t.push(s,a);else t.push(s,e[s]);return t}get rawTrailers(){return[]}setTimeout(e,t){return this}get headersDistinct(){return p(this.headers)}get trailersDistinct(){return p(this.trailers)}}function p(e){const t={};for(const[s,a]of Object.entries(e))s&&(t[s]=(Array.isArray(a)?a:[a]).filter(Boolean));return t}class w extends Re{statusCode=200;statusMessage="";upgrading=!1;chunkedEncoding=!1;shouldKeepAlive=!1;useChunkedEncodingByDefault=!1;sendDate=!1;finished=!1;headersSent=!1;strictContentLength=!1;connection=null;socket=null;req;_headers={};constructor(e){super(),this.req=e}assignSocket(e){e._httpMessage=this,this.socket=e,this.connection=e,this.emit("socket",e),this._flush()}_flush(){this.flushHeaders()}detachSocket(e){}writeContinue(e){}writeHead(e,t,s){e&&(this.statusCode=e),"string"==typeof t&&(this.statusMessage=t,t=void 0);const a=s||t;if(a&&!Array.isArray(a))for(const e in a)this.setHeader(e,a[e]);return this.headersSent=!0,this}writeProcessing(){}setTimeout(e,t){return this}appendHeader(e,t){e=e.toLowerCase();const s=this._headers[e],a=[...Array.isArray(s)?s:[s],...Array.isArray(t)?t:[t]].filter(Boolean);return this._headers[e]=a.length>1?a:a[0],this}setHeader(e,t){return this._headers[e.toLowerCase()]=t,this}setHeaders(e){for(const[t,s]of Object.entries(e))this.setHeader(t,s);return this}getHeader(e){return this._headers[e.toLowerCase()]}getHeaders(){return this._headers}getHeaderNames(){return Object.keys(this._headers)}hasHeader(e){return e.toLowerCase()in this._headers}removeHeader(e){delete this._headers[e.toLowerCase()]}addTrailers(e){}flushHeaders(){}writeEarlyHints(e,t){"function"==typeof t&&t()}}const Te=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function v(e={}){if(e instanceof Headers)return e;const t=new Headers;for(const[s,a]of Object.entries(e))if(void 0!==a){if(Array.isArray(a)){for(const e of a)t.append(s,String(e));continue}t.set(s,String(a))}return t}const Ie=new Set([101,204,205,304]);async function b(e,t){const s=new y,a=new w(s);let c;if(s.url=t.url?.toString()||"/",!s.url.startsWith("/")){const e=new URL(s.url);c=e.host,s.url=e.pathname+e.search+e.hash}s.method=t.method||"GET",s.headers=function(e={}){const t=new Te,s=Array.isArray(e)||function(e){return"function"==typeof e?.entries}(e)?e:Object.entries(e);for(const[e,a]of s)if(a){if(void 0===t[e]){t[e]=a;continue}t[e]=[...Array.isArray(t[e])?t[e]:[t[e]],...Array.isArray(a)?a:[a]]}return t}(t.headers||{}),s.headers.host||(s.headers.host=t.host||c||"localhost"),s.connection.encrypted=s.connection.encrypted||"https"===t.protocol,s.body=t.body||null,s.__unenv__=t.context,await e(s,a);let d=a._data;(Ie.has(a.statusCode)||"HEAD"===s.method.toUpperCase())&&(d=null,delete a._headers["content-length"]);const u={status:a.statusCode,statusText:a.statusMessage,headers:a._headers,body:d};return s.destroy(),a.destroy(),u}function hasProp(e,t){try{return t in e}catch{return!1}}class H3Error extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,t={}){super(e,t),t.cause&&!this.cause&&(this.cause=t.cause)}toJSON(){const e={message:this.message,statusCode:sanitizeStatusCode(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=sanitizeStatusMessage(this.statusMessage)),void 0!==this.data&&(e.data=this.data),e}}function createError$1(e){if("string"==typeof e)return new H3Error(e);if(isError(e))return e;const t=new H3Error(e.message??e.statusMessage??"",{cause:e.cause||e});if(hasProp(e,"stack"))try{Object.defineProperty(t,"stack",{get:()=>e.stack})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=sanitizeStatusCode(e.statusCode,t.statusCode):e.status&&(t.statusCode=sanitizeStatusCode(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const e=t.statusMessage;sanitizeStatusMessage(t.statusMessage)!==e&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return void 0!==e.fatal&&(t.fatal=e.fatal),void 0!==e.unhandled&&(t.unhandled=e.unhandled),t}function isError(e){return!0===e?.constructor?.__h3_error__}function process(e,t){const s={},a=t.find(e=>"content-disposition"===e[0])?.[1]||"";for(const e of a.split(";")){const t=e.split("=");if(2!==t.length)continue;const a=(t[0]||"").trim();if("name"===a||"filename"===a){const e=(t[1]||"").trim().replace(/"/g,"");s[a]=_.from(e,"latin1").toString("utf8")}}const c=t.find(e=>"content-type"===e[0])?.[1]||"";return c&&(s.type=c),s.data=_.from(e),s}async function validateData(e,t){try{const s=await t(e);if(!1===s)throw createValidationError();return!0===s?e:s??e}catch(e){throw createValidationError(e)}}function createValidationError(e){throw createError$1({status:400,statusMessage:"Validation Error",message:e?.message||"Validation Error",data:e})}function getQuery(e){return getQuery$1(e.path||"")}function getValidatedQuery(e,t){return validateData(getQuery(e),t)}function getRouterParams(e,t={}){let s=e.context.params||{};if(t.decode){s={...s};for(const e in s)s[e]=decode$1(s[e])}return s}function getValidatedRouterParams(e,t,s={}){return validateData(getRouterParams(e,s),t)}function getRouterParam(e,t,s={}){return getRouterParams(e,s)[t]}function assertMethod(e,t,s){if(!function(e,t){if("string"==typeof t){if(e.method===t)return!0}else if(t.includes(e.method))return!0;return!1}(e,t))throw createError$1({statusCode:405,statusMessage:"HTTP method is not allowed."})}function getRequestHeaders(e){const t={};for(const s in e.node.req.headers){const a=e.node.req.headers[s];t[s]=Array.isArray(a)?a.filter(Boolean).join(", "):a}return t}function getRequestHeader(e,t){return getRequestHeaders(e)[t.toLowerCase()]}const Ae=getRequestHeader;function getRequestURL(e,t={}){const s=function(e,t={}){if(t.xForwardedHost){const t=e.node.req.headers["x-forwarded-host"],s=(t||"").split(",").shift()?.trim();if(s)return s}return e.node.req.headers.host||"localhost"}(e,t),a=function(e,t={}){return!1!==t.xForwardedProto&&"https"===e.node.req.headers["x-forwarded-proto"]||e.node.req.connection?.encrypted?"https":"http"}(e,t),c=(e.node.req.originalUrl||e.path).replace(/^[/\\]+/g,"/");return new URL(c,`${a}://${s}`)}const $e=Symbol.for("h3RawBody"),Be=Symbol.for("h3ParsedBody"),Oe=["PATCH","POST","PUT","DELETE"];function readRawBody(e,t="utf8"){assertMethod(e,Oe);const s=e._requestBody||e.web?.request?.body||e.node.req[$e]||e.node.req.rawBody||e.node.req.body;if(s){const e=Promise.resolve(s).then(e=>_.isBuffer(e)?e:"function"==typeof e.pipeTo?new Promise((t,s)=>{const a=[];e.pipeTo(new WritableStream({write(e){a.push(e)},close(){t(_.concat(a))},abort(e){s(e)}})).catch(s)}):"function"==typeof e.pipe?new Promise((t,s)=>{const a=[];e.on("data",e=>{a.push(e)}).on("end",()=>{t(_.concat(a))}).on("error",s)}):e.constructor===Object?_.from(JSON.stringify(e)):e instanceof URLSearchParams?_.from(e.toString()):e instanceof FormData?new Response(e).bytes().then(e=>_.from(e)):_.from(e));return t?e.then(e=>e.toString(t)):e}if(!Number.parseInt(e.node.req.headers["content-length"]||"")&&!String(e.node.req.headers["transfer-encoding"]??"").split(",").map(e=>e.trim()).filter(Boolean).includes("chunked"))return Promise.resolve(void 0);const a=e.node.req[$e]=new Promise((t,s)=>{const a=[];e.node.req.on("error",e=>{s(e)}).on("data",e=>{a.push(e)}).on("end",()=>{t(_.concat(a))})});return t?a.then(e=>e.toString(t)):a}async function readBody(e,t={}){const s=e.node.req;if(hasProp(s,Be))return s[Be];const a=s.headers["content-type"]||"",c=await readRawBody(e);let d;return d="application/json"===a?_parseJSON(c,t.strict??!0):a.startsWith("application/x-www-form-urlencoded")?function(e){const t=new URLSearchParams(e),s=Object.create(null);for(const[e,a]of t.entries())hasProp(s,e)?(Array.isArray(s[e])||(s[e]=[s[e]]),s[e].push(a)):s[e]=a;return s}(c):a.startsWith("text/")?c:_parseJSON(c,t.strict??!1),s[Be]=d,d}async function readValidatedBody(e,t){return validateData(await readBody(e,{strict:!0}),t)}async function readMultipartFormData(e){const t=getRequestHeader(e,"content-type");if(!t||!t.startsWith("multipart/form-data"))return;const s=t.match(/boundary=([^;]*)(;|$)/i)?.[1];if(!s)return;const a=await readRawBody(e,!1);return a?function(e,t){let s="",a=0,c=[];const d=[];let u=[];for(let f=0;f<e.length;f++){const h=f>0?e[f-1]:null,m=e[f];10===m||13===m||(s+=String.fromCodePoint(m));const g=10===m&&13===h;if(0===a&&g)"--"+t===s&&(a=1),s="";else if(1===a&&g){if(s.length>0){const e=s.indexOf(":");if(e>0){const t=s.slice(0,e).toLowerCase(),a=s.slice(e+1).trim();u.push([t,a])}}else a=2,c=[];s=""}else if(2===a){if(s.length>t.length+4&&(s=""),"--"+t===s){const e=c.length-s.length,t=c.slice(0,e-1);d.push(process(t,u)),c=[],u=[],s="",a=3}else c.push(m);g&&(s="")}else 3===a&&g&&(a=1)}return d}(a,s):void 0}async function readFormData(e){return await function(e){return e.web?.request||new Request(getRequestURL(e),{duplex:"half",method:e.method,headers:e.headers,body:getRequestWebStream(e)})}(e).formData()}function getRequestWebStream(e){if(!Oe.includes(e.method))return;const t=e.web?.request?.body||e._requestBody;if(t)return t;return $e in e.node.req||"rawBody"in e.node.req||"body"in e.node.req||"__unenv__"in e.node.req?new ReadableStream({async start(t){const s=await readRawBody(e,!1);s&&t.enqueue(s),t.close()}}):new ReadableStream({start:t=>{e.node.req.on("data",e=>{t.enqueue(e)}),e.node.req.on("end",()=>{t.close()}),e.node.req.on("error",e=>{t.error(e)})}})}function _parseJSON(e="",t){if(e)try{return destr(e,{strict:t})}catch{throw createError$1({statusCode:400,statusMessage:"Bad Request",message:"Invalid JSON body"})}}function handleCacheHeaders(e,t){const s=["public",...t.cacheControls||[]];let a=!1;if(void 0!==t.maxAge&&s.push("max-age="+ +t.maxAge,"s-maxage="+ +t.maxAge),t.modifiedTime){const s=new Date(t.modifiedTime),c=e.node.req.headers["if-modified-since"];e.node.res.setHeader("last-modified",s.toUTCString()),c&&new Date(c)>=s&&(a=!0)}if(t.etag){e.node.res.setHeader("etag",t.etag);e.node.req.headers["if-none-match"]===t.etag&&(a=!0)}return e.node.res.setHeader("cache-control",s.join(", ")),!!a&&(e.node.res.statusCode=304,e.handled||e.node.res.end(),!0)}const Le={html:"text/html",json:"application/json"},Ue=/[^\u0009\u0020-\u007E]/g;function sanitizeStatusMessage(e=""){return e.replace(Ue,"")}function sanitizeStatusCode(e,t=200){return e?("string"==typeof e&&(e=Number.parseInt(e,10)),e<100||e>999?t:e):t}function getDistinctCookieKey(e,t){return[e,t.domain||"",t.path||"/"].join(";")}function getCookie(e,t){return function(e){return parse$2(e.node.req.headers.cookie||"")}(e)[t]}function setCookie(e,t,s,a={}){a.path||(a={path:"/",...a});const c=serialize$2(t,s,a),d=splitCookiesString(e.node.res.getHeader("set-cookie"));if(0===d.length)return void e.node.res.setHeader("set-cookie",c);const u=getDistinctCookieKey(t,a);e.node.res.removeHeader("set-cookie");for(const t of d){const s=parseSetCookie(t);getDistinctCookieKey(s.name,s)!==u&&e.node.res.appendHeader("set-cookie",t)}e.node.res.appendHeader("set-cookie",c)}function splitCookiesString(e){if(Array.isArray(e))return e.flatMap(e=>splitCookiesString(e));if("string"!=typeof e)return[];const t=[];let s,a,c,d,u,f=0;const skipWhitespace=()=>{for(;f<e.length&&/\s/.test(e.charAt(f));)f+=1;return f<e.length},notSpecialChar=()=>(a=e.charAt(f),"="!==a&&";"!==a&&","!==a);for(;f<e.length;){for(s=f,u=!1;skipWhitespace();)if(a=e.charAt(f),","===a){for(c=f,f+=1,skipWhitespace(),d=f;f<e.length&&notSpecialChar();)f+=1;f<e.length&&"="===e.charAt(f)?(u=!0,f=d,t.push(e.slice(s,c)),s=f):f=c+1}else f+=1;(!u||f>=e.length)&&t.push(e.slice(s))}return t}const Pe=void 0===C?e=>e():C;function send$1(e,t,s){return s&&function(e,t){t&&304!==e.node.res.statusCode&&!e.node.res.getHeader("content-type")&&e.node.res.setHeader("content-type",t)}(e,s),new Promise(s=>{Pe(()=>{e.handled||e.node.res.end(t),s()})})}function sendNoContent(e,t){if(e.handled)return;t||200===e.node.res.statusCode||(t=e.node.res.statusCode);const s=sanitizeStatusCode(t,204);204===s&&e.node.res.removeHeader("content-length"),e.node.res.writeHead(s),e.node.res.end()}function setResponseStatus(e,t,s){t&&(e.node.res.statusCode=sanitizeStatusCode(t,e.node.res.statusCode)),s&&(e.node.res.statusMessage=sanitizeStatusMessage(s))}function getResponseStatus(e){return e.node.res.statusCode}function getResponseStatusText(e){return e.node.res.statusMessage}function sendRedirect(e,t,s=302){e.node.res.statusCode=sanitizeStatusCode(s,e.node.res.statusCode),e.node.res.setHeader("location",t);return send$1(e,`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${t.replace(/"/g,"%22")}"></head></html>`,Le.html)}function setResponseHeaders(e,t){for(const[s,a]of Object.entries(t))e.node.res.setHeader(s,a)}const Ne=setResponseHeaders;function setResponseHeader(e,t,s){e.node.res.setHeader(t,s)}const ze=setResponseHeader;function appendResponseHeader(e,t,s){let a=e.node.res.getHeader(t);a?(Array.isArray(a)||(a=[a.toString()]),e.node.res.setHeader(t,[...a,s])):e.node.res.setHeader(t,s)}function sendStream(e,t){if(!t||"object"!=typeof t)throw new Error("[h3] Invalid stream provided.");if(e.node.res._data=t,!e.node.res.socket)return e._handled=!0,Promise.resolve();if(hasProp(t,"pipeTo")&&"function"==typeof t.pipeTo)return t.pipeTo(new WritableStream({write(t){e.node.res.write(t)}})).then(()=>{e.node.res.end()});if(hasProp(t,"pipe")&&"function"==typeof t.pipe)return new Promise((s,a)=>{t.pipe(e.node.res),t.on&&(t.on("end",()=>{e.node.res.end(),s()}),t.on("error",e=>{a(e)})),e.node.res.on("close",()=>{t.abort&&t.abort()})});throw new Error("[h3] Invalid or incompatible stream provided.")}function sendWebResponse(e,t){for(const[s,a]of t.headers)"set-cookie"===s?e.node.res.appendHeader(s,splitCookiesString(a)):e.node.res.setHeader(s,a);if(t.status&&(e.node.res.statusCode=sanitizeStatusCode(t.status,e.node.res.statusCode)),t.statusText&&(e.node.res.statusMessage=sanitizeStatusMessage(t.statusText)),t.redirected&&e.node.res.setHeader("location",t.url),t.body)return sendStream(e,t.body);e.node.res.end()}const Ze=new Set(["PATCH","POST","PUT","DELETE"]),Me=new Set(["transfer-encoding","accept-encoding","connection","keep-alive","upgrade","expect","host","accept"]);async function proxyRequest(e,t,s={}){let a,c;Ze.has(e.method)&&(s.streamRequest?(a=getRequestWebStream(e),c="half"):a=await readRawBody(e,!1).catch(()=>{}));const d=s.fetchOptions?.method||e.method,u=function(e,...t){const s=t.filter(Boolean);if(0===s.length)return e;const a=new Headers(e);for(const e of s){const t=Array.isArray(e)?e:"function"==typeof e.entries?e.entries():Object.entries(e);for(const[e,s]of t)void 0!==s&&a.set(e,s)}return a}(getProxyRequestHeaders(e,{host:t.startsWith("/")}),s.fetchOptions?.headers,s.headers);return async function(e,t,s={}){let a;try{a=await _getFetch(s.fetch)(t,{headers:s.headers,ignoreResponseError:!0,...s.fetchOptions})}catch(e){throw createError$1({status:502,statusMessage:"Bad Gateway",cause:e})}e.node.res.statusCode=sanitizeStatusCode(a.status,e.node.res.statusCode),e.node.res.statusMessage=sanitizeStatusMessage(a.statusText);const c=[];for(const[t,s]of a.headers.entries())"content-encoding"!==t&&"content-length"!==t&&("set-cookie"!==t?e.node.res.setHeader(t,s):c.push(...splitCookiesString(s)));c.length>0&&e.node.res.setHeader("set-cookie",c.map(e=>(s.cookieDomainRewrite&&(e=rewriteCookieProperty(e,s.cookieDomainRewrite,"domain")),s.cookiePathRewrite&&(e=rewriteCookieProperty(e,s.cookiePathRewrite,"path")),e)));s.onResponse&&await s.onResponse(e,a);if(void 0!==a._data)return a._data;if(e.handled)return;if(!1===s.sendStream){const t=new Uint8Array(await a.arrayBuffer());return e.node.res.end(t)}if(a.body)for await(const t of a.body)e.node.res.write(t);return e.node.res.end()}(e,t,{...s,fetchOptions:{method:d,body:a,duplex:c,...s.fetchOptions,headers:u}})}function getProxyRequestHeaders(e,t){const s=Object.create(null),a=getRequestHeaders(e);for(const e in a)(!Me.has(e)||"host"===e&&t?.host)&&(s[e]=a[e]);return s}function fetchWithEvent(e,t,s,a){return _getFetch(a?.fetch)(t,{...s,context:s?.context||e.context,headers:{...getProxyRequestHeaders(e,{host:"string"==typeof t&&t.startsWith("/")}),...s?.headers}})}function _getFetch(e){if(e)return e;if(globalThis.fetch)return globalThis.fetch;throw new Error("fetch is not available. Try importing `node-fetch-native/polyfill` for Node.js.")}function rewriteCookieProperty(e,t,s){const a="string"==typeof t?{"*":t}:t;return e.replace(new RegExp(`(;\\s*${s}=)([^;]+)`,"gi"),(e,t,s)=>{let c;if(s in a)c=a[s];else{if(!("*"in a))return e;c=a["*"]}return c?t+c:""})}const He=Symbol("getSession"),qe="h3",Fe={path:"/",secure:!0,httpOnly:!0};async function useSession(e,t){const s=t.name||qe;await getSession(e,t);const a={get id(){return e.context.sessions?.[s]?.id},get data(){return e.context.sessions?.[s]?.data||{}},update:async s=>{if(!isEvent(e))throw new Error("[h3] Cannot update read-only session.");return await updateSession(e,t,s),a},clear:()=>{if(!isEvent(e))throw new Error("[h3] Cannot clear read-only session.");return function(e,t){const s=t.name||qe;e.context.sessions?.[s]&&delete e.context.sessions[s];setCookie(e,s,"",{...Fe,...t.cookie}),Promise.resolve()}(e,t),Promise.resolve(a)}};return a}async function getSession(e,t){const s=t.name||qe;e.context.sessions||(e.context.sessions=Object.create(null));const a=e.context.sessions[s];if(a)return a[He]||a;const c={id:"",createdAt:0,data:Object.create(null)};let d;if(e.context.sessions[s]=c,!1!==t.sessionHeader){const a="string"==typeof t.sessionHeader?t.sessionHeader.toLowerCase():`x-${s.toLowerCase()}-session`,c=_getReqHeader(e,a);"string"==typeof c&&(d=c)}if(!d){const t=_getReqHeader(e,"cookie");t&&(d=parse$2(t+"")[s])}if(d){const a=async function(e,t,s){const a=await(async(e,t,s,a)=>{if(!s)throw new Error("Empty password");const c=clone(a),d=Date.now()+(c.localtimeOffsetMsec||0),u=t.split("*");if(8!==u.length)throw new Error("Incorrect number of sealed components");const f=u[0];let h=u[1];const m=u[2],g=u[3],x=u[4],_=u[5],j=u[6],C=u[7],R=`${f}*${h}*${m}*${g}*${x}*${_}`;if(re!==f)throw new Error("Wrong mac prefix");if(_){if(!/^\d+$/.test(_))throw new Error("Invalid expiration");if(Number.parseInt(_,10)<=d-1e3*c.timestampSkewSec)throw new Error("Expired seal")}let E="";if(h=h||"default","string"==typeof s||s instanceof Uint8Array)E=s;else{if(!(h in s))throw new Error(`Cannot find password: ${h}`);E=s[h]}E=normalizePassword(E);const S=c.integrity;if(S.salt=j,!((e,t)=>{let s=e.length===t.length?0:1;s&&(t=e);for(let a=0;a<e.length;a+=1)s|=e.charCodeAt(a)^t.charCodeAt(a);return 0===s})((await hmacWithPassword(e,E.integrity,S,R)).digest,C))throw new Error("Bad hmac value");const T=base64urlDecode(x),I=c.encryption;I.salt=m,I.iv=base64urlDecode(g);const $=await decrypt(e,E.encryption,I,T);return $?JSON.parse($):null})(t.crypto||ee,s,t.password,{...oe,ttl:t.maxAge?1e3*t.maxAge:0,...t.seal});if(t.maxAge){if(Date.now()-(a.createdAt||Number.NEGATIVE_INFINITY)>1e3*t.maxAge)throw new Error("Session expired!")}return a}(0,t,d).catch(()=>{}).then(t=>(Object.assign(c,t),delete e.context.sessions[s][He],c));e.context.sessions[s][He]=a,await a}if(!c.id){if(!isEvent(e))throw new Error("Cannot initialize a new session. Make sure using `useSession(event)` in main handler.");c.id=t.generateId?.()??(t.crypto||ee).randomUUID(),c.createdAt=Date.now(),await updateSession(e,t)}return c}function _getReqHeader(e,t){return e.node?e.node?.req.headers[t]:e.request?e.request.headers?.get(t):e.headers?e.headers.get(t):void 0}async function updateSession(e,t,s){const a=t.name||qe,c=e.context.sessions?.[a]||await getSession(e,t);if("function"==typeof s&&(s=s(c.data)),s&&Object.assign(c.data,s),!1!==t.cookie){const s=await async function(e,t){const s=t.name||qe,a=e.context.sessions?.[s]||await getSession(e,t),c=await seal(t.crypto||ee,a,t.password,{...oe,ttl:t.maxAge?1e3*t.maxAge:0,...t.seal});return c}(e,t);setCookie(e,a,s,{...Fe,expires:t.maxAge?new Date(c.createdAt+1e3*t.maxAge):void 0,...t.cookie})}return c}class H3Event{__is_event__=!0;node;web;context={};_method;_path;_headers;_requestBody;_handled=!1;_onBeforeResponseCalled;_onAfterResponseCalled;constructor(e,t){this.node={req:e,res:t}}get method(){return this._method||(this._method=(this.node.req.method||"GET").toUpperCase()),this._method}get path(){return this._path||this.node.req.url||"/"}get headers(){return this._headers||(this._headers=function(e){const t=new Headers;for(const[s,a]of Object.entries(e))if(Array.isArray(a))for(const e of a)t.append(s,e);else a&&t.set(s,a);return t}(this.node.req.headers)),this._headers}get handled(){return this._handled||this.node.res.writableEnded||this.node.res.headersSent}respondWith(e){return Promise.resolve(e).then(e=>sendWebResponse(this,e))}toString(){return`[${this.method}] ${this.path}`}toJSON(){return this.toString()}get req(){return this.node.req}get res(){return this.node.res}}function isEvent(e){return hasProp(e,"__is_event__")}function createEvent(e,t){return new H3Event(e,t)}function defineEventHandler(e){if("function"==typeof e)return e.__is_handler__=!0,e;const t={onRequest:_normalizeArray(e.onRequest),onBeforeResponse:_normalizeArray(e.onBeforeResponse)},_handler=s=>async function(e,t,s){if(s.onRequest)for(const t of s.onRequest)if(await t(e),e.handled)return;const a=await t(e),c={body:a};if(s.onBeforeResponse)for(const t of s.onBeforeResponse)await t(e,c);return c.body}(s,e.handler,t);return _handler.__is_handler__=!0,_handler.__resolve__=e.handler.__resolve__,_handler.__websocket__=e.websocket,_handler}function _normalizeArray(e){return e?Array.isArray(e)?e:[e]:void 0}const De=defineEventHandler;function isEventHandler(e){return hasProp(e,"__is_handler__")}function toEventHandler(e,t,s){return isEventHandler(e)||console.warn("[h3] Implicit event handler conversion is deprecated. Use `eventHandler()` or `fromNodeMiddleware()` to define event handlers.",s&&"/"!==s?`\n     Route: ${s}`:"",`\n     Handler: ${e}`),e}const lazyEventHandler=function(e){let t,s;const resolveHandler=()=>s?Promise.resolve(s):(t||(t=Promise.resolve(e()).then(e=>{const t=e.default||e;if("function"!=typeof t)throw new TypeError("Invalid lazy handler result. It should be a function:",t);return s={handler:toEventHandler(e.default||e)},s})),t),a=De(e=>s?s.handler(e):resolveHandler().then(t=>t.handler(e)));return a.__resolve__=resolveHandler,a};function createApp(e={}){const t=[],s=function(e,t){const s=t.debug?2:void 0;return De(async a=>{a.node.req.originalUrl=a.node.req.originalUrl||a.node.req.url||"/";const c=a._path||a.node.req.url||"/";let d;t.onRequest&&await t.onRequest(a);for(const u of e){if(u.route.length>1){if(!c.startsWith(u.route))continue;d=c.slice(u.route.length)||"/"}else d=c;if(u.match&&!u.match(d,a))continue;a._path=d,a.node.req.url=d;const e=await u.handler(a),f=void 0===e?void 0:await e;if(void 0!==f){const e={body:f};return t.onBeforeResponse&&(a._onBeforeResponseCalled=!0,await t.onBeforeResponse(a,e)),await handleHandlerResponse(a,e.body,s),void(t.onAfterResponse&&(a._onAfterResponseCalled=!0,await t.onAfterResponse(a,e)))}if(a.handled)return void(t.onAfterResponse&&(a._onAfterResponseCalled=!0,await t.onAfterResponse(a,void 0)))}if(!a.handled)throw createError$1({statusCode:404,statusMessage:`Cannot find any path matching ${a.path||"/"}.`});t.onAfterResponse&&(a._onAfterResponseCalled=!0,await t.onAfterResponse(a,void 0))})}(t,e),a=function(e){return async t=>{let s;for(const a of e){if("/"===a.route&&!a.handler.__resolve__)continue;if(!t.startsWith(a.route))continue;if(s=t.slice(a.route.length)||"/",a.match&&!a.match(s,void 0))continue;let e={route:a.route,handler:a.handler};if(e.handler.__resolve__){const t=await e.handler.__resolve__(s);if(!t)continue;e={...e,...t,route:joinURL(e.route||"/",t.route||"/")}}return e}}}(t);s.__resolve__=a;const c=function(e){let t;return()=>(t||(t=e()),t)}(()=>{return t=a,{...e.websocket,async resolve(e){const s=e.request?.url||e.url||"/",{pathname:a}="string"==typeof s?parseURL(s):s,c=await t(a);return c?.handler?.__websocket__||{}}};var t}),d={use:(e,t,s)=>use(d,e,t,s),resolve:a,handler:s,stack:t,options:e,get websocket(){return c()}};return d}function use(e,t,s,a){if(Array.isArray(t))for(const c of t)use(e,c,s,a);else if(Array.isArray(s))for(const c of s)use(e,t,c,a);else"string"==typeof t?e.stack.push(normalizeLayer({...a,route:t,handler:s})):"function"==typeof t?e.stack.push(normalizeLayer({...s,handler:t})):e.stack.push(normalizeLayer({...t}));return e}function normalizeLayer(e){let t=e.handler;return t.handler&&(t=t.handler),e.lazy?t=lazyEventHandler(t):isEventHandler(t)||(t=toEventHandler(t,0,e.route)),{route:withoutTrailingSlash(e.route),match:e.match,handler:t}}function handleHandlerResponse(e,t,s){if(null===t)return sendNoContent(e);if(t){if(a=t,"undefined"!=typeof Response&&a instanceof Response)return sendWebResponse(e,t);if(function(e){if(!e||"object"!=typeof e)return!1;if("function"==typeof e.pipe){if("function"==typeof e._read)return!0;if("function"==typeof e.abort)return!0}return"function"==typeof e.pipeTo}(t))return sendStream(e,t);if(t.buffer)return send$1(e,t);if(t.arrayBuffer&&"function"==typeof t.arrayBuffer)return t.arrayBuffer().then(s=>send$1(e,_.from(s),t.type));if(t instanceof Error)throw createError$1(t);if("function"==typeof t.end)return!0}var a;const c=typeof t;if("string"===c)return send$1(e,t,Le.html);if("object"===c||"boolean"===c||"number"===c)return send$1(e,JSON.stringify(t,void 0,s),Le.json);if("bigint"===c)return send$1(e,t.toString(),Le.json);throw createError$1({statusCode:500,statusMessage:`[h3] Cannot send ${c} as response.`})}const Ke=["connect","delete","get","head","options","post","put","trace","patch"];function toNodeListener(e){return async function(t,s){const a=createEvent(t,s);try{await e.handler(a)}catch(t){const s=createError$1(t);if(isError(t)||(s.unhandled=!0),setResponseStatus(a,s.statusCode,s.statusMessage),e.options.onError&&await e.options.onError(s,a),a.handled)return;(s.unhandled||s.fatal)&&console.error("[h3]",s.fatal?"[fatal]":"[unhandled]",s),e.options.onBeforeResponse&&!a._onBeforeResponseCalled&&await e.options.onBeforeResponse(a,{body:s}),await function(e,t,s){if(e.handled)return;const a=isError(t)?t:createError$1(t),c={statusCode:a.statusCode,statusMessage:a.statusMessage,stack:[],data:a.data};if(s&&(c.stack=(a.stack||"").split("\n").map(e=>e.trim())),e.handled)return;setResponseStatus(e,Number.parseInt(a.statusCode),a.statusMessage),e.node.res.setHeader("content-type",Le.json),e.node.res.end(JSON.stringify(c,void 0,2))}(a,s,!!e.options.debug),e.options.onAfterResponse&&!a._onAfterResponseCalled&&await e.options.onAfterResponse(a,{body:s})}}}function flatHooks(e,t={},s){for(const a in e){const c=e[a],d=s?`${s}:${a}`:a;"object"==typeof c&&null!==c?flatHooks(c,t,d):"function"==typeof c&&(t[d]=c)}return t}const We={run:e=>e()},Ve=void 0!==console.createTask?console.createTask:()=>We;function serialTaskCaller(e,t){const s=t.shift(),a=Ve(s);return e.reduce((e,s)=>e.then(()=>a.run(()=>s(...t))),Promise.resolve())}function parallelTaskCaller(e,t){const s=t.shift(),a=Ve(s);return Promise.all(e.map(e=>a.run(()=>e(...t))))}function callEachWith(e,t){for(const s of[...e])s(t)}class Hookable{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,s={}){if(!e||"function"!=typeof t)return()=>{};const a=e;let c;for(;this._deprecatedHooks[e];)c=this._deprecatedHooks[e],e=c.to;if(c&&!s.allowDeprecated){let e=c.message;e||(e=`${a} hook has been deprecated`+(c.to?`, please use ${c.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let s,_function=(...e)=>("function"==typeof s&&s(),s=void 0,_function=void 0,t(...e));return s=this.hook(e,_function),s}removeHook(e,t){if(this._hooks[e]){const s=this._hooks[e].indexOf(t);-1!==s&&this._hooks[e].splice(s,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const s=this._hooks[e]||[];delete this._hooks[e];for(const t of s)this.hook(e,t)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=flatHooks(e),s=Object.keys(t).map(e=>this.hook(e,t[e]));return()=>{for(const e of s.splice(0,s.length))e()}}removeHooks(e){const t=flatHooks(e);for(const e in t)this.removeHook(e,t[e])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(serialTaskCaller,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(parallelTaskCaller,e,...t)}callHookWith(e,t,...s){const a=this._before||this._after?{name:t,args:s,context:{}}:void 0;this._before&&callEachWith(this._before,a);const c=e(t in this._hooks?[...this._hooks[t]]:[],s);return c instanceof Promise?c.finally(()=>{this._after&&a&&callEachWith(this._after,a)}):(this._after&&a&&callEachWith(this._after,a),c)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}function createHooks(){return new Hookable}const Qe=globalThis;class FetchError extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}const Je=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(e="GET"){return Je.has(e.toUpperCase())}const Ge=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Ye=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function resolveFetchOptions(e,t,s,a){const c=function(e,t,s){if(!t)return new s(e);const a=new s(t);if(e)for(const[t,c]of Symbol.iterator in e||Array.isArray(e)?e:new s(e))a.set(t,c);return a}(t?.headers??e?.headers,s?.headers,a);let d;return(s?.query||s?.params||t?.params||t?.query)&&(d={...s?.params,...s?.query,...t?.params,...t?.query}),{...s,...t,query:d,params:d,headers:c}}async function callHooks(e,t){if(t)if(Array.isArray(t))for(const s of t)await s(e);else await t(e)}const Xe=new Set([408,409,425,429,500,502,503,504]),et=new Set([101,204,205,304]);function createFetch(e={}){const{fetch:t=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:a=globalThis.AbortController}=e;async function onError(e){const t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:isPayloadMethod(e.options.method)?0:1;const s=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(s):Xe.has(s))){const s="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return s>0&&await new Promise(e=>setTimeout(e,s)),$fetchRaw(e.request,{...e.options,retry:t-1})}}const s=function(e){const t=e.error?.message||e.error?.toString()||"",s=e.request?.method||e.options?.method||"GET",a=e.request?.url||String(e.request)||"/",c=`[${s}] ${JSON.stringify(a)}`,d=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",u=new FetchError(`${c}: ${d}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(const t of["request","options","response"])Object.defineProperty(u,t,{get:()=>e[t]});for(const[t,s]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(u,t,{get:()=>e.response&&e.response[s]});return u}(e);throw Error.captureStackTrace&&Error.captureStackTrace(s,$fetchRaw),s}const $fetchRaw=async function(c,d={}){const u={request:c,options:resolveFetchOptions(c,d,e.defaults,s),response:void 0,error:void 0};if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&(await callHooks(u,u.options.onRequest),u.options.headers instanceof s||(u.options.headers=new s(u.options.headers||{}))),"string"==typeof u.request&&(u.options.baseURL&&(u.request=function(e,t){if(isEmptyURL(t)||hasProtocol(e))return e;const s=withoutTrailingSlash(t);return e.startsWith(s)?e:joinURL(s,e)}(u.request,u.options.baseURL)),u.options.query&&(u.request=withQuery(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&isPayloadMethod(u.options.method))if(function(e){if(void 0===e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&!(e instanceof FormData||e instanceof URLSearchParams)&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(u.options.body)){const e=u.options.headers.get("content-type");"string"!=typeof u.options.body&&(u.options.body="application/x-www-form-urlencoded"===e?new URLSearchParams(u.options.body).toString():JSON.stringify(u.options.body)),e||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")}else("pipeTo"in u.options.body&&"function"==typeof u.options.body.pipeTo||"function"==typeof u.options.body.pipe)&&("duplex"in u.options||(u.options.duplex="half"));let f;if(!u.options.signal&&u.options.timeout){const e=new a;f=setTimeout(()=>{const t=new Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},u.options.timeout),u.options.signal=e.signal}try{u.response=await t(u.request,u.options)}catch(e){return u.error=e,u.options.onRequestError&&await callHooks(u,u.options.onRequestError),await onError(u)}finally{f&&clearTimeout(f)}if((u.response.body||u.response._bodyInit)&&!et.has(u.response.status)&&"HEAD"!==u.options.method){const e=(u.options.parseResponse?"json":u.options.responseType)||function(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return Ye.test(t)?"json":"text/event-stream"===t?"stream":Ge.has(t)||t.startsWith("text/")?"text":"blob"}(u.response.headers.get("content-type")||"");switch(e){case"json":{const e=await u.response.text(),t=u.options.parseResponse||destr;u.response._data=t(e);break}case"stream":u.response._data=u.response.body||u.response._bodyInit;break;default:u.response._data=await u.response[e]()}}return u.options.onResponse&&await callHooks(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await callHooks(u,u.options.onResponseError),await onError(u)):u.response},$fetch=async function(e,t){return(await $fetchRaw(e,t))._data};return $fetch.raw=$fetchRaw,$fetch.native=(...e)=>t(...e),$fetch.create=(t={},s={})=>createFetch({...e,...s,defaults:{...e.defaults,...s.defaults,...t}}),$fetch}const tt=function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if(void 0!==Qe)return Qe;throw new Error("unable to locate global object")}(),nt=tt.fetch?(...e)=>tt.fetch(...e):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),ot=tt.Headers,it=tt.AbortController,rt=createFetch({fetch:nt,Headers:ot,AbortController:it}),st=rt;function asyncCall(e,...t){try{return(s=e(...t))&&"function"==typeof s.then?s:Promise.resolve(s)}catch(e){return Promise.reject(e)}var s}function stringify(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return stringify(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const at="base64:";function serializeRaw(e){return"string"==typeof e?e:at+function(e){if(globalThis.Buffer)return _.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function deserializeRaw(e){return"string"!=typeof e?e:e.startsWith(at)?function(e){if(globalThis.Buffer)return _.from(e,"base64");return Uint8Array.from(globalThis.atob(e),e=>e.codePointAt(0))}(e.slice(7)):e}const ct=["has","hasItem","get","getItem","getItemRaw","set","setItem","setItemRaw","del","remove","removeItem","getMeta","setMeta","removeMeta","getKeys","clear","mount","unmount"];function normalizeKey$2(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function joinKeys$1(...e){return normalizeKey$2(e.join(":"))}function normalizeBaseKey(e){return(e=normalizeKey$2(e))?e+":":""}const memory=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,s){e.set(t,s)},setItemRaw(t,s){e.set(t,s)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function createStorage(e={}){const t={mounts:{"":e.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},getMount=e=>{for(const s of t.mountpoints)if(e.startsWith(s))return{base:s,relativeKey:e.slice(s.length),driver:t.mounts[s]};return{base:"",relativeKey:e,driver:t.mounts[""]}},getMounts=(e,s)=>t.mountpoints.filter(t=>t.startsWith(e)||s&&e.startsWith(t)).map(s=>({relativeBase:e.length>s.length?e.slice(s.length):void 0,mountpoint:s,driver:t.mounts[s]})),onChange=(e,s)=>{if(t.watching){s=normalizeKey$2(s);for(const a of t.watchListeners)a(e,s)}},stopWatch=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},runBatch=(e,t,s)=>{const a=new Map,getBatch=e=>{let t=a.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},a.set(e.base,t)),t};for(const s of e){const e="string"==typeof s,a=normalizeKey$2(e?s:s.key),c=e?void 0:s.value,d=e||!s.options?t:{...t,...s.options},u=getMount(a);getBatch(u).items.push({key:a,value:c,relativeKey:u.relativeKey,options:d})}return Promise.all([...a.values()].map(e=>s(e))).then(e=>e.flat())},s={hasItem(e,t={}){e=normalizeKey$2(e);const{relativeKey:s,driver:a}=getMount(e);return asyncCall(a.hasItem,s,t)},getItem(e,t={}){e=normalizeKey$2(e);const{relativeKey:s,driver:a}=getMount(e);return asyncCall(a.getItem,s,t).then(e=>destr(e))},getItems:(e,t={})=>runBatch(e,t,e=>e.driver.getItems?asyncCall(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:joinKeys$1(e.base,t.key),value:destr(t.value)}))):Promise.all(e.items.map(t=>asyncCall(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:destr(e)}))))),getItemRaw(e,t={}){e=normalizeKey$2(e);const{relativeKey:s,driver:a}=getMount(e);return a.getItemRaw?asyncCall(a.getItemRaw,s,t):asyncCall(a.getItem,s,t).then(e=>deserializeRaw(e))},async setItem(e,t,a={}){if(void 0===t)return s.removeItem(e);e=normalizeKey$2(e);const{relativeKey:c,driver:d}=getMount(e);d.setItem&&(await asyncCall(d.setItem,c,stringify(t),a),d.watch||onChange("update",e))},async setItems(e,t){await runBatch(e,t,async e=>{if(e.driver.setItems)return asyncCall(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:stringify(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>asyncCall(e.driver.setItem,t.relativeKey,stringify(t.value),t.options)))})},async setItemRaw(e,t,a={}){if(void 0===t)return s.removeItem(e,a);e=normalizeKey$2(e);const{relativeKey:c,driver:d}=getMount(e);if(d.setItemRaw)await asyncCall(d.setItemRaw,c,t,a);else{if(!d.setItem)return;await asyncCall(d.setItem,c,serializeRaw(t),a)}d.watch||onChange("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=normalizeKey$2(e);const{relativeKey:s,driver:a}=getMount(e);a.removeItem&&(await asyncCall(a.removeItem,s,t),(t.removeMeta||t.removeMata)&&await asyncCall(a.removeItem,s+"$",t),a.watch||onChange("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=normalizeKey$2(e);const{relativeKey:s,driver:a}=getMount(e),c=Object.create(null);if(a.getMeta&&Object.assign(c,await asyncCall(a.getMeta,s,t)),!t.nativeOnly){const e=await asyncCall(a.getItem,s+"$",t).then(e=>destr(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(c,e))}return c},setMeta(e,t,s={}){return this.setItem(e+"$",t,s)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=normalizeBaseKey(e);const s=getMounts(e,!0);let a=[];const c=[];let d=!0;for(const e of s){e.driver.flags?.maxDepth||(d=!1);const s=await asyncCall(e.driver.getKeys,e.relativeBase,t);for(const t of s){const s=e.mountpoint+normalizeKey$2(t);a.some(e=>s.startsWith(e))||c.push(s)}a=[e.mountpoint,...a.filter(t=>!t.startsWith(e.mountpoint))]}const u=void 0!==t.maxDepth&&!d;return c.filter(s=>(!u||function(e,t){if(void 0===t)return!0;let s=0,a=e.indexOf(":");for(;a>-1;)s++,a=e.indexOf(":",a+1);return s<=t}(s,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(s,e))},async clear(e,t={}){e=normalizeBaseKey(e),await Promise.all(getMounts(e,!1).map(async e=>{if(e.driver.clear)return asyncCall(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const s=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(s.map(s=>e.driver.removeItem(s,t)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>dispose(e)))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await watch(t.mounts[e],onChange,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await stopWatch()}),async unwatch(){t.watchListeners=[],await stopWatch()},mount(e,a){if((e=normalizeBaseKey(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=a,t.watching&&Promise.resolve(watch(a,onChange,e)).then(s=>{t.unwatch[e]=s}).catch(console.error),s},async unmount(e,s=!0){(e=normalizeBaseKey(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),s&&await dispose(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){e=normalizeKey$2(e)+":";const t=getMount(e);return{driver:t.driver,base:t.base}},getMounts(e="",t={}){e=normalizeKey$2(e);return getMounts(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))},keys:(e,t={})=>s.getKeys(e,t),get:(e,t={})=>s.getItem(e,t),set:(e,t,a={})=>s.setItem(e,t,a),has:(e,t={})=>s.hasItem(e,t),del:(e,t={})=>s.removeItem(e,t),remove:(e,t={})=>s.removeItem(e,t)};return s}function watch(e,t,s){return e.watch?e.watch((e,a)=>t(e,s+a)):()=>{}}async function dispose(e){"function"==typeof e.dispose&&await asyncCall(e.dispose)}const lt={},normalizeKey$1=function(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""},dt={getKeys:()=>Promise.resolve(Object.keys(lt)),hasItem:e=>(e=normalizeKey$1(e),Promise.resolve(e in lt)),getItem:e=>(e=normalizeKey$1(e),Promise.resolve(lt[e]?lt[e].import():null)),getMeta:e=>(e=normalizeKey$1(e),Promise.resolve(lt[e]?lt[e].meta:{}))},pt=createStorage({});function useStorage(e=""){return e?function(e,t){if(!(t=normalizeBaseKey(t)))return e;const s={...e};for(const a of ct)s[a]=(s="",...c)=>e[a](t+s,...c);return s.getKeys=(s="",...a)=>e.getKeys(t+s,...a).then(e=>e.map(e=>e.slice(t.length))),s.keys=s.getKeys,s.getItems=async(s,a)=>{const c=s.map(e=>"string"==typeof e?t+e:{...e,key:t+e.key});return(await e.getItems(c,a)).map(e=>({key:e.key.slice(t.length),value:e.value}))},s.setItems=async(s,a)=>{const c=s.map(e=>({key:t+e.key,value:e.value,options:e.options}));return e.setItems(c,a)},s}(pt,e):pt}function serialize$1(e){return"string"==typeof e?`'${e}'`:(new ut).serialize(e)}pt.mount("/assets",dt);const ut=function(){class o{#e=new Map;compare(e,t){const s=typeof e,a=typeof t;return"string"===s&&"string"===a?e.localeCompare(t):"number"===s&&"number"===a?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(null===e)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if("[object Object]"!==t)return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const s=e.constructor,a=s===Object||void 0===s?"":s.name;if(""!==a&&globalThis[a]===s)return this.serializeBuiltInType(a,e);if("function"==typeof e.toJSON){const t=e.toJSON();return a+(null!==t&&"object"==typeof t?this.$object(t):`(${this.serialize(t)})`)}return this.serializeObjectEntries(a,Object.entries(e))}serializeBuiltInType(e,t){const s=this["$"+e];if(s)return s.call(this,t);if("function"==typeof t?.entries)return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const s=Array.from(t).sort((e,t)=>this.compare(e[0],t[0]));let a=`${e}{`;for(let e=0;e<s.length;e++){const[t,c]=s[e];a+=`${this.serialize(t,!0)}:${this.serialize(c)}`,e<s.length-1&&(a+=",")}return a+"}"}$object(e){let t=this.#e.get(e);return void 0===t&&(this.#e.set(e,`#${this.#e.size}`),t=this.serializeObject(e),this.#e.set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return"[native code] }"===t.slice(-15)?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let s=0;s<e.length;s++)t+=this.serialize(e[s]),s<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((e,t)=>this.compare(e,t)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const e of["Error","RegExp","URL"])o.prototype["$"+e]=function(t){return`${e}(${t})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])o.prototype["$"+e]=function(t){return`${e}[${t.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])o.prototype["$"+e]=function(t){return`${e}[${t.join("n,")}${t.length>0?"n":""}]`};return o}();function isEqual(e,t){return e===t||serialize$1(e)===serialize$1(t)}const ft=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ht=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],mt=[];class k{_data=new l;_hash=new l([...ft]);_nDataBytes=0;_minBufferSize=0;finalize(e){e&&this._append(e);const t=8*this._nDataBytes,s=8*this._data.sigBytes;return this._data.words[s>>>5]|=128<<24-s%32,this._data.words[14+(s+64>>>9<<4)]=Math.floor(t/4294967296),this._data.words[15+(s+64>>>9<<4)]=t,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}_doProcessBlock(e,t){const s=this._hash.words;let a=s[0],c=s[1],d=s[2],u=s[3],f=s[4],h=s[5],m=s[6],g=s[7];for(let s=0;s<64;s++){if(s<16)mt[s]=0|e[t+s];else{const e=mt[s-15],t=(e<<25|e>>>7)^(e<<14|e>>>18)^e>>>3,a=mt[s-2],c=(a<<15|a>>>17)^(a<<13|a>>>19)^a>>>10;mt[s]=t+mt[s-7]+c+mt[s-16]}const x=a&c^a&d^c&d,_=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),j=g+((f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25))+(f&h^~f&m)+ht[s]+mt[s];g=m,m=h,h=f,f=u+j|0,u=d,d=c,c=a,a=j+(_+x)|0}s[0]=s[0]+a|0,s[1]=s[1]+c|0,s[2]=s[2]+d|0,s[3]=s[3]+u|0,s[4]=s[4]+f|0,s[5]=s[5]+h|0,s[6]=s[6]+m|0,s[7]=s[7]+g|0}_append(e){"string"==typeof e&&(e=l.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let t,s=this._data.sigBytes/64;s=e?Math.ceil(s):Math.max((0|s)-this._minBufferSize,0);const a=16*s,c=Math.min(4*a,this._data.sigBytes);if(a){for(let e=0;e<a;e+=16)this._doProcessBlock(this._data.words,e);t=this._data.words.splice(0,a),this._data.sigBytes-=c}return new l(t,c)}}class l{words;sigBytes;constructor(e,t){e=this.words=e||[],this.sigBytes=void 0===t?4*e.length:t}static fromUtf8(e){const t=unescape(encodeURIComponent(e)),s=t.length,a=[];for(let e=0;e<s;e++)a[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new l(a,s)}toBase64(){const e=[];for(let t=0;t<this.sigBytes;t+=3){const s=(this.words[t>>>2]>>>24-t%4*8&255)<<16|(this.words[t+1>>>2]>>>24-(t+1)%4*8&255)<<8|this.words[t+2>>>2]>>>24-(t+2)%4*8&255;for(let a=0;a<4&&8*t+6*a<8*this.sigBytes;a++)e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(s>>>6*(3-a)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let t=0;t<e.sigBytes;t++){const s=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=s<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];this.sigBytes+=e.sigBytes}}function digest(e){return(new k).finalize(e).toBase64()}function hash$1(e){return digest(serialize$1(e))}const gt=(()=>{class Hasher2{buff="";#t=new Map;write(e){this.buff+=e}dispatch(e){return this[null===e?"null":typeof e](e)}object(e){if(e&&"function"==typeof e.toJSON)return this.object(e.toJSON());const t=Object.prototype.toString.call(e);let s="";const a=t.length;s=a<10?"unknown:["+t+"]":t.slice(8,a-1),s=s.toLowerCase();let c=null;if(void 0!==(c=this.#t.get(e)))return this.dispatch("[CIRCULAR:"+c+"]");if(this.#t.set(e,this.#t.size),void 0!==_&&_.isBuffer&&_.isBuffer(e))return this.write("buffer:"),this.write(e.toString("utf8"));if("object"!==s&&"function"!==s&&"asyncfunction"!==s)this[s]?this[s](e):this.unknown(e,s);else{const t=Object.keys(e).sort(),s=[];this.write("object:"+(t.length+s.length)+":");const dispatchForKey=t=>{this.dispatch(t),this.write(":"),this.dispatch(e[t]),this.write(",")};for(const e of t)dispatchForKey(e);for(const e of s)dispatchForKey(e)}}array(e,t){if(t=void 0!==t&&t,this.write("array:"+e.length+":"),!t||e.length<=1){for(const t of e)this.dispatch(t);return}const s=new Map,a=e.map(e=>{const t=new Hasher2;t.dispatch(e);for(const[e,a]of t.#t)s.set(e,a);return t.toString()});return this.#t=s,a.sort(),this.array(a,!1)}date(e){return this.write("date:"+e.toJSON())}symbol(e){return this.write("symbol:"+e.toString())}unknown(e,t){if(this.write(t),e)return this.write(":"),e&&"function"==typeof e.entries?this.array([...e.entries()],!0):void 0}error(e){return this.write("error:"+e.toString())}boolean(e){return this.write("bool:"+e)}string(e){this.write("string:"+e.length+":"),this.write(e)}function(e){this.write("fn:"),!function(e){if("function"!=typeof e)return!1;return"[native code] }"===Function.prototype.toString.call(e).slice(-15)}(e)?this.dispatch(e.toString()):this.dispatch("[native]")}number(e){return this.write("number:"+e)}null(){return this.write("Null")}undefined(){return this.write("Undefined")}regexp(e){return this.write("regex:"+e.toString())}arraybuffer(e){return this.write("arraybuffer:"),this.dispatch(new Uint8Array(e))}url(e){return this.write("url:"+e.toString())}map(e){this.write("map:");const t=[...e];return this.array(t,!1)}set(e){this.write("set:");const t=[...e];return this.array(t,!1)}bigint(e){return this.write("bigint:"+e.toString())}}for(const e of["uint8array","uint8clampedarray","unt8array","uint16array","unt16array","uint32array","unt32array","float32array","float64array"])Hasher2.prototype[e]=function(t){return this.write(e+":"),this.array([...t],!1)};return Hasher2})();function hash(e){return digest("string"==typeof e?e:function(e){const t=new gt;return t.dispatch(e),t.buff}(e)).replace(/[-_]/g,"").slice(0,10)}function defineCachedFunction(e,t={}){t={name:"_",base:"/cache",swr:!0,maxAge:1,...t};const s={},a=t.group||"nitro/functions",c=t.name||e.name||"_",d=t.integrity||hash([e,t]),u=t.validate||(e=>void 0!==e.value);return async(...f)=>{if(await(t.shouldBypassCache?.(...f)))return e(...f);const h=await(t.getKey||getKey)(...f),m=await(t.shouldInvalidateCache?.(...f)),g=await async function(e,f,h,m){const g=[t.base,a,c,e+".json"].filter(Boolean).join(":").replace(/:\/$/,":index");let x=await useStorage().getItem(g).catch(e=>{console.error("[cache] Cache read error.",e),useNitroApp().captureError(e,{event:m,tags:["cache"]})})||{};if("object"!=typeof x){x={};const e=new Error("Malformed data read from cache.");console.error("[cache]",e),useNitroApp().captureError(e,{event:m,tags:["cache"]})}const _=1e3*(t.maxAge??0);_&&(x.expires=Date.now()+_);const j=h||x.integrity!==d||_&&Date.now()-(x.mtime||0)>_||!1===u(x),C=j?(async()=>{const a=s[e];a||(void 0!==x.value&&(t.staleMaxAge||0)>=0&&!1===t.swr&&(x.value=void 0,x.integrity=void 0,x.mtime=void 0,x.expires=void 0),s[e]=Promise.resolve(f()));try{x.value=await s[e]}catch(t){throw a||delete s[e],t}if(!a&&(x.mtime=Date.now(),x.integrity=d,delete s[e],!1!==u(x))){let e;t.maxAge&&!t.swr&&(e={ttl:t.maxAge});const s=useStorage().setItem(g,x,e).catch(e=>{console.error("[cache] Cache write error.",e),useNitroApp().captureError(e,{event:m,tags:["cache"]})});m?.waitUntil&&m.waitUntil(s)}})():Promise.resolve();return void 0===x.value?await C:j&&m&&m.waitUntil&&m.waitUntil(C),t.swr&&!1!==u(x)?(C.catch(e=>{console.error("[cache] SWR handler error.",e),useNitroApp().captureError(e,{event:m,tags:["cache"]})}),x):C.then(()=>x)}(h,()=>e(...f),m,f[0]&&isEvent(f[0])?f[0]:void 0);let x=g.value;return t.transform&&(x=await t.transform(g,...f)||x),x}}function getKey(...e){return e.length>0?hash(e):""}function escapeKey(e){return String(e).replace(/\W/g,"")}function defineCachedEventHandler(e,t={name:"_",base:"/cache",swr:!0,maxAge:1}){const s=(t.varies||[]).filter(Boolean).map(e=>e.toLowerCase()).sort(),a={...t,getKey:async e=>{const a=await(t.getKey?.(e));if(a)return escapeKey(a);const c=e.node.req.originalUrl||e.node.req.url||e.path;let d;try{d=escapeKey(decodeURI(parseURL(c).pathname)).slice(0,16)||"index"}catch{d="-"}return[`${d}.${hash(c)}`,...s.map(t=>[t,e.node.req.headers[t]]).map(([e,t])=>`${escapeKey(e)}.${hash(t)}`)].join(":")},validate:e=>!!e.value&&(!(e.value.code>=400)&&(void 0!==e.value.body&&("undefined"!==e.value.headers.etag&&"undefined"!==e.value.headers["last-modified"]))),group:t.group||"nitro/handlers",integrity:t.integrity||hash([e,t])},c=function(e,t={}){return defineCachedFunction(e,t)}(async c=>{const d={};for(const e of s){const t=c.node.req.headers[e];void 0!==t&&(d[e]=t)}const u=cloneWithProxy(c.node.req,{headers:d}),f={};let h;const m=createEvent(u,cloneWithProxy(c.node.res,{statusCode:200,writableEnded:!1,writableFinished:!1,headersSent:!1,closed:!1,getHeader:e=>f[e],setHeader(e,t){return f[e]=t,this},getHeaderNames:()=>Object.keys(f),hasHeader:e=>e in f,removeHeader(e){delete f[e]},getHeaders:()=>f,end(e,t,s){return"string"==typeof e&&(h=e),"function"==typeof t&&t(),"function"==typeof s&&s(),this},write:(e,t,s)=>("string"==typeof e&&(h=e),"function"==typeof t&&t(void 0),"function"==typeof s&&s(),!0),writeHead(e,t){if(this.statusCode=e,t){if(Array.isArray(t)||"string"==typeof t)throw new TypeError("Raw headers  is not supported.");for(const e in t){const s=t[e];void 0!==s&&this.setHeader(e,s)}}return this}}));m.fetch=(e,t)=>fetchWithEvent(m,e,t,{fetch:useNitroApp().localFetch}),m.$fetch=(e,t)=>fetchWithEvent(m,e,t,{fetch:globalThis.$fetch}),m.waitUntil=c.waitUntil,m.context=c.context,m.context.cache={options:a};const g=await e(m)||h,x=m.node.res.getHeaders();x.etag=String(x.Etag||x.etag||`W/"${hash(g)}"`),x["last-modified"]=String(x["Last-Modified"]||x["last-modified"]||(new Date).toUTCString());const _=[];t.swr?(t.maxAge&&_.push(`s-maxage=${t.maxAge}`),t.staleMaxAge?_.push(`stale-while-revalidate=${t.staleMaxAge}`):_.push("stale-while-revalidate")):t.maxAge&&_.push(`max-age=${t.maxAge}`),_.length>0&&(x["cache-control"]=_.join(", "));return{code:m.node.res.statusCode,headers:x,body:g}},a);return defineEventHandler(async s=>{if(t.headersOnly){if(handleCacheHeaders(s,{maxAge:t.maxAge}))return;return e(s)}const a=await c(s);if(s.node.res.headersSent||s.node.res.writableEnded)return a.body;if(!handleCacheHeaders(s,{modifiedTime:new Date(a.headers["last-modified"]),etag:a.headers.etag,maxAge:t.maxAge})){s.node.res.statusCode=a.code;for(const e in a.headers){const t=a.headers[e];"set-cookie"===e?s.node.res.appendHeader(e,splitCookiesString(t)):void 0!==t&&s.node.res.setHeader(e,t)}return a.body}})}function cloneWithProxy(e,t){return new Proxy(e,{get:(e,s,a)=>s in t?t[s]:Reflect.get(e,s,a),set:(e,s,a,c)=>s in t?(t[s]=a,!0):Reflect.set(e,s,a,c)})}const yt=defineCachedEventHandler;class ReadStream{fd;isRaw=!1;isTTY=!1;constructor(e){this.fd=e}setRawMode(e){return this.isRaw=e,this}}class WriteStream{fd;columns=80;rows=24;isTTY=!1;constructor(e){this.fd=e}clearLine(e,t){return t&&t(),!1}clearScreenDown(e){return e&&e(),!1}cursorTo(e,t,s){return s&&"function"==typeof s&&s(),!1}moveCursor(e,t,s){return s&&s(),!1}getColorDepth(e){return 1}hasColors(e,t){return!1}getWindowSize(){return[this.columns,this.rows]}write(e,t,s){e instanceof Uint8Array&&(e=(new TextDecoder).decode(e));try{console.log(e)}catch{}return s&&"function"==typeof s&&s(),!1}}const vt="22.14.0";class Process extends _EventEmitter{env;hrtime;nextTick;constructor(e){super(),this.env=e.env,this.hrtime=e.hrtime,this.nextTick=e.nextTick;for(const e of[...Object.getOwnPropertyNames(Process.prototype),...Object.getOwnPropertyNames(_EventEmitter.prototype)]){const t=this[e];"function"==typeof t&&(this[e]=t.bind(this))}}emitWarning(e,t,s){console.warn(`${s?`[${s}] `:""}${t?`${t}: `:""}${e}`)}emit(...e){return super.emit(...e)}listeners(e){return super.listeners(e)}#n;#o;#i;get stdin(){return this.#n??=new ReadStream(0)}get stdout(){return this.#o??=new WriteStream(1)}get stderr(){return this.#i??=new WriteStream(2)}#r="/";chdir(e){this.#r=e}cwd(){return this.#r}arch="";platform="";argv=[];argv0="";execArgv=[];execPath="";title="";pid=200;ppid=100;get version(){return`v${vt}`}get versions(){return{node:vt}}get allowedNodeEnvironmentFlags(){return new Set}get sourceMapsEnabled(){return!1}get debugPort(){return 0}get throwDeprecation(){return!1}get traceDeprecation(){return!1}get features(){return{}}get release(){return{}}get connected(){return!1}get config(){return{}}get moduleLoadList(){return[]}constrainedMemory(){return 0}availableMemory(){return 0}uptime(){return 0}resourceUsage(){return{}}ref(){}unref(){}umask(){throw createNotImplementedError("process.umask")}getBuiltinModule(){}getActiveResourcesInfo(){throw createNotImplementedError("process.getActiveResourcesInfo")}exit(){throw createNotImplementedError("process.exit")}reallyExit(){throw createNotImplementedError("process.reallyExit")}kill(){throw createNotImplementedError("process.kill")}abort(){throw createNotImplementedError("process.abort")}dlopen(){throw createNotImplementedError("process.dlopen")}setSourceMapsEnabled(){throw createNotImplementedError("process.setSourceMapsEnabled")}loadEnvFile(){throw createNotImplementedError("process.loadEnvFile")}disconnect(){throw createNotImplementedError("process.disconnect")}cpuUsage(){throw createNotImplementedError("process.cpuUsage")}setUncaughtExceptionCaptureCallback(){throw createNotImplementedError("process.setUncaughtExceptionCaptureCallback")}hasUncaughtExceptionCaptureCallback(){throw createNotImplementedError("process.hasUncaughtExceptionCaptureCallback")}initgroups(){throw createNotImplementedError("process.initgroups")}openStdin(){throw createNotImplementedError("process.openStdin")}assert(){throw createNotImplementedError("process.assert")}binding(){throw createNotImplementedError("process.binding")}permission={has:notImplemented("process.permission.has")};report={directory:"",filename:"",signal:"SIGUSR2",compact:!1,reportOnFatalError:!1,reportOnSignal:!1,reportOnUncaughtException:!1,getReport:notImplemented("process.report.getReport"),writeReport:notImplemented("process.report.writeReport")};finalization={register:notImplemented("process.finalization.register"),unregister:notImplemented("process.finalization.unregister"),registerBeforeExit:notImplemented("process.finalization.registerBeforeExit")};memoryUsage=Object.assign(()=>({arrayBuffers:0,rss:0,external:0,heapTotal:0,heapUsed:0}),{rss:()=>0});mainModule=void 0;domain=void 0;send=void 0;exitCode=void 0;channel=void 0;getegid=void 0;geteuid=void 0;getgid=void 0;getgroups=void 0;getuid=void 0;setegid=void 0;seteuid=void 0;setgid=void 0;setgroups=void 0;setuid=void 0;_events=void 0;_eventsCount=void 0;_exiting=void 0;_maxListeners=void 0;_debugEnd=void 0;_debugProcess=void 0;_fatalException=void 0;_getActiveHandles=void 0;_getActiveRequests=void 0;_kill=void 0;_preload_modules=void 0;_rawDebug=void 0;_startProfilerIdleNotifier=void 0;_stopProfilerIdleNotifier=void 0;_tickCallback=void 0;_disconnect=void 0;_handleQueue=void 0;_pendingMessage=void 0;_channel=void 0;_send=void 0;_linkedBinding=void 0}const bt=Object.create(null),wt=globalThis.process,_getEnv=e=>globalThis.__env__||wt?.env||(e?bt:globalThis),xt=new Proxy(bt,{get:(e,t)=>_getEnv()[t]??bt[t],has:(e,t)=>t in _getEnv()||t in bt,set:(e,t,s)=>(_getEnv(!0)[t]=s,!0),deleteProperty:(e,t)=>(delete _getEnv(!0)[t],!0),ownKeys(){const e=_getEnv();return Object.keys(e)},getOwnPropertyDescriptor(e,t){const s=_getEnv();if(t in s)return{value:s[t],writable:!0,enumerable:!0,configurable:!0}}}),_t=Object.assign(function(e){const t=Date.now(),s=Math.trunc(t/1e3),a=t%1e3*1e6;if(e){let t=s-e[0],c=a-e[0];return c<0&&(t-=1,c=1e9+c),[t,c]}return[s,a]},{bigint:function(){return BigInt(1e6*Date.now())}}),jt=globalThis.queueMicrotask?(e,...t)=>{globalThis.queueMicrotask(e.bind(void 0,...t))}:createNextTickWithTimeout();function createNextTickWithTimeout(){let e,t=[],s=!1,a=-1;function cleanUpNextTick(){s&&e&&(s=!1,e.length>0?t=[...e,...t]:a=-1,t.length>0&&drainQueue())}function drainQueue(){if(s)return;const c=setTimeout(cleanUpNextTick);s=!0;let d=t.length;for(;d;){for(e=t,t=[];++a<d;)e&&e[a]();a=-1,d=t.length}e=void 0,s=!1,clearTimeout(c)}return(e,...a)=>{t.push(e.bind(void 0,...a)),1!==t.length||s||setTimeout(drainQueue)}}const kt=new Process({env:xt,hrtime:_t,nextTick:jt}),{abort:Ct,addListener:Rt,allowedNodeEnvironmentFlags:Et,hasUncaughtExceptionCaptureCallback:St,setUncaughtExceptionCaptureCallback:Tt,loadEnvFile:It,sourceMapsEnabled:At,arch:$t,argv:Bt,argv0:Ot,chdir:Lt,config:Ut,connected:Pt,constrainedMemory:Nt,availableMemory:zt,cpuUsage:Zt,cwd:Mt,debugPort:Ht,dlopen:qt,disconnect:Ft,emit:Dt,emitWarning:Kt,env:Wt,eventNames:Vt,execArgv:Qt,execPath:Jt,exit:Gt,finalization:Yt,features:Xt,getBuiltinModule:en,getActiveResourcesInfo:tn,getMaxListeners:nn,hrtime:on,kill:rn,listeners:sn,listenerCount:an,memoryUsage:cn,nextTick:ln,on:dn,off:pn,once:un,pid:fn,platform:hn,ppid:mn,prependListener:gn,prependOnceListener:yn,rawListeners:vn,release:bn,removeAllListeners:wn,removeListener:xn,report:_n,resourceUsage:jn,setMaxListeners:kn,setSourceMapsEnabled:Cn,stderr:Rn,stdin:En,stdout:Sn,title:Tn,umask:In,uptime:An,version:$n,versions:Bn,domain:On,initgroups:Ln,moduleLoadList:Un,reallyExit:Pn,openStdin:Nn,assert:zn,binding:Zn,send:Mn,exitCode:Hn,channel:qn,getegid:Fn,geteuid:Dn,getgid:Kn,getgroups:Wn,getuid:Vn,setegid:Qn,seteuid:Jn,setgid:Gn,setgroups:Yn,setuid:Xn,permission:eo,mainModule:to,ref:no,unref:oo,_events:io,_eventsCount:ro,_exiting:so,_maxListeners:ao,_debugEnd:co,_debugProcess:lo,_fatalException:po,_getActiveHandles:uo,_getActiveRequests:fo,_kill:ho,_preload_modules:mo,_rawDebug:go,_startProfilerIdleNotifier:yo,_stopProfilerIdleNotifier:vo,_tickCallback:bo,_disconnect:wo,_handleQueue:xo,_pendingMessage:_o,_channel:jo,_send:ko,_linkedBinding:Co}=kt;function klona(e){if("object"!=typeof e)return e;var t,s,a=Object.prototype.toString.call(e);if("[object Object]"===a){if(e.constructor!==Object&&"function"==typeof e.constructor)for(t in s=new e.constructor,e)e.hasOwnProperty(t)&&s[t]!==e[t]&&(s[t]=klona(e[t]));else for(t in s={},e)"__proto__"===t?Object.defineProperty(s,t,{value:klona(e[t]),configurable:!0,enumerable:!0,writable:!0}):s[t]=klona(e[t]);return s}if("[object Array]"===a){for(t=e.length,s=Array(t);t--;)s[t]=klona(e[t]);return s}return"[object Set]"===a?(s=new Set,e.forEach(function(e){s.add(klona(e))}),s):"[object Map]"===a?(s=new Map,e.forEach(function(e,t){s.set(klona(t),klona(e))}),s):"[object Date]"===a?new Date(+e):"[object RegExp]"===a?((s=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,s):"[object DataView]"===a?new e.constructor(klona(e.buffer)):"[object ArrayBuffer]"===a?e.slice(0):"Array]"===a.slice(-6)?new e.constructor(e):e}const Ro=G({ui:{primary:"violet",gray:"slate",notifications:{position:"top-right"},button:{default:{size:"md"}},input:{default:{size:"md"}},card:{rounded:"rounded-xl"}}},{nuxt:{},icon:{provider:"server",class:"",aliases:{},iconifyApiEndpoint:"https://api.iconify.design",localApiEndpoint:"/api/_nuxt_icon",fallbackToApi:!0,cssSelectorPrefix:"i-",cssWherePseudo:!0,mode:"css",attrs:{"aria-hidden":!0},collections:["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codicon","covid","cryptocurrency","cryptocurrency-color","dashicons","devicon","devicon-plain","ei","el","emojione","emojione-monotone","emojione-v1","entypo","entypo-social","eos-icons","ep","et","eva","f7","fa","fa-brands","fa-regular","fa-solid","fa6-brands","fa6-regular","fa6-solid","fad","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent","fluent-emoji","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-mdl2","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons","heroicons-outline","heroicons-solid","hugeicons","humbleicons","ic","icomoon-free","icon-park","icon-park-outline","icon-park-solid","icon-park-twotone","iconamoon","iconoir","icons8","il","ion","iwwa","jam","la","lets-icons","line-md","logos","ls","lucide","lucide-lab","mage","majesticons","maki","map","marketeq","material-symbols","material-symbols-light","mdi","mdi-light","medical-icon","memory","meteocons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto","noto-v1","octicon","oi","ooui","openmoji","oui","pajamas","pepicons","pepicons-pencil","pepicons-pop","pepicons-print","ph","pixelarticons","prime","ps","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","simple-icons","simple-line-icons","skill-icons","solar","streamline","streamline-emojis","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token","token-branded","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],fetchTimeout:1500},ui:{primary:"green",gray:"cool",colors:["red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose","primary"],strategy:"merge"}}),Eo=/\d/,So=["-","_","/","."];function isUppercase(e=""){if(!Eo.test(e))return e!==e.toLowerCase()}function upperFirst(e){return e?e[0].toUpperCase()+e.slice(1):""}function kebabCase(e,t){return e?(Array.isArray(e)?e:function(e){const t=So,s=[];if(!e||"string"!=typeof e)return s;let a,c,d="";for(const u of e){const e=t.includes(u);if(!0===e){s.push(d),d="",a=void 0;continue}const f=isUppercase(u);if(!1===c){if(!1===a&&!0===f){s.push(d),d=u,a=f;continue}if(!0===a&&!1===f&&d.length>1){const e=d.at(-1);s.push(d.slice(0,Math.max(0,d.length-1))),d=e+u,a=f;continue}}d+=u,a=f,c=e}return s.push(d),s}(e)).map(e=>e.toLowerCase()).join(t):""}function snakeCase(e){return kebabCase(e||"","_")}function getEnv(e,t){const s=snakeCase(e).toUpperCase();return destr(kt.env[t.prefix+s]??kt.env[t.altPrefix+s])}function _isObject(e){return"object"==typeof e&&!Array.isArray(e)}function applyEnv(e,t,s=""){for(const a in e){const c=s?`${s}_${a}`:a,d=getEnv(c,t);_isObject(e[a])?_isObject(d)?(e[a]={...e[a],...d},applyEnv(e[a],t,c)):void 0===d?applyEnv(e[a],t,c):e[a]=d??e[a]:e[a]=d??e[a],t.envExpansion&&"string"==typeof e[a]&&(e[a]=_expandFromEnv(e[a]))}return e}const To=/\{\{([^{}]*)\}\}/g;function _expandFromEnv(e){return e.replace(To,(e,t)=>kt.env[t]||e)}const Io={app:{baseURL:"/",buildId:"08ea3146-5c05-4aa4-9812-6f6240381da9",buildAssetsDir:"/_nuxt/",cdnURL:""},nitro:{envPrefix:"NUXT_",routeRules:{"/__nuxt_error":{cache:!1},"/api/_hub/**":{csurf:!1},"/_nuxt/builds/meta/**":{headers:{"cache-control":"public, max-age=31536000, immutable"}},"/_nuxt/builds/**":{headers:{"cache-control":"public, max-age=1, immutable"}},"/_nuxt/**":{headers:{"cache-control":"public, max-age=31536000, immutable"}}}},public:{hub:{},auth:{loadStrategy:"server-first"}},icon:{serverKnownCssClasses:[]},hub:{projectUrl:"",projectSecretKey:"",url:"https://admin.hub.nuxt.com",projectKey:"collection-mana-zgz5",userToken:"user_sF7TV3dD8MeUmyMfp18J7bqSpqPr8R",remote:"",remoteManifest:"",dir:".data/hub",ai:!1,analytics:!1,blob:!0,browser:!1,cache:!1,database:!0,kv:!0,vectorize:{},version:"0.7.37",env:"production",openapi:!1,bindings:{hyperdrive:{},compatibilityFlags:""}},session:{name:"nuxt-session",password:"",cookie:{sameSite:"lax"}},hash:{scrypt:{}},webauthn:{register:{},authenticate:{}},oauth:{gitea:{clientId:"",clientSecret:"",redirectURL:"",baseURL:""},github:{clientId:"",clientSecret:"",redirectURL:""},gitlab:{clientId:"",clientSecret:"",redirectURL:"",baseURL:"https://gitlab.com"},spotify:{clientId:"",clientSecret:"",redirectURL:""},google:{clientId:"",clientSecret:"",redirectURL:""},twitch:{clientId:"",clientSecret:"",redirectURL:""},auth0:{clientId:"",clientSecret:"",domain:"",audience:"",redirectURL:""},workos:{clientId:"",clientSecret:"",connectionId:"",screenHint:"",redirectURL:""},microsoft:{clientId:"",clientSecret:"",tenant:"",scope:[],authorizationURL:"",tokenURL:"",userURL:"",redirectURL:""},azureb2c:{clientId:"",policy:"",tenant:"",scope:[],authorizationURL:"",tokenURL:"",userURL:"",redirectURL:""},discord:{clientId:"",clientSecret:"",redirectURL:""},battledotnet:{clientId:"",clientSecret:"",redirectURL:""},bluesky:{clientMetadataFilename:"",clientName:"",clientUri:"",logoUri:"",policyUri:"",tosUri:"",scope:["atproto"],grantTypes:["authorization_code"],responseTypes:["code"],applicationType:"web",redirectUris:"",dpopBoundAccessTokens:!0,tokenEndpointAuthMethod:"none"},keycloak:{clientId:"",clientSecret:"",serverUrl:"",serverUrlInternal:"",realm:"",redirectURL:""},linear:{clientId:"",clientSecret:"",redirectURL:""},linkedin:{clientId:"",clientSecret:"",redirectURL:""},cognito:{clientId:"",clientSecret:"",region:"",userPoolId:"",redirectURL:""},facebook:{clientId:"",clientSecret:"",redirectURL:""},instagram:{clientId:"",clientSecret:"",redirectURL:""},paypal:{clientId:"",clientSecret:"",redirectURL:""},steam:{apiKey:"",redirectURL:""},x:{clientId:"",clientSecret:"",redirectURL:""},xsuaa:{clientId:"",clientSecret:"",domain:"",redirectURL:""},vk:{clientId:"",clientSecret:"",redirectURL:""},yandex:{clientId:"",clientSecret:"",redirectURL:""},tiktok:{clientKey:"",clientSecret:"",redirectURL:""},dropbox:{clientId:"",clientSecret:"",redirectURL:""},polar:{clientId:"",clientSecret:"",redirectURL:""},zitadel:{clientId:"",clientSecret:"",domain:"",redirectURL:""},authentik:{clientId:"",clientSecret:"",domain:"",redirectURL:""},seznam:{clientId:"",clientSecret:"",redirectURL:""},strava:{clientId:"",clientSecret:"",redirectURL:""},hubspot:{clientId:"",clientSecret:"",redirectURL:""},line:{clientId:"",clientSecret:"",redirectURL:""},atlassian:{clientId:"",clientSecret:"",redirectURL:""},apple:{teamId:"",keyId:"",privateKey:"",redirectURL:"",clientId:""},kick:{clientId:"",clientSecret:"",redirectURL:""},livechat:{clientId:"",clientSecret:""},salesforce:{clientId:"",clientSecret:"",redirectURL:"",baseURL:"",scope:""},slack:{clientId:"",clientSecret:"",redirectURL:"",scope:""},heroku:{clientId:"",clientSecret:"",redirectURL:"",scope:""},roblox:{clientId:"",clientSecret:"",redirectURL:"",scope:""},okta:{clientId:"",clientSecret:"",domain:"",audience:"",scope:[],redirectURL:""},ory:{clientId:"",clientSecret:"",sdkURL:"",redirectURL:"",scope:[],authorizationURL:"",tokenURL:"",userURL:""},shopifyCustomer:{shopDomain:"",clientId:"",redirectURL:"",scope:[]}}},Ao={prefix:"NITRO_",altPrefix:Io.nitro.envPrefix??kt.env.NITRO_ENV_PREFIX??"_",envExpansion:Io.nitro.envExpansion??kt.env.NITRO_ENV_EXPANSION??!1},$o=_deepFreeze(applyEnv(klona(Io),Ao));function useRuntimeConfig(e){if(!e)return $o;if(e.context.nitro.runtimeConfig)return e.context.nitro.runtimeConfig;const t=klona(Io);return applyEnv(t,Ao),e.context.nitro.runtimeConfig=t,t}const Bo=_deepFreeze(klona(Ro));function _deepFreeze(e){const t=Object.getOwnPropertyNames(e);for(const s of t){const t=e[s];t&&"object"==typeof t&&_deepFreeze(t)}return Object.freeze(e)}new Proxy(Object.create(null),{get:(e,t)=>{console.warn("Please use `useRuntimeConfig()` instead of accessing config directly.");const s=useRuntimeConfig();if(t in s)return s[t]}});const Oo="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:void 0!==Qe?Qe:{},Lo="__unctx__",Uo=Oo[Lo]||(Oo[Lo]=function(e={}){const t={};return{get:(s,a={})=>(t[s]||(t[s]=function(e={}){let t,s=!1;const checkConflict=e=>{if(t&&t!==e)throw new Error("Context conflict")};let a;if(e.asyncContext){const t=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;t?a=new t:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const _getCurrentInstance=()=>{if(a){const e=a.getStore();if(void 0!==e)return e}return t};return{use:()=>{const e=_getCurrentInstance();if(void 0===e)throw new Error("Context is not available");return e},tryUse:()=>_getCurrentInstance(),set:(e,a)=>{a||checkConflict(e),t=e,s=!0},unset:()=>{t=void 0,s=!1},call:(e,c)=>{checkConflict(e),t=e;try{return a?a.run(e,c):c()}finally{s||(t=void 0)}},async callAsync(e,c){t=e;const onRestore=()=>{t=e},onLeave=()=>t===e?onRestore:void 0;No.add(onLeave);try{const d=a?a.run(e,c):c();return s||(t=void 0),await d}finally{No.delete(onLeave)}}}}({...e,...a})),t[s])}}()),getContext=(e,t={})=>Uo.get(e,t),Po="__unctx_async_handlers__",No=Oo[Po]||(Oo[Po]=new Set);function executeAsync(e){const t=[];for(const e of No){const s=e();s&&t.push(s)}const restore=()=>{for(const e of t)e()};let s=e();return s&&"object"==typeof s&&"catch"in s&&(s=s.catch(e=>{throw restore(),e})),[s,restore]}const zo=getContext("nitro-app",{asyncContext:!0,AsyncLocalStorage:t}),Zo=toRouteMatcher(createRouter$1({routes:useRuntimeConfig().nitro.routeRules}));function getRouteRules(e){return e.context._nitro=e.context._nitro||{},e.context._nitro.routeRules||(e.context._nitro.routeRules=getRouteRulesForPath(withoutBase(e.path.split("?")[0],useRuntimeConfig().app.baseURL))),e.context._nitro.routeRules}function getRouteRulesForPath(e){return J({},...Zo.matchAll(e).reverse())}const Mo=/post|put|patch/i;function requestHasBody(e){return Mo.test(e.method)}function joinHeaders(e){return Array.isArray(e)?e.join(", "):String(e)}function normalizeCookieHeader(e=""){return splitCookiesString(joinHeaders(e))}function normalizeCookieHeaders(e){const t=new Headers;for(const[s,a]of e)if("set-cookie"===s)for(const e of normalizeCookieHeader(a))t.append("set-cookie",e);else t.set(s,joinHeaders(a));return t}function hasReqHeader(e,t,s){const a=getRequestHeader(e,t);return a&&"string"==typeof a&&a.toLowerCase().includes(s)}function defaultHandler(e,t,s){const a=e.unhandled||e.fatal,c=e.statusCode||500,d=e.statusMessage||"Server Error",u=getRequestURL(t,{xForwardedHost:!0,xForwardedProto:!0});if(404===c){const e="/";if(/^\/[^/]/.test(e)&&!u.pathname.startsWith(e)){return{status:302,statusText:"Found",headers:{location:`${e}${u.pathname.slice(1)}${u.search}`},body:"Redirecting..."}}}if(a&&!s?.silent){const s=[e.unhandled&&"[unhandled]",e.fatal&&"[fatal]"].filter(Boolean).join(" ");console.error(`[request error] ${s} [${t.method}] ${u}\n`,e)}const f={"content-type":"application/json","x-content-type-options":"nosniff","x-frame-options":"DENY","referrer-policy":"no-referrer","content-security-policy":"script-src 'none'; frame-ancestors 'none';"};setResponseStatus(t,c,d),404!==c&&function(e,t){return e.node.res.getHeader(t)}(t,"cache-control")||(f["cache-control"]="no-cache");return{status:c,statusText:d,headers:f,body:{error:!0,url:u.href,statusCode:c,statusMessage:d,message:a?"Server Error":e.message,data:a?void 0:e.data}}}const Ho=[async function(e,t,{defaultHandler:s}){if(t.handled||function(e){return!hasReqHeader(e,"accept","text/html")&&(hasReqHeader(e,"accept","application/json")||hasReqHeader(e,"user-agent","curl/")||hasReqHeader(e,"user-agent","httpie/")||hasReqHeader(e,"sec-fetch-mode","cors")||e.path.startsWith("/api/")||e.path.endsWith(".json"))}(t))return;const a=await s(e,t,{json:!0});if(404===(e.statusCode||500)&&302===a.status)return setResponseHeaders(t,a.headers),setResponseStatus(t,a.status,a.statusText),send$1(t,JSON.stringify(a.body,null,2));const c=a.body,d=new URL(c.url);c.url=withoutBase(d.pathname,useRuntimeConfig(t).app.baseURL)+d.search+d.hash,c.message||="Server Error",c.data||=e.data,c.statusMessage||=e.statusMessage,delete a.headers["content-type"],delete a.headers["content-security-policy"],setResponseHeaders(t,a.headers);const u=getRequestHeaders(t),f=t.path.startsWith("/__nuxt_error")||!!u["x-nuxt-error"]?null:await useNitroApp().localFetch(withQuery(joinURL(useRuntimeConfig(t).app.baseURL,"/__nuxt_error"),c),{headers:{...u,"x-nuxt-error":"true"},redirect:"manual"}).catch(()=>null);if(t.handled)return;if(!f){const{template:e}=await import("./error-500.mjs");return setResponseHeader(t,"Content-Type","text/html;charset=UTF-8"),send$1(t,e(c))}const h=await f.text();for(const[e,s]of f.headers.entries())"set-cookie"!==e?setResponseHeader(t,e,s):appendResponseHeader(t,e,s);return setResponseStatus(t,f.status&&200!==f.status?f.status:a.status,f.statusText||a.statusText),send$1(t,h)},function(e,t){const s=defaultHandler(e,t);return setResponseHeaders(t,s.headers),setResponseStatus(t,s.status,s.statusText),send$1(t,JSON.stringify(s.body,null,2))}];const _al1w0htQGnMLlE5X0VhtjRa_XanF63dZUSg5nvd11Kw=e=>{(kt.env.NUXT_OAUTH_FACEBOOK_CLIENT_ID&&kt.env.NUXT_OAUTH_FACEBOOK_CLIENT_SECRET||kt.env.NUXT_OAUTH_INSTAGRAM_CLIENT_ID&&kt.env.NUXT_OAUTH_INSTAGRAM_CLIENT_SECRET)&&e.hooks.hook("render:html",e=>{e.head.unshift('\n      <script>\n        if (window.location.hash === "#_=_"){\n          history.replaceState\n              ? history.replaceState(null, null, window.location.href.split("#")[0])\n              : window.location.hash = "";\n        }\n      <\/script>\n    ')})},qo=[_al1w0htQGnMLlE5X0VhtjRa_XanF63dZUSg5nvd11Kw,function(e){e.hooks.hook("render:html",e=>{e.head.push('<script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"system";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}<\/script>')})}],Fo=De(e=>{const t=e.context.cloudflare?.env||{};for(const e in t)void 0===kt.env[e]&&"string"==typeof t[e]&&(kt.env[e]=t[e])}),Do=defineEventHandler(()=>{}),Ko=/^[A-Za-z]:\//;const basename$1=function(e,t){const s=function(e=""){return e?e.replace(/\\/g,"/").replace(Ko,e=>e.toUpperCase()):e}(e).split("/");let a="";for(let e=s.length-1;e>=0;e--){const t=s[e];if(t){a=t;break}}return t&&a.endsWith(t)?a.slice(0,-t.length):a},Wo=Object.freeze({left:0,top:0,width:16,height:16}),Vo=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Qo=Object.freeze({...Wo,...Vo});Object.freeze({...Qo,body:"",hidden:!1});const Jo=Object.freeze({width:null,height:null}),Go=Object.freeze({...Jo,...Vo});const Yo=Object.keys(Wo).concat(["provider"]);function getIcons(e,t,s){const a=Object.create(null),c=Object.create(null),d={prefix:e.prefix,icons:a},u=e.icons,f=e.aliases||Object.create(null);e.lastModified&&(d.lastModified=e.lastModified);const h=function(e,t){const s=e.icons,a=e.aliases||Object.create(null),c=Object.create(null);return(t||Object.keys(s).concat(Object.keys(a))).forEach(function resolve(e){if(s[e])return c[e]=[];if(!(e in c)){c[e]=null;const t=a[e]&&a[e].parent,s=t&&resolve(t);s&&(c[e]=[t].concat(s))}return c[e]}),c}(e,t);let m=!0;for(const e in h)h[e]&&(u[e]?(a[e]={...u[e]},m=!1):(c[e]={...f[e]},d.aliases=c));return Yo.forEach(t=>{t in e&&(d[t]=e[t])}),m&&!0!==s?null:d}const Xo=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ei=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(e,t,s){if(1===t)return e;if(s=s||100,"number"==typeof e)return Math.ceil(e*t*s)/s;if("string"!=typeof e)return e;const a=e.split(Xo);if(null===a||!a.length)return e;const c=[];let d=a.shift(),u=ei.test(d);for(;;){if(u){const e=parseFloat(d);isNaN(e)?c.push(d):c.push(Math.ceil(e*t*s)/s)}else c.push(d);if(d=a.shift(),void 0===d)return c.join("");u=!u}}function getCommonCSSRules(e){const t={display:"inline-block",width:"1em",height:"1em"},s=e.varName;switch(e.pseudoSelector&&(t.content="''"),e.mode){case"background":s&&(t["background-image"]="var(--"+s+")"),t["background-repeat"]="no-repeat",t["background-size"]="100% 100%";break;case"mask":t["background-color"]="currentColor",s&&(t["mask-image"]=t["-webkit-mask-image"]="var(--"+s+")"),t["mask-repeat"]=t["-webkit-mask-repeat"]="no-repeat",t["mask-size"]=t["-webkit-mask-size"]="100% 100%"}return t}function generateItemCSSRules(e,t){const s={},a=t.varName,c=function(e,t){const s={...Qo,...e},a={...Go,...t},c={left:s.left,top:s.top,width:s.width,height:s.height};let d=s.body;[s,a].forEach(e=>{const t=[],s=e.hFlip,a=e.vFlip;let u,f=e.rotate;switch(s?a?f+=2:(t.push("translate("+(c.width+c.left).toString()+" "+(0-c.top).toString()+")"),t.push("scale(-1 1)"),c.top=c.left=0):a&&(t.push("translate("+(0-c.left).toString()+" "+(c.height+c.top).toString()+")"),t.push("scale(1 -1)"),c.top=c.left=0),f<0&&(f-=4*Math.floor(f/4)),f%=4,f){case 1:u=c.height/2+c.top,t.unshift("rotate(90 "+u.toString()+" "+u.toString()+")");break;case 2:t.unshift("rotate(180 "+(c.width/2+c.left).toString()+" "+(c.height/2+c.top).toString()+")");break;case 3:u=c.width/2+c.left,t.unshift("rotate(-90 "+u.toString()+" "+u.toString()+")")}f%2==1&&(c.left!==c.top&&(u=c.left,c.left=c.top,c.top=u),c.width!==c.height&&(u=c.width,c.width=c.height,c.height=u)),t.length&&(d=function(e,t,s){const a=function(e,t="defs"){let s="";const a=e.indexOf("<"+t);for(;a>=0;){const c=e.indexOf(">",a),d=e.indexOf("</"+t);if(-1===c||-1===d)break;const u=e.indexOf(">",d);if(-1===u)break;s+=e.slice(c+1,d).trim(),e=e.slice(0,a).trim()+e.slice(u+1)}return{defs:s,content:e}}(e);return c=a.defs,d=t+a.content+s,c?"<defs>"+c+"</defs>"+d:d;var c,d}(d,'<g transform="'+t.join(" ")+'">',"</g>"))});const u=a.width,f=a.height,h=c.width,m=c.height;let g,x;null===u?(x=null===f?"1em":"auto"===f?m:f,g=calculateSize(x,h/m)):(g="auto"===u?h:u,x=null===f?calculateSize(g,m/h):"auto"===f?m:f);const _={},setAttr=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(_[e]=t.toString())};setAttr("width",g),setAttr("height",x);const j=[c.left,c.top,h,m];return _.viewBox=j.join(" "),{attributes:_,viewBox:j,body:d}}(e);let d=c.viewBox;d[2]!==d[3]&&(t.forceSquare?d=function(e){const[t,s,a,c]=e;if(a!==c){const e=Math.max(a,c);return[t-(e-a)/2,s-(e-c)/2,e,e]}return e}(d):s.width=calculateSize("1em",d[2]/d[3]));const u=function(e){return'url("'+function(e){return"data:image/svg+xml,"+function(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(e)}(e)+'")'}(function(e,t){let s=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const e in t)s+=" "+e+'="'+t[e]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+s+">"+e+"</svg>"}(c.body.replace(/currentColor/g,t.color||"black"),{viewBox:`${d[0]} ${d[1]} ${d[2]} ${d[3]}`,width:`${d[2]}`,height:`${d[3]}`}));if(a)s["--"+a]=u;else switch(t.mode){case"background":s["background-image"]=u;break;case"mask":s["mask-image"]=s["-webkit-mask-image"]=u}return s}const ti={selectorStart:{compressed:"{",compact:" {",expanded:" {"},selectorEnd:{compressed:"}",compact:"; }\n",expanded:";\n}\n"},rule:{compressed:"{key}:",compact:" {key}: ",expanded:"\n  {key}: "}};function getIconCSS(e,t={}){const s=t.customise?t.customise(e.body):e.body,a=t.mode||(t.color||!s.includes("currentColor")?"background":"mask");let c=t.varName;void 0===c&&"mask"===a&&(c="svg");const d={...t,mode:a,varName:c};"background"===a&&delete d.varName;const u={...t.rules,...getCommonCSSRules(d),...generateItemCSSRules({...Qo,...e,body:s},d)};return function(e,t="expanded"){const s=[];for(let a=0;a<e.length;a++){const{selector:c,rules:d}=e[a];let u=(c instanceof Array?c.join("compressed"===t?",":", "):c)+ti.selectorStart[t],f=!0;for(const e in d)f||(u+=";"),u+=ti.rule[t].replace("{key}",e)+d[e],f=!1;u+=ti.selectorEnd[t],s.push(u)}return s.join("compressed"===t?"":"\n")}([{selector:t.iconSelector||".icon",rules:u}],d.format)}const ni={fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},oi={silent:{level:-1},fatal:{level:ni.fatal},error:{level:ni.error},warn:{level:ni.warn},log:{level:ni.log},info:{level:ni.info},success:{level:ni.success},fail:{level:ni.fail},ready:{level:ni.info},start:{level:ni.info},box:{level:ni.info},debug:{level:ni.debug},trace:{level:ni.trace},verbose:{level:ni.verbose}};function isPlainObject$1(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function _defu(e,t,s=".",a){if(!isPlainObject$1(t))return _defu(e,{},s);const c=Object.assign({},t);for(const t in e){if("__proto__"===t||"constructor"===t)continue;const a=e[t];null!=a&&(Array.isArray(a)&&Array.isArray(c[t])?c[t]=[...a,...c[t]]:isPlainObject$1(a)&&isPlainObject$1(c[t])?c[t]=_defu(a,c[t],(s?`${s}.`:"")+t.toString()):c[t]=a)}return c}const defu=(...e)=>e.reduce((e,t)=>_defu(e,t,""),{});function isLogObj(e){return t=e,"[object Object]"===Object.prototype.toString.call(t)&&(!(!e.message&&!e.args)&&!e.stack);var t}let ii=!1;const ri=[];class Consola{options;_lastLog;_mockFn;constructor(e={}){const t=e.types||oi;this.options=defu({...e,defaults:{...e.defaults},level:_normalizeLogLevel(e.level,t),reporters:[...e.reporters||[]]},{types:oi,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const e in t){const s={type:e,...this.options.defaults,...t[e]};this[e]=this._wrapLogFn(s),this[e].raw=this._wrapLogFn(s,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(e){this.options.level=_normalizeLogLevel(e,this.options.types,this.options.level)}prompt(e,t){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(e,t)}create(e){const t=new Consola({...this.options,...e});return this._mockFn&&t.mockTypes(this._mockFn),t}withDefaults(e){return this.create({...this.options,defaults:{...this.options.defaults,...e}})}withTag(e){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+e:e})}addReporter(e){return this.options.reporters.push(e),this}removeReporter(e){if(e){const t=this.options.reporters.indexOf(e);if(-1!==t)return this.options.reporters.splice(t,1)}else this.options.reporters.splice(0);return this}setReporters(e){return this.options.reporters=Array.isArray(e)?e:[e],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const e in this.options.types)console["__"+e]||(console["__"+e]=console[e]),console[e]=this[e].raw}restoreConsole(){for(const e in this.options.types)console["__"+e]&&(console[e]=console["__"+e],delete console["__"+e])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(e,t){e&&(e.__write||(e.__write=e.write),e.write=e=>{this[t].raw(String(e).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(e){e&&e.__write&&(e.write=e.__write,delete e.__write)}pauseLogs(){ii=!0}resumeLogs(){ii=!1;const e=ri.splice(0);for(const t of e)t[0]._logFn(t[1],t[2])}mockTypes(e){const t=e||this.options.mockFn;if(this._mockFn=t,"function"==typeof t)for(const e in this.options.types)this[e]=t(e,this.options.types[e])||this[e],this[e].raw=this[e]}_wrapLogFn(e,t){return(...s)=>{if(!ii)return this._logFn(e,s,t);ri.push([this,e,s,t])}}_logFn(e,t,s){if((e.level||0)>this.level)return!1;const a={date:new Date,args:[],...e,level:_normalizeLogLevel(e.level,this.options.types)};!s&&1===t.length&&isLogObj(t[0])?Object.assign(a,t[0]):a.args=[...t],a.message&&(a.args.unshift(a.message),delete a.message),a.additional&&(Array.isArray(a.additional)||(a.additional=a.additional.split("\n")),a.args.push("\n"+a.additional.join("\n")),delete a.additional),a.type="string"==typeof a.type?a.type.toLowerCase():"log",a.tag="string"==typeof a.tag?a.tag:"";const resolveLog=(e=!1)=>{const t=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&t>0){const e=[...this._lastLog.object.args];t>1&&e.push(`(repeated ${t} times)`),this._log({...this._lastLog.object,args:e}),this._lastLog.count=1}e&&(this._lastLog.object=a,this._log(a))};clearTimeout(this._lastLog.timeout);const c=this._lastLog.time&&a.date?a.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=a.date,c<this.options.throttle)try{const e=JSON.stringify([a.type,a.tag,a.args]),t=this._lastLog.serialized===e;if(this._lastLog.serialized=e,t&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin))return void(this._lastLog.timeout=setTimeout(resolveLog,this.options.throttle))}catch{}resolveLog(!0)}_log(e){for(const t of this.options.reporters)t.log(e,{options:this.options})}}function _normalizeLogLevel(e,t={},s=3){return void 0===e?s:"number"==typeof e?e:t[e]&&void 0!==t[e].level?t[e].level:s}Consola.prototype.add=Consola.prototype.addReporter,Consola.prototype.remove=Consola.prototype.removeReporter,Consola.prototype.clear=Consola.prototype.removeReporter,Consola.prototype.withScope=Consola.prototype.withTag,Consola.prototype.mock=Consola.prototype.mockTypes,Consola.prototype.pause=Consola.prototype.pauseLogs,Consola.prototype.resume=Consola.prototype.resumeLogs;class BrowserReporter{options;defaultColor;levelColorMap;typeColorMap;constructor(e){this.options={...e},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(e){return e<1?console.__error||console.error:1===e?console.__warn||console.warn:console.__log||console.log}log(e){const t=this._getLogFn(e.level),s="log"===e.type?"":e.type,a=e.tag||"",c=`\n      background: ${this.typeColorMap[e.type]||this.levelColorMap[e.level]||this.defaultColor};\n      border-radius: 0.5em;\n      color: white;\n      font-weight: bold;\n      padding: 2px 0.5em;\n    `,d=`%c${[a,s].filter(Boolean).join(":")}`;"string"==typeof e.args[0]?t(`${d}%c ${e.args[0]}`,c,"",...e.args.slice(1)):t(d,c,...e.args)}}const si=function(e={}){return function(e={}){return new Consola(e)}({reporters:e.reporters||[new BrowserReporter({})],prompt:(e,t={})=>"confirm"===t.type?Promise.resolve(confirm(e)):Promise.resolve(prompt(e)),...e})}();function defineRenderHandler(e){const t=useRuntimeConfig();return De(async s=>{const a=useNitroApp(),c={event:s,render:e,response:void 0};if(await a.hooks.callHook("render:before",c),!c.response){if(s.path===`${t.app.baseURL}favicon.ico`)return setResponseHeader(s,"Content-Type","image/x-icon"),send$1(s,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");if(c.response=await c.render(s),!c.response){const e=getResponseStatus(s);return setResponseStatus(s,200===e?500:e),send$1(s,"No response returned from render handler: "+s.path)}}return await a.hooks.callHook("render:response",c.response,c),c.response.headers&&setResponseHeaders(s,c.response.headers),(c.response.statusCode||c.response.statusMessage)&&setResponseStatus(s,c.response.statusCode,c.response.statusMessage),c.response.body})}function baseURL(){return useRuntimeConfig().app.baseURL}function buildAssetsURL(...e){return joinRelativeURL(publicAssetsURL(),useRuntimeConfig().app.buildAssetsDir,...e)}function publicAssetsURL(...e){const t=useRuntimeConfig().app,s=t.cdnURL||t.baseURL;return e.length?joinRelativeURL(s,...e):s}const ai={"application/prs.cww":["cww"],"application/prs.xsf+xml":["xsf"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["*xfdf"],"application/vnd.age":["age"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.autodesk.fbx":["fbx"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dcmp+xml":["dcmp"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["*fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.slides":["ggs"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.drawing":["gdraw"],"application/vnd.google-apps.form":["gform"],"application/vnd.google-apps.jam":["gjam"],"application/vnd.google-apps.map":["gmap"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.script":["gscript"],"application/vnd.google-apps.site":["gsite"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.gov.sk.xmldatacontainer+xml":["xdcf"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["*mpp","mpt"],"application/vnd.ms-visio.viewer":["vdx"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.nato.bindingdataobject+xml":["bdo"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.procrate.brushset":["brushset"],"application/vnd.procreate.brush":["brush"],"application/vnd.procreate.dream":["drm"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.pwg-xhtml-print+xml":["xhtm"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml","uo"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw","vsdx","vtx"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blender":["blend"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-compressed":["*rar"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-ipynb+json":["ipynb"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["*prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["*sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zip-compressed":["*zip"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["*aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif","btf"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.blockfact.facti":["facti"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-adobe-dng":["dng"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.bary":["bary"],"model/vnd.cld":["cld"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["*mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.pytha.pyox":["pyo","pyox"],"model/vnd.sap.vds":["vds"],"model/vnd.usda":["usda"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.familysearch.gedcom":["ged"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};Object.freeze(ai);const ci={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/dicom":["dcm"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg","one","onea"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"application/zip+dotlottie":["lottie"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a","m4b"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/ief":["ief"],"image/jaii":["jaii"],"image/jais":["jais"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpg","jpeg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxl":["jxl"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/pjpeg":["jfif"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime","mht","mhtml"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step":["step","stp","stpnc","p21","210"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts","m2t","m2ts","mts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(ci);var li,di,pi,__classPrivateFieldGet=function(e,t,s,a){if("a"===s&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?a:"a"===s?a.call(e):a?a.value:t.get(e)};li=new WeakMap,di=new WeakMap,pi=new WeakMap;const ui=new class{constructor(...e){li.set(this,new Map),di.set(this,new Map),pi.set(this,new Map);for(const t of e)this.define(t)}define(e,t=!1){for(let[s,a]of Object.entries(e)){s=s.toLowerCase(),a=a.map(e=>e.toLowerCase()),__classPrivateFieldGet(this,pi,"f").has(s)||__classPrivateFieldGet(this,pi,"f").set(s,new Set);const e=__classPrivateFieldGet(this,pi,"f").get(s);let c=!0;for(let d of a){const a=d.startsWith("*");if(d=a?d.slice(1):d,e?.add(d),c&&__classPrivateFieldGet(this,di,"f").set(s,d),c=!1,a)continue;const u=__classPrivateFieldGet(this,li,"f").get(d);if(u&&u!=s&&!t)throw new Error(`"${s} -> ${d}" conflicts with "${u} -> ${d}". Pass \`force=true\` to override this definition.`);__classPrivateFieldGet(this,li,"f").set(d,s)}}return this}getType(e){if("string"!=typeof e)return null;const t=e.replace(/^.*[/\\]/s,"").toLowerCase(),s=t.replace(/^.*\./s,"").toLowerCase(),a=t.length<e.length;return!(s.length<t.length-1)&&a?null:__classPrivateFieldGet(this,li,"f").get(s)??null}getExtension(e){return"string"!=typeof e?null:(e=e?.split?.(";")[0],(e&&__classPrivateFieldGet(this,di,"f").get(e.trim().toLowerCase()))??null)}getAllExtensions(e){return"string"!=typeof e?null:__classPrivateFieldGet(this,pi,"f").get(e.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(const e of __classPrivateFieldGet(this,pi,"f").values())Object.freeze(e);return this}_getTestState(){return{types:__classPrivateFieldGet(this,li,"f"),extensions:__classPrivateFieldGet(this,di,"f")}}}(ci,ai)._freeze();var fi,hi;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const s of e)t[s]=s;return t},e.getValidEnumValues=t=>{const s=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),a={};for(const e of s)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.push(s);return t},e.find=(e,t)=>{for(const s of e)if(t(s))return s},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(fi||(fi={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(hi||(hi={}));const mi=fi.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return mi.undefined;case"string":return mi.string;case"number":return Number.isNaN(e)?mi.nan:mi.number;case"boolean":return mi.boolean;case"function":return mi.function;case"bigint":return mi.bigint;case"symbol":return mi.symbol;case"object":return Array.isArray(e)?mi.array:null===e?mi.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?mi.promise:"undefined"!=typeof Map&&e instanceof Map?mi.map:"undefined"!=typeof Set&&e instanceof Set?mi.set:"undefined"!=typeof Date&&e instanceof Date?mi.date:mi.object;default:return mi.unknown}},gi=fi.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},s={_errors:[]},processError=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(processError);else if("invalid_return_type"===a.code)processError(a.returnTypeError);else if("invalid_arguments"===a.code)processError(a.argumentsError);else if(0===a.path.length)s._errors.push(t(a));else{let e=s,c=0;for(;c<a.path.length;){const s=a.path[c];c===a.path.length-1?(e[s]=e[s]||{_errors:[]},e[s]._errors.push(t(a))):e[s]=e[s]||{_errors:[]},e=e[s],c++}}};return processError(this),s}static assert(e){if(!(e instanceof ZodError))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fi.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},s=[];for(const a of this.issues)if(a.path.length>0){const s=a.path[0];t[s]=t[s]||[],t[s].push(e(a))}else s.push(e(a));return{formErrors:s,fieldErrors:t}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,t)=>{let s;switch(e.code){case gi.invalid_type:s=e.received===mi.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case gi.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(e.expected,fi.jsonStringifyReplacer)}`;break;case gi.unrecognized_keys:s=`Unrecognized key(s) in object: ${fi.joinValues(e.keys,", ")}`;break;case gi.invalid_union:s="Invalid input";break;case gi.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${fi.joinValues(e.options)}`;break;case gi.invalid_enum_value:s=`Invalid enum value. Expected ${fi.joinValues(e.options)}, received '${e.received}'`;break;case gi.invalid_arguments:s="Invalid function arguments";break;case gi.invalid_return_type:s="Invalid function return type";break;case gi.invalid_date:s="Invalid date";break;case gi.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(s=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(s=`${s} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?s=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?s=`Invalid input: must end with "${e.validation.endsWith}"`:fi.assertNever(e.validation):s="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case gi.too_small:s="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case gi.too_big:s="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case gi.custom:s="Invalid input";break;case gi.invalid_intersection_types:s="Intersection results could not be merged";break;case gi.not_multiple_of:s=`Number must be a multiple of ${e.multipleOf}`;break;case gi.not_finite:s="Number must be finite";break;default:s=t.defaultError,fi.assertNever(e)}return{message:s}};let yi=errorMap;function addIssueToContext(e,t){const s=yi,a=(e=>{const{data:t,path:s,errorMaps:a,issueData:c}=e,d=[...s,...c.path||[]],u={...c,path:d};if(void 0!==c.message)return{...c,path:d,message:c.message};let f="";const h=a.filter(e=>!!e).slice().reverse();for(const e of h)f=e(u,{data:t,defaultError:f}).message;return{...c,path:d,message:f}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,s,s===errorMap?void 0:errorMap].filter(e=>!!e)});e.common.issues.push(a)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const s=[];for(const a of t){if("aborted"===a.status)return vi;"dirty"===a.status&&e.dirty(),s.push(a.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,t){const s=[];for(const e of t){const t=await e.key,a=await e.value;s.push({key:t,value:a})}return ParseStatus.mergeObjectSync(e,s)}static mergeObjectSync(e,t){const s={};for(const a of t){const{key:t,value:c}=a;if("aborted"===t.status)return vi;if("aborted"===c.status)return vi;"dirty"===t.status&&e.dirty(),"dirty"===c.status&&e.dirty(),"__proto__"===t.value||void 0===c.value&&!a.alwaysSet||(s[t.value]=c.value)}return{status:e.value,value:s}}}const vi=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>"aborted"===e.status,isDirty=e=>"dirty"===e.status,isValid=e=>"valid"===e.status,isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise;var bi;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(bi||(bi={}));class ParseInputLazyPath{constructor(e,t,s,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=s,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,t)=>{if(isValid(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ZodError(e.common.issues);return this._error=t,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:s,required_error:a,description:c}=e;if(t&&(s||a))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:c};return{errorMap:(t,c)=>{const{message:d}=e;return"invalid_enum_value"===t.code?{message:d??c.defaultError}:void 0===c.data?{message:d??a??c.defaultError}:"invalid_type"!==t.code?{message:c.defaultError}:{message:d??s??c.defaultError}},description:c}}class ZodType{get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(isAsync(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const s=this.safeParse(e,t);if(s.success)return s.data;throw s.error}safeParse(e,t){const s={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},a=this._parseSync({data:e,path:s.path,parent:s});return handleResult(s,a)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:t});return isValid(s)?{value:s.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>isValid(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const s=await this.safeParseAsync(e,t);if(s.success)return s.data;throw s.error}async safeParseAsync(e,t){const s={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},a=this._parse({data:e,path:s.path,parent:s}),c=await(isAsync(a)?a:Promise.resolve(a));return handleResult(s,c)}refine(e,t){const getIssueProperties=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,s)=>{const a=e(t),setError=()=>s.addIssue({code:gi.custom,...getIssueProperties(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(e=>!!e||(setError(),!1)):!!a||(setError(),!1)})}refinement(e,t){return this._refinement((s,a)=>!!e(s)||(a.addIssue("function"==typeof t?t(s,a):t),!1))}_refinement(e){return new ZodEffects({schema:this,typeName:Pi.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:Pi.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:t,typeName:Pi.ZodDefault})}brand(){return new ZodBranded({typeName:Pi.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:t,typeName:Pi.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wi=/^c[^\s-]{8,}$/i,xi=/^[0-9a-z]+$/,_i=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ji=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ki=/^[a-z0-9_-]{21}$/i,Ci=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ri=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ei=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Si;const Ti=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ii=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ai=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$i=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Bi=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Oi=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Li="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ui=new RegExp(`^${Li}$`);function timeRegexSource(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function timeRegex(e){return new RegExp(`^${timeRegexSource(e)}$`)}function datetimeRegex(e){let t=`${Li}T${timeRegexSource(e)}`;const s=[];return s.push(e.local?"Z?":"Z"),e.offset&&s.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${s.join("|")})`,new RegExp(`^${t}$`)}function isValidIP(e,t){return!("v4"!==t&&t||!Ti.test(e))||!("v6"!==t&&t||!Ai.test(e))}function isValidJWT(e,t){if(!Ci.test(e))return!1;try{const[s]=e.split(".");if(!s)return!1;const a=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),c=JSON.parse(atob(a));return"object"==typeof c&&null!==c&&((!("typ"in c)||"JWT"===c?.typ)&&(!!c.alg&&(!t||c.alg===t)))}catch{return!1}}function isValidCidr(e,t){return!("v4"!==t&&t||!Ii.test(e))||!("v6"!==t&&t||!$i.test(e))}class ZodString extends ZodType{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==mi.string){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.string,received:t.parsedType}),vi}const t=new ParseStatus;let s;for(const a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("max"===a.kind)e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),t.dirty());else if("length"===a.kind){const c=e.data.length>a.value,d=e.data.length<a.value;(c||d)&&(s=this._getOrReturnCtx(e,s),c?addIssueToContext(s,{code:gi.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):d&&addIssueToContext(s,{code:gi.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),t.dirty())}else if("email"===a.kind)Ei.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"email",code:gi.invalid_string,message:a.message}),t.dirty());else if("emoji"===a.kind)Si||(Si=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Si.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"emoji",code:gi.invalid_string,message:a.message}),t.dirty());else if("uuid"===a.kind)ji.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"uuid",code:gi.invalid_string,message:a.message}),t.dirty());else if("nanoid"===a.kind)ki.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"nanoid",code:gi.invalid_string,message:a.message}),t.dirty());else if("cuid"===a.kind)wi.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"cuid",code:gi.invalid_string,message:a.message}),t.dirty());else if("cuid2"===a.kind)xi.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"cuid2",code:gi.invalid_string,message:a.message}),t.dirty());else if("ulid"===a.kind)_i.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"ulid",code:gi.invalid_string,message:a.message}),t.dirty());else if("url"===a.kind)try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"url",code:gi.invalid_string,message:a.message}),t.dirty()}else if("regex"===a.kind){a.regex.lastIndex=0;a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"regex",code:gi.invalid_string,message:a.message}),t.dirty())}else if("trim"===a.kind)e.data=e.data.trim();else if("includes"===a.kind)e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),t.dirty());else if("toLowerCase"===a.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===a.kind)e.data=e.data.toUpperCase();else if("startsWith"===a.kind)e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.invalid_string,validation:{startsWith:a.value},message:a.message}),t.dirty());else if("endsWith"===a.kind)e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.invalid_string,validation:{endsWith:a.value},message:a.message}),t.dirty());else if("datetime"===a.kind){datetimeRegex(a).test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.invalid_string,validation:"datetime",message:a.message}),t.dirty())}else if("date"===a.kind){Ui.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.invalid_string,validation:"date",message:a.message}),t.dirty())}else if("time"===a.kind){timeRegex(a).test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.invalid_string,validation:"time",message:a.message}),t.dirty())}else"duration"===a.kind?Ri.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"duration",code:gi.invalid_string,message:a.message}),t.dirty()):"ip"===a.kind?isValidIP(e.data,a.version)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"ip",code:gi.invalid_string,message:a.message}),t.dirty()):"jwt"===a.kind?isValidJWT(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"jwt",code:gi.invalid_string,message:a.message}),t.dirty()):"cidr"===a.kind?isValidCidr(e.data,a.version)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"cidr",code:gi.invalid_string,message:a.message}),t.dirty()):"base64"===a.kind?Bi.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"base64",code:gi.invalid_string,message:a.message}),t.dirty()):"base64url"===a.kind?Oi.test(e.data)||(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{validation:"base64url",code:gi.invalid_string,message:a.message}),t.dirty()):fi.assertNever(a);return{status:t.value,value:e.data}}_regex(e,t,s){return this.refinement(t=>e.test(t),{validation:t,code:gi.invalid_string,...bi.errToObj(s)})}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...bi.errToObj(e)})}url(e){return this._addCheck({kind:"url",...bi.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...bi.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...bi.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...bi.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...bi.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...bi.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...bi.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...bi.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...bi.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...bi.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...bi.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...bi.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...bi.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...bi.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...bi.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...bi.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...bi.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...bi.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...bi.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...bi.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...bi.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...bi.errToObj(t)})}nonempty(e){return this.min(1,bi.errToObj(e))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function floatSafeRemainder(e,t){const s=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,c=s>a?s:a;return Number.parseInt(e.toFixed(c).replace(".",""))%Number.parseInt(t.toFixed(c).replace(".",""))/10**c}ZodString.create=e=>new ZodString({checks:[],typeName:Pi.ZodString,coerce:e?.coerce??!1,...processCreateParams(e)});class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==mi.number){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.number,received:t.parsedType}),vi}let t;const s=new ParseStatus;for(const a of this._def.checks)if("int"===a.kind)fi.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty());else if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty())}else"multipleOf"===a.kind?0!==floatSafeRemainder(e.data,a.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.not_finite,message:a.message}),s.dirty()):fi.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,bi.toString(t))}gt(e,t){return this.setLimit("min",e,!1,bi.toString(t))}lte(e,t){return this.setLimit("max",e,!0,bi.toString(t))}lt(e,t){return this.setLimit("max",e,!1,bi.toString(t))}setLimit(e,t,s,a){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:bi.toString(a)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:bi.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:bi.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:bi.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:bi.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:bi.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:bi.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:bi.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:bi.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:bi.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&fi.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const s of this._def.checks){if("finite"===s.kind||"int"===s.kind||"multipleOf"===s.kind)return!0;"min"===s.kind?(null===t||s.value>t)&&(t=s.value):"max"===s.kind&&(null===e||s.value<e)&&(e=s.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:Pi.ZodNumber,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==mi.bigint)return this._getInvalidInput(e);let t;const s=new ParseStatus;for(const a of this._def.checks)if("min"===a.kind){(a.inclusive?e.data<a.value:e.data<=a.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty())}else if("max"===a.kind){(a.inclusive?e.data>a.value:e.data>=a.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty())}else"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:gi.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):fi.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.bigint,received:t.parsedType}),vi}gte(e,t){return this.setLimit("min",e,!0,bi.toString(t))}gt(e,t){return this.setLimit("min",e,!1,bi.toString(t))}lte(e,t){return this.setLimit("max",e,!0,bi.toString(t))}lt(e,t){return this.setLimit("max",e,!1,bi.toString(t))}setLimit(e,t,s,a){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:s,message:bi.toString(a)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:bi.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:bi.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:bi.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:bi.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:bi.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ZodBigInt.create=e=>new ZodBigInt({checks:[],typeName:Pi.ZodBigInt,coerce:e?.coerce??!1,...processCreateParams(e)});class ZodBoolean extends ZodType{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==mi.boolean){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.boolean,received:t.parsedType}),vi}return OK(e.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:Pi.ZodBoolean,coerce:e?.coerce||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==mi.date){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.date,received:t.parsedType}),vi}if(Number.isNaN(e.data.getTime())){return addIssueToContext(this._getOrReturnCtx(e),{code:gi.invalid_date}),vi}const t=new ParseStatus;let s;for(const a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),t.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),addIssueToContext(s,{code:gi.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),t.dirty()):fi.assertNever(a);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:bi.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:bi.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:e?.coerce||!1,typeName:Pi.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(e){if(this._getType(e)!==mi.symbol){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.symbol,received:t.parsedType}),vi}return OK(e.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:Pi.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(e){if(this._getType(e)!==mi.undefined){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.undefined,received:t.parsedType}),vi}return OK(e.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:Pi.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(e){if(this._getType(e)!==mi.null){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.null,received:t.parsedType}),vi}return OK(e.data)}}ZodNull.create=e=>new ZodNull({typeName:Pi.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}}ZodAny.create=e=>new ZodAny({typeName:Pi.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:Pi.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(e){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.never,received:t.parsedType}),vi}}ZodNever.create=e=>new ZodNever({typeName:Pi.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(e){if(this._getType(e)!==mi.undefined){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.void,received:t.parsedType}),vi}return OK(e.data)}}ZodVoid.create=e=>new ZodVoid({typeName:Pi.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(e){const{ctx:t,status:s}=this._processInputParams(e),a=this._def;if(t.parsedType!==mi.array)return addIssueToContext(t,{code:gi.invalid_type,expected:mi.array,received:t.parsedType}),vi;if(null!==a.exactLength){const e=t.data.length>a.exactLength.value,c=t.data.length<a.exactLength.value;(e||c)&&(addIssueToContext(t,{code:e?gi.too_big:gi.too_small,minimum:c?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),s.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(addIssueToContext(t,{code:gi.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),s.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(addIssueToContext(t,{code:gi.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),s.dirty()),t.common.async)return Promise.all([...t.data].map((e,s)=>a.type._parseAsync(new ParseInputLazyPath(t,e,t.path,s)))).then(e=>ParseStatus.mergeArray(s,e));const c=[...t.data].map((e,s)=>a.type._parseSync(new ParseInputLazyPath(t,e,t.path,s)));return ParseStatus.mergeArray(s,c)}get element(){return this._def.type}min(e,t){return new ZodArray({...this._def,minLength:{value:e,message:bi.toString(t)}})}max(e,t){return new ZodArray({...this._def,maxLength:{value:e,message:bi.toString(t)}})}length(e,t){return new ZodArray({...this._def,exactLength:{value:e,message:bi.toString(t)}})}nonempty(e){return this.min(1,e)}}function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const s in e.shape){const a=e.shape[s];t[s]=ZodOptional.create(deepPartialify(a))}return new ZodObject({...e._def,shape:()=>t})}return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map(e=>deepPartialify(e))):e}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pi.ZodArray,...processCreateParams(t)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=fi.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==mi.object){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.object,received:t.parsedType}),vi}const{status:t,ctx:s}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const e in s.data)c.includes(e)||d.push(e);const u=[];for(const e of c){const t=a[e],c=s.data[e];u.push({key:{status:"valid",value:e},value:t._parse(new ParseInputLazyPath(s,c,s.path,e)),alwaysSet:e in s.data})}if(this._def.catchall instanceof ZodNever){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of d)u.push({key:{status:"valid",value:e},value:{status:"valid",value:s.data[e]}});else if("strict"===e)d.length>0&&(addIssueToContext(s,{code:gi.unrecognized_keys,keys:d}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of d){const a=s.data[t];u.push({key:{status:"valid",value:t},value:e._parse(new ParseInputLazyPath(s,a,s.path,t)),alwaysSet:t in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of u){const s=await t.key,a=await t.value;e.push({key:s,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>ParseStatus.mergeObjectSync(t,e)):ParseStatus.mergeObjectSync(t,u)}get shape(){return this._def.shape()}strict(e){return bi.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,s)=>{const a=this._def.errorMap?.(t,s).message??s.defaultError;return"unrecognized_keys"===t.code?{message:bi.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pi.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){const t={};for(const s of fi.objectKeys(e))e[s]&&this.shape[s]&&(t[s]=this.shape[s]);return new ZodObject({...this._def,shape:()=>t})}omit(e){const t={};for(const s of fi.objectKeys(this.shape))e[s]||(t[s]=this.shape[s]);return new ZodObject({...this._def,shape:()=>t})}deepPartial(){return deepPartialify(this)}partial(e){const t={};for(const s of fi.objectKeys(this.shape)){const a=this.shape[s];e&&!e[s]?t[s]=a:t[s]=a.optional()}return new ZodObject({...this._def,shape:()=>t})}required(e){const t={};for(const s of fi.objectKeys(this.shape))if(e&&!e[s])t[s]=this.shape[s];else{let e=this.shape[s];for(;e instanceof ZodOptional;)e=e._def.innerType;t[s]=e}return new ZodObject({...this._def,shape:()=>t})}keyof(){return createZodEnum(fi.objectKeys(this.shape))}}ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:Pi.ZodObject,...processCreateParams(t)}),ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:Pi.ZodObject,...processCreateParams(t)}),ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:Pi.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),s=this._def.options;if(t.common.async)return Promise.all(s.map(async e=>{const s={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:s}),ctx:s}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const s of e)if("dirty"===s.result.status)return t.common.issues.push(...s.ctx.common.issues),s.result;const s=e.map(e=>new ZodError(e.ctx.common.issues));return addIssueToContext(t,{code:gi.invalid_union,unionErrors:s}),vi});{let e;const a=[];for(const c of s){const s={...t,common:{...t.common,issues:[]},parent:null},d=c._parseSync({data:t.data,path:t.path,parent:s});if("valid"===d.status)return d;"dirty"!==d.status||e||(e={result:d,ctx:s}),s.common.issues.length&&a.push(s.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const c=a.map(e=>new ZodError(e));return addIssueToContext(t,{code:gi.invalid_union,unionErrors:c}),vi}}get options(){return this._def.options}}function mergeValues(e,t){const s=getParsedType(e),a=getParsedType(t);if(e===t)return{valid:!0,data:e};if(s===mi.object&&a===mi.object){const s=fi.objectKeys(t),a=fi.objectKeys(e).filter(e=>-1!==s.indexOf(e)),c={...e,...t};for(const s of a){const a=mergeValues(e[s],t[s]);if(!a.valid)return{valid:!1};c[s]=a.data}return{valid:!0,data:c}}if(s===mi.array&&a===mi.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const c=mergeValues(e[a],t[a]);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}return s===mi.date&&a===mi.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:Pi.ZodUnion,...processCreateParams(t)});class ZodIntersection extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e),handleParsed=(e,a)=>{if(isAborted(e)||isAborted(a))return vi;const c=mergeValues(e.value,a.value);return c.valid?((isDirty(e)||isDirty(a))&&t.dirty(),{status:t.value,value:c.data}):(addIssueToContext(s,{code:gi.invalid_intersection_types}),vi)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([e,t])=>handleParsed(e,t)):handleParsed(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}ZodIntersection.create=(e,t,s)=>new ZodIntersection({left:e,right:t,typeName:Pi.ZodIntersection,...processCreateParams(s)});class ZodTuple extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==mi.array)return addIssueToContext(s,{code:gi.invalid_type,expected:mi.array,received:s.parsedType}),vi;if(s.data.length<this._def.items.length)return addIssueToContext(s,{code:gi.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),vi;!this._def.rest&&s.data.length>this._def.items.length&&(addIssueToContext(s,{code:gi.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...s.data].map((e,t)=>{const a=this._def.items[t]||this._def.rest;return a?a._parse(new ParseInputLazyPath(s,e,s.path,t)):null}).filter(e=>!!e);return s.common.async?Promise.all(a).then(e=>ParseStatus.mergeArray(t,e)):ParseStatus.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}}ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:Pi.ZodTuple,rest:null,...processCreateParams(t)})};class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==mi.map)return addIssueToContext(s,{code:gi.invalid_type,expected:mi.map,received:s.parsedType}),vi;const a=this._def.keyType,c=this._def.valueType,d=[...s.data.entries()].map(([e,t],d)=>({key:a._parse(new ParseInputLazyPath(s,e,s.path,[d,"key"])),value:c._parse(new ParseInputLazyPath(s,t,s.path,[d,"value"]))}));if(s.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const s of d){const a=await s.key,c=await s.value;if("aborted"===a.status||"aborted"===c.status)return vi;"dirty"!==a.status&&"dirty"!==c.status||t.dirty(),e.set(a.value,c.value)}return{status:t.value,value:e}})}{const e=new Map;for(const s of d){const a=s.key,c=s.value;if("aborted"===a.status||"aborted"===c.status)return vi;"dirty"!==a.status&&"dirty"!==c.status||t.dirty(),e.set(a.value,c.value)}return{status:t.value,value:e}}}}ZodMap.create=(e,t,s)=>new ZodMap({valueType:t,keyType:e,typeName:Pi.ZodMap,...processCreateParams(s)});class ZodSet extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.parsedType!==mi.set)return addIssueToContext(s,{code:gi.invalid_type,expected:mi.set,received:s.parsedType}),vi;const a=this._def;null!==a.minSize&&s.data.size<a.minSize.value&&(addIssueToContext(s,{code:gi.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&s.data.size>a.maxSize.value&&(addIssueToContext(s,{code:gi.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());const c=this._def.valueType;function finalizeSet(e){const s=new Set;for(const a of e){if("aborted"===a.status)return vi;"dirty"===a.status&&t.dirty(),s.add(a.value)}return{status:t.value,value:s}}const d=[...s.data.values()].map((e,t)=>c._parse(new ParseInputLazyPath(s,e,s.path,t)));return s.common.async?Promise.all(d).then(e=>finalizeSet(e)):finalizeSet(d)}min(e,t){return new ZodSet({...this._def,minSize:{value:e,message:bi.toString(t)}})}max(e,t){return new ZodSet({...this._def,maxSize:{value:e,message:bi.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:Pi.ZodSet,...processCreateParams(t)});class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:Pi.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{received:t.data,code:gi.invalid_literal,expected:this._def.value}),vi}return{status:"valid",value:e.data}}get value(){return this._def.value}}function createZodEnum(e,t){return new ZodEnum({values:e,typeName:Pi.ZodEnum,...processCreateParams(t)})}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:Pi.ZodLiteral,...processCreateParams(t)});class ZodEnum extends ZodType{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),s=this._def.values;return addIssueToContext(t,{expected:fi.joinValues(s),received:t.parsedType,code:gi.invalid_type}),vi}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),s=this._def.values;return addIssueToContext(t,{received:t.data,code:gi.invalid_enum_value,options:s}),vi}return OK(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ZodEnum.create(e,{...this._def,...t})}exclude(e,t=this._def){return ZodEnum.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(e){const t=fi.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==mi.string&&s.parsedType!==mi.number){const e=fi.objectValues(t);return addIssueToContext(s,{expected:fi.joinValues(e),received:s.parsedType,code:gi.invalid_type}),vi}if(this._cache||(this._cache=new Set(fi.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=fi.objectValues(t);return addIssueToContext(s,{received:s.data,code:gi.invalid_enum_value,options:e}),vi}return OK(e.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:Pi.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==mi.promise&&!1===t.common.async)return addIssueToContext(t,{code:gi.invalid_type,expected:mi.promise,received:t.parsedType}),vi;const s=t.parsedType===mi.promise?t.data:Promise.resolve(t.data);return OK(s.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:Pi.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pi.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:s}=this._processInputParams(e),a=this._def.effect||null,c={addIssue:e=>{addIssueToContext(s,e),e.fatal?t.abort():t.dirty()},get path(){return s.path}};if(c.addIssue=c.addIssue.bind(c),"preprocess"===a.type){const e=a.transform(s.data,c);if(s.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return vi;const a=await this._def.schema._parseAsync({data:e,path:s.path,parent:s});return"aborted"===a.status?vi:"dirty"===a.status||"dirty"===t.value?DIRTY(a.value):a});{if("aborted"===t.value)return vi;const a=this._def.schema._parseSync({data:e,path:s.path,parent:s});return"aborted"===a.status?vi:"dirty"===a.status||"dirty"===t.value?DIRTY(a.value):a}}if("refinement"===a.type){const executeRefinement=e=>{const t=a.refinement(e,c);if(s.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===s.common.async){const e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===e.status?vi:("dirty"===e.status&&t.dirty(),executeRefinement(e.value),{status:t.value,value:e.value})}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(e=>"aborted"===e.status?vi:("dirty"===e.status&&t.dirty(),executeRefinement(e.value).then(()=>({status:t.value,value:e.value}))))}if("transform"===a.type){if(!1===s.common.async){const e=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!isValid(e))return vi;const d=a.transform(e.value,c);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:d}}return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(e=>isValid(e)?Promise.resolve(a.transform(e.value,c)).then(e=>({status:t.value,value:e})):vi)}fi.assertNever(a)}}ZodEffects.create=(e,t,s)=>new ZodEffects({schema:e,typeName:Pi.ZodEffects,effect:t,...processCreateParams(s)}),ZodEffects.createWithPreprocess=(e,t,s)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:Pi.ZodEffects,...processCreateParams(s)});class ZodOptional extends ZodType{_parse(e){return this._getType(e)===mi.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:Pi.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(e){return this._getType(e)===mi.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:Pi.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);let s=t.data;return t.parsedType===mi.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:Pi.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),s={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return isAsync(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ZodError(s.common.issues)},input:s.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new ZodError(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:Pi.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(e){if(this._getType(e)!==mi.nan){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:gi.invalid_type,expected:mi.nan,received:t.parsedType}),vi}return{status:"valid",value:e.data}}}ZodNaN.create=e=>new ZodNaN({typeName:Pi.ZodNaN,...processCreateParams(e)});class ZodBranded extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),s=t.data;return this._def.type._parse({data:s,path:t.path,parent:t})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(e){const{status:t,ctx:s}=this._processInputParams(e);if(s.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return"aborted"===e.status?vi:"dirty"===e.status?(t.dirty(),DIRTY(e.value)):this._def.out._parseAsync({data:e.value,path:s.path,parent:s})})()}{const e=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return"aborted"===e.status?vi:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:s.path,parent:s})}}static create(e,t){return new ZodPipeline({in:e,out:t,typeName:Pi.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(e){const t=this._def.innerType._parse(e),freeze=e=>(isValid(e)&&(e.value=Object.freeze(e.value)),e);return isAsync(t)?t.then(e=>freeze(e)):freeze(t)}unwrap(){return this._def.innerType}}var Pi;ZodReadonly.create=(e,t)=>new ZodReadonly({innerType:e,typeName:Pi.ZodReadonly,...processCreateParams(t)}),function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Pi||(Pi={}));const Ni=ZodString.create,zi=ZodNumber.create;ZodBigInt.create;const Zi=ZodBoolean.create;ZodDate.create;const Mi=ZodAny.create;ZodNever.create;const Hi=ZodArray.create,qi=ZodObject.create;ZodUnion.create;const Fi=ZodIntersection.create;ZodTuple.create;const Di=ZodEnum.create;ZodPromise.create,ZodOptional.create,ZodNullable.create;const coerce_number=e=>ZodNumber.create({...e,coerce:!0}),Ki=/^[A-Za-z]:\//;function normalizeWindowsPath(e=""){return e?e.replace(/\\/g,"/").replace(Ki,e=>e.toUpperCase()):e}const Wi=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Vi=/^[A-Za-z]:$/,Qi=/.(\.[^./]+)$/,dirname=function(e){const t=normalizeWindowsPath(e).replace(/\/$/,"").split("/").slice(0,-1);return 1===t.length&&Vi.test(t[0])&&(t[0]+="/"),t.join("/")||(function(e){return Wi.test(e)}(e)?"/":".")},parse=function(e){const t=normalizeWindowsPath(e).split("/").shift()||"/",s=function(e,t){const s=normalizeWindowsPath(e).split("/").pop();return t&&s.endsWith(t)?s.slice(0,-t.length):s}(e),a=function(e){const t=Qi.exec(normalizeWindowsPath(e));return t&&t[1]||""}(s);return{root:t,dir:dirname(e),base:s,ext:a,name:s.slice(0,s.length-a.length)}};async function streamToArrayBuffer(e,t){const s=new Uint8Array(t);let a=0;const c=e.getReader();for(;;){const{done:e,value:t}=await c.read();if(e)break;s.set(t,a),a+=t.length}return s}const Ji={ai:["NuxtHub AI is not enabled, set `hub.ai = true` in your `nuxt.config.ts`"].join("\n"),analytics:["NuxtHub Analytics is not enabled, set `hub.analytics = true` in your `nuxt.config.ts`"].join("\n"),blob:["NuxtHub Blob is not enabled, set `hub.blob = true` in your `nuxt.config.ts`","Read more at `https://hub.nuxt.com/docs/features/blob`"].join("\n"),cache:["NuxtHub Cache is not enabled, set `hub.cache = true` in your `nuxt.config.ts`"].join("\n"),database:["NuxtHub Database is not enabled, set `hub.database = true` in your `nuxt.config.ts`","Read more at `https://hub.nuxt.com/docs/features/database`"].join("\n"),kv:["NuxtHub KV is not enabled, set `hub.kv = true` in your `nuxt.config.ts`","Read more at `https://hub.nuxt.com/docs/features/kv`"].join("\n"),vectorize:["NuxtHub Vectorize is not enabled, refer to the documentation.","Read more at `https://hub.nuxt.com/docs/features/vectorize`"].join("\n")};function requireNuxtHubFeature(e){const t=useRuntimeConfig().hub;if(!t[e])throw createError$1({statusCode:422,statusMessage:"Unprocessable Entity",message:Ji[e]});if(t.remote&&!t.remoteManifest?.features?.[e]&&!t.remoteManifest?.storage?.[e]){throw createError$1({statusCode:422,statusMessage:"Unprocessable Entity",message:`NuxtHub \`${e}\` is not enabled in the remote project. Deploy a new version with \`${e}\` enabled and try again.\nRead more at \`https://hub.nuxt.com/docs/getting-started/remote-storage\``})}}const Gi={};function getBlobBinding(e="BLOB"){return kt.env[e]||globalThis.__env__?.[e]||globalThis[e]}function hubBlob(){requireNuxtHubFeature("blob");const e=useRuntimeConfig().hub,t=getBlobBinding();if(e.remote&&e.projectUrl&&!t)return function(e,t){requireNuxtHubFeature("blob");const s=rt.create({baseURL:joinURL(e,"/api/_hub/blob"),headers:{Authorization:`Bearer ${t}`}}),a={list:async(e={limit:1e3})=>s("/",{method:"GET",query:e}),serve:async(e,t)=>s(encodeURIComponent(t),{method:"GET"}),async put(e,t,a={}){const{contentType:c,contentLength:d,...u}=a,f={};return c&&(f["content-type"]=c),d&&(f["content-length"]=d),t instanceof Uint8Array&&(t=new Blob([t])),await s(encodeURIComponent(e),{method:"PUT",headers:f,body:t,query:u})},head:async e=>await s(`/head/${encodeURIComponent(e)}`,{method:"GET"}),get:async e=>await s(`/${encodeURIComponent(e)}`,{method:"GET",responseType:"blob"}),async del(e){Array.isArray(e)?await s("/delete",{method:"POST",body:{pathnames:e.map(e=>encodeURIComponent(e))}}):await s(encodeURIComponent(e),{method:"DELETE"})},createMultipartUpload:async(e,t={})=>await s(`/multipart/create/${encodeURIComponent(e)}`,{method:"POST",query:t}),resumeMultipartUpload:(e,t)=>({pathname:e,uploadId:t,uploadPart:async(a,c)=>await s(`/multipart/upload/${encodeURIComponent(e)}`,{method:"PUT",query:{uploadId:t,partNumber:a},body:c}),async abort(){await s(`/multipart/abort/${encodeURIComponent(e)}`,{method:"DELETE",query:{uploadId:t}})},complete:async a=>await s(`/multipart/complete/${encodeURIComponent(e)}`,{method:"POST",query:{uploadId:t},body:{parts:a}})}),handleUpload:async(e,t={})=>await s("/",{method:"POST",body:await readFormData(e),query:t}),createCredentials:async(e={})=>await s("/credentials",{method:"POST",body:e})};return{...a,delete:a.del,handleMultipartUpload:createMultipartUploadHandler(a)}}(e.projectUrl,e.projectSecretKey||e.userToken);const s=function(e="BLOB"){if(Gi[e])return Gi[e];const t=getBlobBinding(e);if(t)return Gi[e]=t,Gi[e];throw createError$1(`Missing Cloudflare ${e} binding (R2)`)}(),a={async list(e){const t=J(e,{limit:1e3,include:["httpMetadata","customMetadata"],delimiter:e?.folded?"/":void 0}),a=await s.list(t),c=a.truncated,d=a.truncated?a.cursor:void 0;return{blobs:a.objects.map(mapR2ObjectToBlob),hasMore:c,cursor:d,folders:t.delimiter?a.delimitedPrefixes:void 0}},async serve(e,t){t=decodeURIComponent(t);const a=await s.get(t);if(!a)throw createError$1({message:"File not found",statusCode:404});return ze(e,"Content-Type",a.httpMetadata?.contentType||getContentType(t)),ze(e,"Content-Length",a.size),ze(e,"etag",a.httpEtag),a.body},async get(e){const t=await s.get(decodeURIComponent(e));return t?t.blob():null},async put(e,t,a={}){e=decodeURIComponent(e);const{contentType:c,contentLength:d,addRandomSuffix:u,prefix:f,customMetadata:h}=a,m=c||t.type||getContentType(e),{dir:g,ext:x,name:_}=parse(e);e=joinURL("."===g?"":g,u?`${_}-${randomUUID().split("-")[0]}${x}`:`${_}${x}`),f&&(e=joinURL(f,e).replace(/\/+/g,"/").replace(/^\/+/,""));const j={contentType:m};d&&(j.contentLength=d);return mapR2ObjectToBlob(await s.put(e,t,{httpMetadata:j,customMetadata:h}))},async head(e){const t=await s.head(decodeURIComponent(e));if(!t)throw createError$1({message:"Blob not found",statusCode:404});return mapR2ObjectToBlob(t)},del:async e=>Array.isArray(e)?await s.delete(e.map(e=>decodeURIComponent(e))):await s.delete(decodeURIComponent(e)),async createMultipartUpload(e,t={}){e=decodeURIComponent(e);const{contentType:a,contentLength:c,addRandomSuffix:d,prefix:u,customMetadata:f}=t,h=a||getContentType(e),{dir:m,ext:g,name:x}=parse(e);e=joinURL("."===m?"":m,d?`${x}-${randomUUID().split("-")[0]}${g}`:`${x}${g}`),u&&(e=joinURL(u,e).replace(/\/+/g,"/").replace(/^\/+/,""));const _={contentType:h};c&&(_.contentLength=c);return mapR2MpuToBlobMpu(await s.createMultipartUpload(e,{httpMetadata:_,customMetadata:f}))},resumeMultipartUpload:(e,t)=>mapR2MpuToBlobMpu(s.resumeMultipartUpload(decodeURIComponent(e),t)),async handleUpload(e,t={}){assertMethod(e,["POST","PUT","PATCH"]),t=J(t,{formKey:"files",multiple:!0});const s=(await readFormData(e)).getAll(t.formKey);if(!s)throw createError$1({statusCode:400,message:"Missing files"});if(!t.multiple&&s.length>1)throw createError$1({statusCode:400,message:"Multiple files are not allowed"});const c=[];try{if(t.ensure)for(const e of s)ensureBlob(e,t.ensure);for(const e of s){const s=await a.put(e.name,e,t.put);c.push(s)}}catch(e){throw createError$1({statusCode:500,message:`Storage error: ${e.message}`})}return c},async createCredentials(t={}){if(!kt.env.NUXT_HUB_PROJECT_DEPLOY_TOKEN)throw createError$1("Missing `NUXT_HUB_PROJECT_DEPLOY_TOKEN` environment variable, make sure to deploy with `npx nuxthub deploy` or with the NuxtHub Admin.");const s=kt.env.NUXT_HUB_ENV||e.env||"production";return await $fetch(`/api/projects/${e.projectKey}/blob/${s}/credentials`,{baseURL:e.url,method:"POST",body:t,headers:{authorization:`Bearer ${kt.env.NUXT_HUB_PROJECT_DEPLOY_TOKEN}`}})}};return{...a,delete:a.del,handleMultipartUpload:createMultipartUploadHandler(a)}}function createMultipartUploadHandler(e){const{createMultipartUpload:t,resumeMultipartUpload:s}=e,createHandler=async(e,s)=>{const{pathname:a}=await getValidatedRouterParams(e,qi({pathname:Ni().min(1)}).parse);try{const e=await t(a,s);return{uploadId:e.uploadId,pathname:e.pathname}}catch(e){throw createError$1({statusCode:400,message:e.message})}},uploadHandler=async e=>{const{pathname:t}=await getValidatedRouterParams(e,qi({pathname:Ni().min(1)}).parse),{uploadId:a,partNumber:c}=await getValidatedQuery(e,qi({uploadId:Ni(),partNumber:coerce_number()}).parse),d=Number(Ae(e,"content-length")||"0"),u=getRequestWebStream(e),f=await streamToArrayBuffer(u,d),h=s(t,a);try{return await h.uploadPart(c,f)}catch(e){throw createError$1({status:400,message:e.message})}},completeHandler=async e=>{const{pathname:t}=await getValidatedRouterParams(e,qi({pathname:Ni().min(1)}).parse),{uploadId:a}=await getValidatedQuery(e,qi({uploadId:Ni().min(1)}).parse),{parts:c}=await readValidatedBody(e,qi({parts:Hi(qi({partNumber:zi(),etag:Ni()}))}).parse),d=s(t,a);try{return await d.complete(c)}catch(e){throw createError$1({status:400,message:e.message})}},abortHandler=async e=>{const{pathname:t}=await getValidatedRouterParams(e,qi({pathname:Ni().min(1)}).parse),{uploadId:a}=await getValidatedQuery(e,qi({uploadId:Ni().min(1)}).parse),c=s(t,a);try{await c.abort()}catch(e){throw createError$1({status:400,message:e.message})}};return async(e,t)=>{const s=await(async(e,t)=>{const s=e.method,{action:a}=await getValidatedRouterParams(e,qi({action:Di(["create","upload","complete","abort"])}).parse);if("create"===a&&"POST"===s)return{action:a,data:await createHandler(e,t)};if("upload"===a&&"PUT"===s)return{action:a,data:await uploadHandler(e)};if("complete"===a&&"POST"===s)return{action:a,data:await completeHandler(e)};if("abort"===a&&"DELETE"===s)return{action:a,data:await abortHandler(e)};throw createError$1({status:405})})(e,t);return s.data?e.respondWith(Response.json(s.data)):sendNoContent(e),s}}function getContentType(e){return e&&ui.getType(e)||"application/octet-stream"}function mapR2ObjectToBlob(e){return{pathname:e.key,contentType:e.httpMetadata?.contentType,size:e.size,httpEtag:e.httpEtag,uploadedAt:e.uploaded,httpMetadata:e.httpMetadata||{},customMetadata:e.customMetadata||{}}}function mapR2MpuToBlobMpu(e){return{pathname:e.key,uploadId:e.uploadId,uploadPart:async(t,s)=>await e.uploadPart(t,s),abort:e.abort,complete:async t=>mapR2ObjectToBlob(await e.complete(t))}}const Yi=["B","KB","MB","GB"];function ensureBlob(e,t={}){if(requireNuxtHubFeature("blob"),!t.maxSize&&!t.types?.length)throw createError$1({statusCode:400,message:"ensureBlob() requires at least one of maxSize or types to be set."});if(t.maxSize){const s=function(e){const t=new RegExp(`^(\\d+)(\\.\\d+)?\\s*(${Yi.join("|")})$`,"i"),s=e.match(t);if(!s)throw createError$1({statusCode:400,message:`Invalid file size format: ${e}`});const a=Number.parseFloat(s[1]),c=s[3].toUpperCase();if(!Yi.includes(c))throw createError$1({statusCode:400,message:`Invalid file size unit: ${c}`});const d=a*Math.pow(1024,Yi.indexOf(c));return Math.floor(d)}(t.maxSize);if(e.size>s)throw createError$1({statusCode:400,message:`File size must be less than ${t.maxSize}`})}const s=e.type.split("/")[0];if(t.types?.length&&!t.types.includes(e.type)&&!t.types.includes(s))throw createError$1({statusCode:400,message:`File type is invalid, must be: ${t.types.join(", ")}`})}let Xi;function hubDatabase(){if(requireNuxtHubFeature("database"),Xi)return Xi;const e=useRuntimeConfig().hub,t=kt.env.DB||globalThis.__env__?.DB||globalThis.DB;if(e.remote&&e.projectUrl&&!t)return Xi=function(e,t){requireNuxtHubFeature("database");const s=rt.create({baseURL:joinURL(e,"/api/_hub/database"),method:"POST",headers:{Authorization:`Bearer ${t}`}});return{exec:async e=>s("/exec",{body:{query:e}}).catch(handleProxyError),dump:async()=>s("/dump").catch(handleProxyError),prepare(e){const t={_body:{query:e,params:[]},bind:(...s)=>({...t,_body:{query:e,params:s}}),async all(){return s("/all",{body:this._body}).catch(handleProxyError)},async raw(e){return s("/raw",{body:{...this._body,...e}}).catch(handleProxyError)},async run(){return s("/run",{body:this._body}).catch(handleProxyError)},async first(e){return s("/first",{body:{...this._body,colName:e}}).catch(handleProxyError).then(e=>e||null)}};return t},batch:e=>s("/batch",{body:e.map(e=>e._body)})}}(e.projectUrl,e.projectSecretKey||e.userToken),Xi;if(t)return Xi=t,Xi;throw createError$1("Missing Cloudflare DB binding (D1)")}function handleProxyError(e){throw createError$1({statusCode:e.statusCode,message:e.data?.message||e.message})}function createError(e,t,s){const a=new Error(`[unstorage] [${e}] ${t}`,s);return Error.captureStackTrace&&Error.captureStackTrace(a,createError),a}const httpDriver=e=>{const r=(t="")=>joinURL(e.base,t.replace(/:/g,"/")),rBase=(t="")=>joinURL(e.base,(t||"/").replace(/:/g,"/"),":"),catchFetchError=(e,t=null)=>{if(404===e?.response?.status)return t;throw e},getHeaders=(t,s)=>{const a={...s,...e.headers,...t?.headers};return t?.ttl&&!a["x-ttl"]&&(a["x-ttl"]=t.ttl+""),a};return{name:"http",options:e,hasItem:(e,t)=>st(r(e),{method:"HEAD",headers:getHeaders(t)}).then(()=>!0).catch(e=>catchFetchError(e,!1)),getItem:async(e,t)=>await st(r(e),{headers:getHeaders(t)}).catch(catchFetchError),getItemRaw:async(e,t)=>(await st.raw(r(e),{responseType:"arrayBuffer",headers:getHeaders(t,{accept:"application/octet-stream"})}).catch(catchFetchError))._data,async getMeta(e,t){const s=await st.raw(r(e),{method:"HEAD",headers:getHeaders(t)});let a,c;const d=s.headers.get("last-modified");d&&(a=new Date(d));const u=s.headers.get("x-ttl");return u&&(c=Number.parseInt(u,10)),{status:s.status,mtime:a,ttl:c}},async setItem(e,t,s){await st(r(e),{method:"PUT",body:t,headers:getHeaders(s)})},async setItemRaw(e,t,s){await st(r(e),{method:"PUT",body:t,headers:getHeaders(s,{"content-type":"application/octet-stream"})})},async removeItem(e,t){await st(r(e),{method:"DELETE",headers:getHeaders(t)})},async getKeys(e,t){const s=await st(rBase(e),{headers:getHeaders(t)});return Array.isArray(s)?s:[]},async clear(e,t){await st(rBase(e),{method:"DELETE",headers:getHeaders(t)})}}};function getKVBinding(e="STORAGE"){return function(e){let t="[binding]";if("string"==typeof e&&(t=e,e=globalThis[t]||globalThis.__env__?.[t]),!e)throw createError("cloudflare",`Invalid binding \`${t}\`: \`${e}\``);for(const s of["get","put","delete"])if(!(s in e))throw createError("cloudflare",`Invalid binding \`${t}\`: \`${s}\` key is missing`);return e}(e)}const cloudflareKVBindingDriver=e=>{const r=(t="")=>e.base?function(...e){return e.map(e=>function(e,t=":"){return e?e.replace(/[:/\\]/g,t).replace(/^[:/\\]|[:/\\]$/g,""):""}(e)).filter(Boolean).join(":")}(e.base,t):t;async function getKeys(t=""){t=r(t);const s=getKVBinding(e.binding),a=[];let c;do{const e=await s.list({prefix:t||void 0,cursor:c});a.push(...e.keys),c=e.list_complete?void 0:e.cursor}while(c);return a.map(e=>e.name)}return{name:"cloudflare-kv-binding",options:e,getInstance:()=>getKVBinding(e.binding),async hasItem(t){t=r(t);const s=getKVBinding(e.binding);return null!==await s.get(t)},getItem(t){t=r(t);return getKVBinding(e.binding).get(t)},setItem(t,s,a){t=r(t);return getKVBinding(e.binding).put(t,s,a?{expirationTtl:a?.ttl?Math.max(a.ttl,e.minTTL??60):void 0,...a}:void 0)},removeItem(t){t=r(t);return getKVBinding(e.binding).delete(t)},getKeys:t=>getKeys(t).then(t=>t.map(t=>e.base?t.slice(e.base.length):t)),async clear(t){const s=getKVBinding(e.binding),a=await getKeys(t);await Promise.all(a.map(e=>s.delete(e)))}}};function hubKV(){requireNuxtHubFeature("kv");const e=useRuntimeConfig().hub,t=kt.env.KV||globalThis.__env__?.KV||globalThis.KV;if(e.remote&&e.projectUrl&&!t)return function(e,t){requireNuxtHubFeature("kv");const s=createStorage({driver:httpDriver({base:joinURL(e,"/api/_hub/kv/"),headers:{Authorization:`Bearer ${t}`}})});return s}(e.projectUrl,e.projectSecretKey||e.userToken);if(t){return createStorage({driver:cloudflareKVBindingDriver({binding:t})})}throw createError$1("Missing Cloudflare KV binding (KV)")}function getOAuthRedirectURL(e){const t=getRequestURL(e);return`${t.protocol}//${t.host}${t.pathname}`}async function requestAccessToken(e,t){const s={"Content-Type":"application/x-www-form-urlencoded",...t.headers},a="application/x-www-form-urlencoded"===s["Content-Type"]?new URLSearchParams(t.body||t.params||{}).toString():t.body;return $fetch(e,{method:"POST",headers:s,body:a}).catch(e=>{if(e instanceof FetchError&&401===e.status)return e.data;throw e})}function handleAccessTokenErrorResponse(e,t,s,a){const c=createError$1({statusCode:401,message:`${upperFirst(t)} login failed: ${s.error_description||s.error||"Unknown error"}`,data:s});if(!a)throw c;return a(e,c)}function handleMissingConfiguration(e,t,s,a){const c=createError$1({statusCode:500,message:`Missing ${s.map(e=>`NUXT_OAUTH_${t.toUpperCase()}_${snakeCase(e).toUpperCase()}`).join(" or ")} env ${s.length>1?"variables":"variable"}.`});if(!a)throw c;return a(e,c)}async function handleState(e){if(getQuery(e).state){const t=getCookie(e,"nuxt-auth-state");return function(e,t,s){setCookie(e,t,"",{...s,maxAge:0})}(e,"nuxt-auth-state"),t}const t=(s=function(e=32){return getRandomValues(new Uint8Array(e))}(8),btoa(String.fromCharCode.apply(null,s)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,""));var s;return setCookie(e,"nuxt-auth-state",t,{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:600,path:"/"}),t}function defineOAuthGitHubEventHandler({config:e,onSuccess:t,onError:s}){return De(async a=>{e=J(e,useRuntimeConfig(a).oauth?.github,{authorizationURL:"https://github.com/login/oauth/authorize",tokenURL:"https://github.com/login/oauth/access_token",apiURL:"https://api.github.com",authorizationParams:{}});const c=getQuery(a);if(c.error){const e=createError$1({statusCode:401,message:`GitHub login failed: ${c.error||"Unknown error"}`,data:c});if(!s)throw e;return s(a,e)}if(!e.clientId||!e.clientSecret)return handleMissingConfiguration(a,"github",["clientId","clientSecret"],s);const d=e.redirectURL||getOAuthRedirectURL(a),u=await handleState(a);if(!c.code)return e.scope=e.scope||[],e.emailRequired&&!e.scope.includes("user:email")&&e.scope.push("user:email"),sendRedirect(a,withQuery(e.authorizationURL,{client_id:e.clientId,redirect_uri:d,scope:e.scope.join(" "),state:u,...e.authorizationParams}));if(c.state!==u)return function(e,t,s){const a=createError$1({statusCode:500,message:`${upperFirst(t)} login failed: state mismatch`});if(!s)throw a;return s(e,a)}(a,"github",s);const f=await requestAccessToken(e.tokenURL,{body:{grant_type:"authorization_code",client_id:e.clientId,client_secret:e.clientSecret,redirect_uri:d,code:c.code}});if(f.error)return handleAccessTokenErrorResponse(a,"github",f,s);const h=f.access_token,m=await $fetch(`${e.apiURL}/user`,{headers:{"User-Agent":`Github-OAuth-${e.clientId}`,Authorization:`token ${h}`}});if(!m.email&&e.emailRequired){const t=(await $fetch(`${e.apiURL}/user/emails`,{headers:{"User-Agent":`Github-OAuth-${e.clientId}`,Authorization:`token ${h}`}})).find(e=>e.primary);if(!t){const e=createError$1({statusCode:500,message:"Could not get GitHub user email",data:f});if(!s)throw e;return s(a,e)}m.email=t.email,m.email_verified=t.verified}return t(a,{user:m,tokens:f})})}function defineOAuthGoogleEventHandler({config:e,onSuccess:t,onError:s}){return De(async a=>{e=J(e,useRuntimeConfig(a).oauth?.google,{authorizationURL:"https://accounts.google.com/o/oauth2/v2/auth",tokenURL:"https://oauth2.googleapis.com/token",userURL:"https://www.googleapis.com/oauth2/v3/userinfo",authorizationParams:{}});const c=getQuery(a);if(!e.clientId||!e.clientSecret)return handleMissingConfiguration(a,"google",["clientId","clientSecret"],s);const d=e.redirectURL||getOAuthRedirectURL(a);if(!c.code)return e.scope=e.scope||["email","profile"],sendRedirect(a,withQuery(e.authorizationURL,{response_type:"code",client_id:e.clientId,redirect_uri:d,scope:e.scope.join(" "),state:c.state||"",...e.authorizationParams}));const u=await requestAccessToken(e.tokenURL,{body:{grant_type:"authorization_code",code:c.code,client_id:e.clientId,client_secret:e.clientSecret,redirect_uri:d}});if(u.error)return handleAccessTokenErrorResponse(a,"google",u,s);const f=u.access_token,h=await $fetch(e.userURL,{headers:{Authorization:`Bearer ${f}`}});return t(a,{tokens:u,user:h})})}const er=createHooks();async function getUserSession(e){const t=await _useSession(e);return{...t.data,id:t.id}}async function setUserSession(e,t,s){const a=await _useSession(e,s);return await a.update(J(t,a.data)),a.data}async function requireUserSession(e,t={}){const s=await getUserSession(e);if(!s.user)throw isEvent(e)?createError$1({statusCode:t.statusCode||401,message:t.message||"Unauthorized"}):new Response(t.message||"Unauthorized",{status:t.statusCode||401});return s}let tr;function _useSession(e,t={}){if(!tr){const t=useRuntimeConfig(isEvent(e)?e:void 0),s=`${t.nitro?.envPrefix||"NUXT_"}SESSION_PASSWORD`;tr=J({password:kt.env[s]},t.session),tr.password||console.error(`[nuxt-auth-utils] ${s} environment variable or runtimeConfig.session.password was not set.`)}return useSession(e,J(t,tr))}function createRemoteCollection(e){let t;return async()=>{if(t)return t;const s=await fetch(e).then(e=>e.json());return t=s,s}}const nr={academicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/academicons/icons.json"),"akar-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/akar-icons/icons.json"),"ant-design":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ant-design/icons.json"),arcticons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/arcticons/icons.json"),basil:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/basil/icons.json"),bi:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/bi/icons.json"),"bitcoin-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/bitcoin-icons/icons.json"),bpmn:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/bpmn/icons.json"),brandico:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/brandico/icons.json"),bx:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/bx/icons.json"),bxl:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/bxl/icons.json"),bxs:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/bxs/icons.json"),bytesize:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/bytesize/icons.json"),carbon:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/carbon/icons.json"),catppuccin:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/catppuccin/icons.json"),cbi:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/cbi/icons.json"),charm:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/charm/icons.json"),ci:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ci/icons.json"),cib:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/cib/icons.json"),cif:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/cif/icons.json"),cil:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/cil/icons.json"),"circle-flags":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/circle-flags/icons.json"),circum:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/circum/icons.json"),clarity:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/clarity/icons.json"),codicon:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/codicon/icons.json"),covid:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/covid/icons.json"),cryptocurrency:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/cryptocurrency/icons.json"),"cryptocurrency-color":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/cryptocurrency-color/icons.json"),dashicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/dashicons/icons.json"),devicon:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/devicon/icons.json"),"devicon-plain":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/devicon-plain/icons.json"),ei:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ei/icons.json"),el:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/el/icons.json"),emojione:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/emojione/icons.json"),"emojione-monotone":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/emojione-monotone/icons.json"),"emojione-v1":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/emojione-v1/icons.json"),entypo:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/entypo/icons.json"),"entypo-social":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/entypo-social/icons.json"),"eos-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/eos-icons/icons.json"),ep:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ep/icons.json"),et:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/et/icons.json"),eva:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/eva/icons.json"),f7:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/f7/icons.json"),fa:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fa/icons.json"),"fa-brands":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fa-brands/icons.json"),"fa-regular":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fa-regular/icons.json"),"fa-solid":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fa-solid/icons.json"),"fa6-brands":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fa6-brands/icons.json"),"fa6-regular":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fa6-regular/icons.json"),"fa6-solid":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fa6-solid/icons.json"),fad:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fad/icons.json"),fe:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fe/icons.json"),feather:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/feather/icons.json"),"file-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/file-icons/icons.json"),flag:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/flag/icons.json"),flagpack:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/flagpack/icons.json"),"flat-color-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/flat-color-icons/icons.json"),"flat-ui":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/flat-ui/icons.json"),flowbite:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/flowbite/icons.json"),fluent:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fluent/icons.json"),"fluent-emoji":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fluent-emoji/icons.json"),"fluent-emoji-flat":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fluent-emoji-flat/icons.json"),"fluent-emoji-high-contrast":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fluent-emoji-high-contrast/icons.json"),"fluent-mdl2":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fluent-mdl2/icons.json"),fontelico:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fontelico/icons.json"),fontisto:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fontisto/icons.json"),formkit:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/formkit/icons.json"),foundation:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/foundation/icons.json"),fxemoji:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/fxemoji/icons.json"),gala:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/gala/icons.json"),"game-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/game-icons/icons.json"),geo:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/geo/icons.json"),gg:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/gg/icons.json"),gis:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/gis/icons.json"),"gravity-ui":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/gravity-ui/icons.json"),gridicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/gridicons/icons.json"),"grommet-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/grommet-icons/icons.json"),guidance:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/guidance/icons.json"),healthicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/healthicons/icons.json"),heroicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/heroicons/icons.json"),"heroicons-outline":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/heroicons-outline/icons.json"),"heroicons-solid":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/heroicons-solid/icons.json"),hugeicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/hugeicons/icons.json"),humbleicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/humbleicons/icons.json"),ic:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ic/icons.json"),"icomoon-free":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/icomoon-free/icons.json"),"icon-park":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/icon-park/icons.json"),"icon-park-outline":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/icon-park-outline/icons.json"),"icon-park-solid":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/icon-park-solid/icons.json"),"icon-park-twotone":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/icon-park-twotone/icons.json"),iconamoon:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/iconamoon/icons.json"),iconoir:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/iconoir/icons.json"),icons8:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/icons8/icons.json"),il:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/il/icons.json"),ion:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ion/icons.json"),iwwa:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/iwwa/icons.json"),jam:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/jam/icons.json"),la:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/la/icons.json"),"lets-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/lets-icons/icons.json"),"line-md":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/line-md/icons.json"),logos:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/logos/icons.json"),ls:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ls/icons.json"),lucide:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/lucide/icons.json"),"lucide-lab":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/lucide-lab/icons.json"),mage:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/mage/icons.json"),majesticons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/majesticons/icons.json"),maki:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/maki/icons.json"),map:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/map/icons.json"),marketeq:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/marketeq/icons.json"),"material-symbols":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/material-symbols/icons.json"),"material-symbols-light":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/material-symbols-light/icons.json"),mdi:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/mdi/icons.json"),"mdi-light":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/mdi-light/icons.json"),"medical-icon":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/medical-icon/icons.json"),memory:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/memory/icons.json"),meteocons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/meteocons/icons.json"),mi:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/mi/icons.json"),mingcute:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/mingcute/icons.json"),"mono-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/mono-icons/icons.json"),mynaui:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/mynaui/icons.json"),nimbus:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/nimbus/icons.json"),nonicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/nonicons/icons.json"),noto:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/noto/icons.json"),"noto-v1":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/noto-v1/icons.json"),octicon:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/octicon/icons.json"),oi:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/oi/icons.json"),ooui:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ooui/icons.json"),openmoji:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/openmoji/icons.json"),oui:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/oui/icons.json"),pajamas:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/pajamas/icons.json"),pepicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/pepicons/icons.json"),"pepicons-pencil":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/pepicons-pencil/icons.json"),"pepicons-pop":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/pepicons-pop/icons.json"),"pepicons-print":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/pepicons-print/icons.json"),ph:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ph/icons.json"),pixelarticons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/pixelarticons/icons.json"),prime:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/prime/icons.json"),ps:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ps/icons.json"),quill:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/quill/icons.json"),"radix-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/radix-icons/icons.json"),raphael:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/raphael/icons.json"),ri:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/ri/icons.json"),"rivet-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/rivet-icons/icons.json"),"si-glyph":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/si-glyph/icons.json"),"simple-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/simple-icons/icons.json"),"simple-line-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/simple-line-icons/icons.json"),"skill-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/skill-icons/icons.json"),solar:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/solar/icons.json"),streamline:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/streamline/icons.json"),"streamline-emojis":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/streamline-emojis/icons.json"),subway:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/subway/icons.json"),"svg-spinners":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/svg-spinners/icons.json"),"system-uicons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/system-uicons/icons.json"),tabler:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/tabler/icons.json"),tdesign:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/tdesign/icons.json"),teenyicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/teenyicons/icons.json"),token:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/token/icons.json"),"token-branded":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/token-branded/icons.json"),topcoat:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/topcoat/icons.json"),twemoji:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/twemoji/icons.json"),typcn:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/typcn/icons.json"),uil:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/uil/icons.json"),uim:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/uim/icons.json"),uis:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/uis/icons.json"),uit:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/uit/icons.json"),uiw:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/uiw/icons.json"),unjs:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/unjs/icons.json"),vaadin:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/vaadin/icons.json"),vs:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/vs/icons.json"),"vscode-icons":createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/vscode-icons/icons.json"),websymbol:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/websymbol/icons.json"),weui:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/weui/icons.json"),whh:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/whh/icons.json"),wi:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/wi/icons.json"),wpf:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/wpf/icons.json"),zmdi:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/zmdi/icons.json"),zondicons:createRemoteCollection("https://cdn.jsdelivr.net/npm/@iconify-json/zondicons/icons.json")},or=defineCachedEventHandler(async e=>{const t=getRequestURL(e);if(!t)return createError$1({status:400,message:"Invalid icon request"});const s=Bo.icon,a=e.context.params?.collection?.replace(/\.json$/,""),c=a?await(nr[a]?.()):null,d=s.iconifyApiEndpoint||"https://api.iconify.design",u=t.searchParams.get("icons")?.split(",");if(c&&u?.length){const e=getIcons(c,u);return si.debug(`[Icon] serving ${(u||[]).map(e=>"`"+a+":"+e+"`").join(",")} from bundled collection`),e}if(!0===s.fallbackToApi||"server-only"===s.fallbackToApi){const e=new URL("./"+basename$1(t.pathname)+t.search,d);if(si.debug(`[Icon] fetching ${(u||[]).map(e=>"`"+a+":"+e+"`").join(",")} from iconify api`),e.host!==new URL(d).host)return createError$1({status:400,message:"Invalid icon request"});try{return await $fetch(e.href)}catch(e){return si.error(e),404===e.status?createError$1({status:404}):createError$1({status:500,message:"Failed to fetch fallback icon"})}}return createError$1({status:404})},{group:"nuxt",name:"icon",getKey(e){const t=e.context.params?.collection?.replace(/\.json$/,"")||"unknown",s=String(getQuery(e).icons||"");return`${t}_${s.split(",")[0]}_${s.length}_${hash$1(s)}`},swr:!0,maxAge:604800}),ir=De(async e=>(await async function(e,t){const s=await _useSession(e,t);return await er.callHookParallel("clear",s.data,e),await s.clear(),!0}(e),{loggedOut:!0})),_lazy_AGWfRR=()=>import("../routes/renderer.mjs").then(function(e){return e.O}),rr=[{route:"/api/admin/init-db",handler:()=>import("../routes/api/admin/init-db.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/admin/migrate-dynamic",handler:()=>import("../routes/api/admin/migrate-dynamic.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/auth/github",handler:()=>import("../routes/api/auth/github.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/auth/google",handler:()=>import("../routes/api/auth/google.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/collections",handler:()=>import("../routes/api/collections.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/collections/:id",handler:()=>import("../routes/api/collections/_id_.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/collections/:id/comments",handler:()=>import("../routes/api/collections/_id/comments.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/collections/:id/fields/:fieldId",handler:()=>import("../routes/api/collections/_id/fields/_fieldId_.delete.mjs"),lazy:!0,middleware:!1,method:"delete"},{route:"/api/collections/:id/fields/:fieldId/values",handler:()=>import("../routes/api/collections/_id/fields/_fieldId/values.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/collections/:id/import",handler:()=>import("../routes/api/collections/_id/import.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/collections/:id/items",handler:()=>import("../routes/api/collections/_id/items.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/collections/:id/items/:itemId",handler:()=>import("../routes/api/collections/_id/items/_itemId_.delete.mjs"),lazy:!0,middleware:!1,method:"delete"},{route:"/api/collections/:id/shares",handler:()=>import("../routes/api/collections/_id/shares.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/collections/:id/shares/:shareId",handler:()=>import("../routes/api/collections/_id/shares/_shareId_.delete.mjs"),lazy:!0,middleware:!1,method:"delete"},{route:"/api/debug/user",handler:()=>import("../routes/api/debug/user.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/debug/values/:id/:fieldId",handler:()=>import("../routes/api/debug/values/_id/_fieldId_.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/explore",handler:()=>import("../routes/api/explore.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/user/avatar",handler:()=>import("../routes/api/user/avatar.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/api/user/profile",handler:()=>import("../routes/api/user/profile.patch.mjs"),lazy:!0,middleware:!1,method:"patch"},{route:"/api/_hub/**:feature",handler:()=>import("../routes/api/_hub/_...feature_.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/_hub",handler:()=>import("../routes/api/index.head.mjs"),lazy:!0,middleware:!1,method:"head"},{route:"/api/_hub/manifest",handler:()=>import("../routes/api/_hub/manifest.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/_hub/openapi",handler:()=>import("../routes/api/_hub/openapi.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/_hub/blob/**:pathname",handler:()=>import("../routes/api/_hub/blob/_...pathname_.delete.mjs"),lazy:!0,middleware:!1,method:"delete"},{route:"/api/_hub/blob/**:pathname",handler:()=>import("../routes/api/_hub/blob/_...pathname_.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/_hub/blob/**:pathname",handler:()=>import("../routes/api/_hub/blob/_...pathname_.put.mjs"),lazy:!0,middleware:!1,method:"put"},{route:"/api/_hub/blob/credentials",handler:()=>import("../routes/api/_hub/blob/credentials.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/api/_hub/blob/delete-folder",handler:()=>import("../routes/api/_hub/blob/delete-folder.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/api/_hub/blob/delete",handler:()=>import("../routes/api/_hub/blob/delete.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/api/_hub/blob/head/**:pathname",handler:()=>import("../routes/api/_hub/blob/head/_...pathname_.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/_hub/blob",handler:()=>import("../routes/api/_hub/index.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/api/_hub/blob",handler:()=>import("../routes/api/_hub/index.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/api/_hub/blob/multipart/:action/**:pathname",handler:()=>import("../routes/api/_hub/blob/multipart/_action/_...pathname_.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/api/_hub/database/:command",handler:()=>import("../routes/api/_hub/database/_command_.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/api/_hub/database/query",handler:()=>import("../routes/api/_hub/database/query.options.mjs"),lazy:!0,middleware:!1,method:"options"},{route:"/api/_hub/database/query",handler:()=>import("../routes/api/_hub/database/query.post.mjs"),lazy:!0,middleware:!1,method:"post"},{route:"/api/_hub/kv/**:path",handler:()=>import("../routes/api/_hub/kv/_...path_.mjs"),lazy:!0,middleware:!1,method:void 0},{route:"/auth/debug",handler:()=>import("../routes/auth/debug.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/auth/github",handler:()=>import("../routes/auth/github.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/auth/google",handler:()=>import("../routes/auth/google.get.mjs"),lazy:!0,middleware:!1,method:"get"},{route:"/__nuxt_error",handler:_lazy_AGWfRR,lazy:!0,middleware:!1,method:void 0},{route:"",handler:Fo,lazy:!1,middleware:!0,method:void 0},{route:"/__nuxt_island/**",handler:Do,lazy:!1,middleware:!1,method:void 0},{route:"/api/_nuxt_icon/:collection",handler:or,lazy:!1,middleware:!1,method:void 0},{route:"/api/_auth/session",handler:ir,lazy:!1,middleware:!1,method:"delete"},{route:"/api/_auth/session",handler:De(async e=>{const t=await getUserSession(e);Object.keys(t).length>0&&await er.callHookParallel("fetch",t,e);const{secure:s,...a}=t;return a}),lazy:!1,middleware:!1,method:"get"},{route:"/**",handler:_lazy_AGWfRR,lazy:!0,middleware:!1,method:void 0}];const sr=function(){const e=useRuntimeConfig(),t=createHooks(),captureError=(e,s={})=>{const a=t.callHookParallel("error",e,s).catch(e=>{console.error("Error while capturing another error",e)});if(s.event&&isEvent(s.event)){const t=s.event.context.nitro?.errors;t&&t.push({error:e,context:s}),s.event.waitUntil&&s.event.waitUntil(a)}},s=createApp({debug:destr(!1),onError:(e,t)=>(captureError(e,{event:t,tags:["request"]}),async function(e,t){for(const s of Ho)try{if(await s(e,t,{defaultHandler:defaultHandler}),t.handled)return}catch(e){console.error(e)}}(e,t)),onRequest:async e=>{e.context.nitro=e.context.nitro||{errors:[]};const t=e.node.req?.__unenv__;t?._platform&&(e.context={_platform:t?._platform,...t._platform,...e.context}),!e.context.waitUntil&&t?.waitUntil&&(e.context.waitUntil=t.waitUntil),e.fetch=(t,s)=>fetchWithEvent(e,t,s,{fetch:localFetch}),e.$fetch=(t,s)=>fetchWithEvent(e,t,s,{fetch:d}),e.waitUntil=t=>{e.context.nitro._waitUntilPromises||(e.context.nitro._waitUntilPromises=[]),e.context.nitro._waitUntilPromises.push(t),e.context.waitUntil&&e.context.waitUntil(t)},e.captureError=(t,s)=>{captureError(t,{event:e,...s})},await sr.hooks.callHook("request",e).catch(t=>{captureError(t,{event:e,tags:["request"]})})},onBeforeResponse:async(e,t)=>{await sr.hooks.callHook("beforeResponse",e,t).catch(t=>{captureError(t,{event:e,tags:["request","response"]})})},onAfterResponse:async(e,t)=>{await sr.hooks.callHook("afterResponse",e,t).catch(t=>{captureError(t,{event:e,tags:["request","response"]})})}}),a=function(e={}){const t=createRouter$1({}),s={};let a;const c={},addRoute=(e,a,d)=>{let u=s[e];if(u||(s[e]=u={path:e,handlers:{}},t.insert(e,u)),Array.isArray(d))for(const t of d)addRoute(e,a,t);else u.handlers[d]=toEventHandler(a,0,e);return c};c.use=c.add=(e,t,s)=>addRoute(e,t,s||"all");for(const e of Ke)c[e]=(t,s)=>c.add(t,s,e);const matchHandler=(e="/",s="get")=>{const c=e.indexOf("?");-1!==c&&(e=e.slice(0,Math.max(0,c)));const d=t.lookup(e);if(!d||!d.handlers)return{error:createError$1({statusCode:404,name:"Not Found",statusMessage:`Cannot find any route matching ${e||"/"}.`})};let u=d.handlers[s]||d.handlers.all;if(!u){a||(a=toRouteMatcher(t));const c=a.matchAll(e).reverse();for(const e of c){if(e.handlers[s]){u=e.handlers[s],d.handlers[s]=d.handlers[s]||u;break}if(e.handlers.all){u=e.handlers.all,d.handlers.all=d.handlers.all||u;break}}}return u?{matched:d,handler:u}:{error:createError$1({statusCode:405,name:"Method Not Allowed",statusMessage:`Method ${s} is not allowed on this route.`})}},d=e.preemptive||e.preemtive;return c.handler=De(e=>{const t=matchHandler(e.path,e.method.toLowerCase());if("error"in t){if(d)throw t.error;return}e.context.matchedRoute=t.matched;const s=t.matched.params||{};return e.context.params=s,Promise.resolve(t.handler(e)).then(e=>void 0===e&&d?null:e)}),c.handler.__resolve__=async e=>{e=withLeadingSlash(e);const t=matchHandler(e);if("error"in t)return;let s={route:t.matched.path,handler:t.handler};if(t.handler.__resolve__){const a=await t.handler.__resolve__(e);if(!a)return;s={...s,...a}}return s},c}({preemptive:!0}),c=toNodeListener(s),localFetch=(e,t)=>e.toString().startsWith("/")?async function(e,t,s={}){try{const a=await b(e,{url:t,...s});return new Response(a.body,{status:a.status,statusText:a.statusText,headers:v(a.headers)})}catch(e){return new Response(e.toString(),{status:Number.parseInt(e.statusCode||e.code)||500,statusText:e.statusText})}}(c,e,t).then(e=>function(e){return e.headers.has("set-cookie")?new Response(e.body,{status:e.status,statusText:e.statusText,headers:normalizeCookieHeaders(e.headers)}):e}(e)):globalThis.fetch(e,t),d=createFetch({fetch:localFetch,Headers:ot,defaults:{baseURL:e.app.baseURL}});var u;globalThis.$fetch=d,s.use((u={localFetch:localFetch},De(e=>{const t=getRouteRules(e);if(t.headers&&Ne(e,t.headers),t.redirect){let s=t.redirect.to;if(s.endsWith("/**")){let a=e.path;const c=t.redirect._redirectStripBase;c&&(a=withoutBase(a,c)),s=joinURL(s.slice(0,-3),a)}else e.path.includes("?")&&(s=withQuery(s,getQuery$1(e.path)));return sendRedirect(e,s,t.redirect.statusCode)}if(t.proxy){let s=t.proxy.to;if(s.endsWith("/**")){let a=e.path;const c=t.proxy._proxyStripBase;c&&(a=withoutBase(a,c)),s=joinURL(s.slice(0,-3),a)}else e.path.includes("?")&&(s=withQuery(s,getQuery$1(e.path)));return proxyRequest(e,s,{fetch:u.localFetch,...t.proxy})}})));for(const t of rr){let c=t.lazy?lazyEventHandler(t.handler):t.handler;if(t.middleware||!t.route){const a=(e.app.baseURL+(t.route||"/")).replace(/\/+/g,"/");s.use(a,c)}else{const e=getRouteRulesForPath(t.route.replace(/:\w+|\*\*/g,"_"));e.cache&&(c=yt(c,{group:"nitro/routes",...e.cache})),a.use(t.route,c,t.method)}}s.use(e.app.baseURL,a.handler);{const e=s.handler;s.handler=t=>{const s={event:t};return zo.callAsync(s,()=>e(t))}}return{hooks:t,h3App:s,router:a,localCall:e=>b(c,e),localFetch:localFetch,captureError:captureError}}();function useNitroApp(){return sr}!function(e){for(const t of qo)try{t(e)}catch(t){throw e.captureError(t,{tags:["plugin"]}),t}}(sr);class Agent extends _EventEmitter{__unenv__={};maxFreeSockets=256;maxSockets=1/0;maxTotalSockets=1/0;freeSockets={};sockets={};requests={};options;constructor(e={}){super(),this.options=e}destroy(){}}new Agent;const ar={Agent:Agent};export{st as $,Ae as A,_ as B,getRequestWebStream as C,streamToArrayBuffer as D,readValidatedBody as E,Hi as F,getValidatedQuery as G,destr as H,Di as I,Fi as J,Zi as K,Mi as L,normalizeBaseKey as M,normalizeKey$2 as N,isError as O,getRequestHeader as P,stringify as Q,readRawBody as R,setResponseHeader as S,defineOAuthGitHubEventHandler as T,sendRedirect as U,defineOAuthGoogleEventHandler as V,withLeadingSlash as W,createHooks as X,buildAssetsURL as Y,getResponseStatusText as Z,getResponseStatus as _,useStorage as a,defineRenderHandler as a0,publicAssetsURL as a1,getRouteRules as a2,Qe as a3,Agent as a4,createFetch as a5,ar as a6,createNotImplementedError as a7,serialize$1 as a8,G as a9,parseQuery as aa,J as ab,createDefu$1 as ac,hasProtocol as ad,isScriptProtocol as ae,appendResponseHeader as af,klona as ag,withQuery as ah,sanitizeStatusCode as ai,withTrailingSlash as aj,withoutTrailingSlash as ak,getContext as al,isEqual as am,getIconCSS as an,baseURL as ao,executeAsync as ap,toRouteMatcher as aq,createRouter$1 as ar,hash$1 as as,upperFirst as at,createError$1 as b,j as c,defineEventHandler as d,requireUserSession as e,readBody as f,getRouterParam as g,hubDatabase as h,readMultipartFormData as i,hubBlob as j,setUserSession as k,De as l,requireNuxtHubFeature as m,sendNoContent as n,useRuntimeConfig as o,kt as p,rt as q,requestHasBody as r,C as s,joinURL as t,useNitroApp as u,hubKV as v,getValidatedRouterParams as w,qi as x,Ni as y,getQuery as z};
//# sourceMappingURL=nitro.mjs.map

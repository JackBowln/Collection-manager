import{d as s,h as t,a as e,b as a}from"../../../_/nitro.mjs";import"node:async_hooks";const r=s(async s=>{const r=t(),o=await e("root").getItem("server/database/schema.sql");if(!o)throw a({statusCode:404,message:"Schema file not found"});const n=o.split(";").map(s=>s.trim()).filter(s=>s.length>0),c=[];for(const s of n)try{await r.prepare(s).run(),c.push({status:"success",statement:s.substring(0,50)+"..."})}catch(t){c.push({status:"error",error:t.message,statement:s.substring(0,50)+"..."})}return{success:!0,results:c}});export{r as default};
//# sourceMappingURL=init-db.mjs.map

import{d as a,e,g as r,h as t}from"../../../../../../_/nitro.mjs";import"node:async_hooks";const n=a(async a=>{const{user:n}=await e(a);r(a,"id");const s=r(a,"fieldId"),o=t(),l=await o.prepare("\n    SELECT DISTINCT value \n    FROM item_values \n    WHERE field_id = ? \n    AND value IS NOT NULL \n    AND value != ''\n    ORDER BY value ASC\n  ").bind(s).all(),d=new Set;return l.results.forEach(a=>{try{const e=JSON.parse(a.value);Array.isArray(e)?e.forEach(a=>{a&&"string"==typeof a&&d.add(a)}):"object"==typeof e&&null!==e||d.add(String(e))}catch(e){a.value&&"string"==typeof a.value&&d.add(a.value)}}),Array.from(d).sort()});export{n as default};
//# sourceMappingURL=values.get.mjs.map

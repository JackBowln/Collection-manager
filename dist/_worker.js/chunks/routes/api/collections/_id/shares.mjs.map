{"version":3,"file":"shares.mjs","sources":["../../../../../../../server/api/collections/[id]/shares.ts"],"names":["shares","defineEventHandler","async","event","user","requireUserSession","collectionId","getRouterParam","db","hubDatabase","col","prepare","bind","first","user_id","id","createError","statusCode","message","method","all","results","map","s","profiles","email","full_name","avatar_url","shareEmail","readBody","targetUser","crypto","randomUUID","run","e","includes","success"],"mappings":"wGAAA,MAAAA,EAAAC,EAAAC,MAAAC,IACA,MAAAC,KAAAA,SAAAC,EAAAF,GACAG,EAAAC,EAAAJ,EAAA,MACAK,EAAAC,IAGAC,QAAAF,EAAAG,QAAA,gDAAAC,KAAAN,GAAAO,QACA,IAAAH,GAAAA,EAAAI,UAAAV,EAAAW,GACA,MAAAC,EAAA,CAAAC,WAAA,IAAAC,QAAA,cAIA,GAAA,QAAAf,EAAAgB,OAAA,CASA,aARAX,EAAAG,QAAA,6LAKAC,KAAAN,GAAAc,OAGAC,QAAAC,IAAAC,IAAA,CACAR,GAAAQ,EAAAR,GACAD,QAAAS,EAAAT,QACAU,SAAA,CACAT,GAAAQ,EAAAT,QACAW,MAAAF,EAAAE,MACAC,UAAAH,EAAAG,UACAC,WAAAJ,EAAAI,cAGA,CAGA,GAAA,SAAAxB,EAAAgB,OAAA,CACA,MACAS,SADAC,EAAA1B,IACAsB,MAGAK,QAAAtB,EAAAG,QAAA,2CAAAC,KAAAgB,GAAAf,QACA,IAAAiB,EACA,MAAAd,EAAA,CAAAC,WAAA,IAAAC,QAAA,mBAIA,MAAAH,EAAAgB,OAAAC,aACA,UACAxB,EAAAG,QAAA,+EACAC,KAAAG,EAAAT,EAAAwB,EAAAf,IAAAkB,KACA,OAAAC,GACA,GAAAA,EAAAhB,QAAAiB,SAAA,UACA,MAAAnB,EAAA,CAAAC,WAAA,IAAAC,QAAA,mBAEA,MAAAgB,CACA,CAEA,MAAA,CAAAE,SAAA,EACA"}
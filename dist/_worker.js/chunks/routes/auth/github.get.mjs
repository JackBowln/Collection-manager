import{T as a,h as r,k as n,U as i}from"../../_/nitro.mjs";import"node:async_hooks";const e=a({async onSuccess(a,{user:e}){const l=r();try{await l.prepare("\n            INSERT INTO profiles (id, email, full_name, avatar_url)\n            VALUES (?, ?, ?, ?)\n            ON CONFLICT(id) DO UPDATE SET\n                email = EXCLUDED.email,\n                full_name = EXCLUDED.full_name,\n                avatar_url = EXCLUDED.avatar_url\n        ").bind(String(e.id),e.email||e.login,e.name||e.login,e.avatar_url).run()}catch(a){console.error("Error syncing profile:",a)}return await n(a,{user:{id:String(e.id),email:e.email||e.login,name:e.name||e.login,avatar:e.avatar_url}}),i(a,"/dashboard")}});export{e as default};
//# sourceMappingURL=github.get.mjs.map

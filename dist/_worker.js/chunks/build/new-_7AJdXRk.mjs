import{v as e,u as o,a as r,_ as a}from"./server.mjs";import{_ as l}from"./Card-Bfh9rD5X.mjs";import{_ as s,a as d}from"./Input-CUCmPBr7.mjs";import{_ as t}from"./Select-PkSwbjSb.mjs";import{_ as i,a as n}from"./FieldDefinition-CtRzfioR.mjs";import{u}from"./useSupabaseClient-CktZlRub.mjs";import{A as m,y as c,C as p,G as f}from"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:process";import"node:async_hooks";import"../_/shared.esm-bundler.mjs";const h=e.defineComponent({__name:"new",__ssrInlineRender:!0,setup(h){u(),o(),r();const b=e.ref(!1),V=e.reactive({name:"",description:"",visibility:"private",fields:[]}),addField=()=>{V.fields.push({name:"",type:"text",options:[],visible:!0,required:!1,folder_order:V.fields.length})},v=e.ref(!1);return e.ref(null),(o,r,u,h)=>{const x=a,C=l,y=s,_=d,g=t,w=i,U=n;r(`<div${m(e.mergeProps({class:"max-w-3xl mx-auto p-4"},h))}><div class="flex items-center gap-4 mb-6">`),r(c(x,{icon:"i-heroicons-arrow-left",variant:"ghost",to:"/dashboard"},null,u)),r('<h1 class="text-2xl font-bold">Criar Nova Coleção</h1></div><form>'),r(c(C,{class:"mb-6"},{header:e.withCtx((o,r,a,l)=>{if(!r)return[e.createVNode("h2",{class:"font-semibold"},"Detalhes Básicos")];r(`<h2 class="font-semibold"${l}>Detalhes Básicos</h2>`)}),default:e.withCtx((o,r,a,l)=>{if(!r)return[e.createVNode("div",{class:"space-y-4"},[e.createVNode(y,{label:"Nome da Coleção",required:""},{default:e.withCtx(()=>[e.createVNode(_,{modelValue:e.unref(V).name,"onUpdate:modelValue":o=>e.unref(V).name=o,placeholder:"ex. Discos de Vinil",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e.createVNode(y,{label:"Descrição"},{default:e.withCtx(()=>[e.createVNode(g,{modelValue:e.unref(V).description,"onUpdate:modelValue":o=>e.unref(V).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,8,["modelValue","onUpdate:modelValue"])]),_:1})])];r(`<div class="space-y-4"${l}>`),r(c(y,{label:"Nome da Coleção",required:""},{default:e.withCtx((o,r,a,l)=>{if(!r)return[e.createVNode(_,{modelValue:e.unref(V).name,"onUpdate:modelValue":o=>e.unref(V).name=o,placeholder:"ex. Discos de Vinil",required:""},null,8,["modelValue","onUpdate:modelValue"])];r(c(_,{modelValue:e.unref(V).name,"onUpdate:modelValue":o=>e.unref(V).name=o,placeholder:"ex. Discos de Vinil",required:""},null,a,l))}),_:1},a,l)),r(c(y,{label:"Descrição"},{default:e.withCtx((o,r,a,l)=>{if(!r)return[e.createVNode(g,{modelValue:e.unref(V).description,"onUpdate:modelValue":o=>e.unref(V).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,8,["modelValue","onUpdate:modelValue"])];r(c(g,{modelValue:e.unref(V).description,"onUpdate:modelValue":o=>e.unref(V).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,a,l))}),_:1},a,l)),r("</div>")}),_:1},u)),r(c(w,{modelValue:e.unref(V).visibility,"onUpdate:modelValue":o=>e.unref(V).visibility=o,class:"mb-6"},null,u)),r(`<div class="relative mb-6"><div class="absolute -top-1 left-0 right-0 h-1 pointer-events-none"></div><div class="${p([[e.unref(v)?"backdrop-blur-md border-b border-gray-200 dark:border-gray-800":"border-transparent"],"flex justify-between items-center mb-4 sticky top-0 z-10 py-4 transition-all duration-300 dark:bg-transparent"])}"><h2 class="text-lg font-semibold">Campos Personalizados</h2>`),r(c(x,{size:"sm",icon:"i-heroicons-plus",onClick:addField},{default:e.withCtx((o,r,a,l)=>{if(!r)return[e.createTextVNode("Adicionar Campo")];r("Adicionar Campo")}),_:1},u)),r("</div>"),0===e.unref(V).fields.length?r('<div class="text-center py-8 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg"><p class="text-gray-500">Nenhum campo definido. Adicione campos para estruturar sua coleção.</p></div>'):r("\x3c!----\x3e"),r('<div class="space-y-4">\x3c!--[--\x3e'),f(e.unref(V).fields,(o,a)=>{r(c(U,{key:a,modelValue:e.unref(V).fields[a],"onUpdate:modelValue":o=>e.unref(V).fields[a]=o,onRemove:e=>(e=>{V.fields.splice(e,1)})(a)},null,u))}),r('\x3c!--]--\x3e</div></div><div class="flex justify-end gap-3">'),r(c(x,{to:"/dashboard",color:"gray",variant:"ghost"},{default:e.withCtx((o,r,a,l)=>{if(!r)return[e.createTextVNode("Cancelar")];r("Cancelar")}),_:1},u)),r(c(x,{type:"submit",loading:e.unref(b)},{default:e.withCtx((o,r,a,l)=>{if(!r)return[e.createTextVNode("Criar Coleção")];r("Criar Coleção")}),_:1},u)),r("</div></form></div>")}}}),b=h.setup;h.setup=(o,r)=>{const a=e.useSSRContext();return(a.modules||(a.modules=new Set)).add("pages/collections/new.vue"),b?b(o,r):void 0};export{h as default};
//# sourceMappingURL=new-_7AJdXRk.mjs.map

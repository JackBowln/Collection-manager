import{v as e,u as o,a,_ as r}from"./server.mjs";import{_ as l}from"./Card-Dskk1veu.mjs";import{_ as s,a as d}from"./Input-D0kU1oTm.mjs";import{_ as t,a as i,b as n}from"./FieldDefinition-CrH3ZwrU.mjs";import{u}from"./useSupabaseClient-CBvWxwze.mjs";import{A as m,y as c,C as p,G as f}from"../routes/renderer.mjs";import"../_/nitro.mjs";import"node:async_hooks";import"../_/shared.esm-bundler.mjs";const h=e.defineComponent({__name:"new",__ssrInlineRender:!0,setup(h){u(),o(),a();const V=e.ref(!1),b=e.reactive({name:"",description:"",visibility:"private",fields:[]}),addField=()=>{b.fields.push({name:"",type:"text",options:[],visible:!0,required:!1,folder_order:b.fields.length})},v=e.ref(!1);return e.ref(null),(o,a,u,h)=>{const x=r,C=l,y=s,_=d,g=t,w=i,U=n;a(`<div${m(e.mergeProps({class:"max-w-3xl mx-auto p-4"},h))}><div class="flex items-center gap-4 mb-6">`),a(c(x,{icon:"i-heroicons-arrow-left",variant:"ghost",to:"/dashboard"},null,u)),a('<h1 class="text-2xl font-bold">Criar Nova Coleção</h1></div><form>'),a(c(C,{class:"mb-6"},{header:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode("h2",{class:"font-semibold"},"Detalhes Básicos")];a(`<h2 class="font-semibold"${l}>Detalhes Básicos</h2>`)}),default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode("div",{class:"space-y-4"},[e.createVNode(y,{label:"Nome da Coleção",required:""},{default:e.withCtx(()=>[e.createVNode(_,{modelValue:e.unref(b).name,"onUpdate:modelValue":o=>e.unref(b).name=o,placeholder:"ex. Discos de Vinil",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e.createVNode(y,{label:"Descrição"},{default:e.withCtx(()=>[e.createVNode(g,{modelValue:e.unref(b).description,"onUpdate:modelValue":o=>e.unref(b).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,8,["modelValue","onUpdate:modelValue"])]),_:1})])];a(`<div class="space-y-4"${l}>`),a(c(y,{label:"Nome da Coleção",required:""},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode(_,{modelValue:e.unref(b).name,"onUpdate:modelValue":o=>e.unref(b).name=o,placeholder:"ex. Discos de Vinil",required:""},null,8,["modelValue","onUpdate:modelValue"])];a(c(_,{modelValue:e.unref(b).name,"onUpdate:modelValue":o=>e.unref(b).name=o,placeholder:"ex. Discos de Vinil",required:""},null,r,l))}),_:1},r,l)),a(c(y,{label:"Descrição"},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode(g,{modelValue:e.unref(b).description,"onUpdate:modelValue":o=>e.unref(b).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,8,["modelValue","onUpdate:modelValue"])];a(c(g,{modelValue:e.unref(b).description,"onUpdate:modelValue":o=>e.unref(b).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,r,l))}),_:1},r,l)),a("</div>")}),_:1},u)),a(c(w,{modelValue:e.unref(b).visibility,"onUpdate:modelValue":o=>e.unref(b).visibility=o,class:"mb-6"},null,u)),a(`<div class="relative mb-6"><div class="absolute -top-1 left-0 right-0 h-1 pointer-events-none"></div><div class="${p([[e.unref(v)?"backdrop-blur-md border-b border-gray-200 dark:border-gray-800":"border-transparent"],"flex justify-between items-center mb-4 sticky top-0 z-10 py-4 transition-all duration-300 dark:bg-transparent"])}"><h2 class="text-lg font-semibold">Campos Personalizados</h2>`),a(c(x,{size:"sm",icon:"i-heroicons-plus",onClick:addField},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createTextVNode("Adicionar Campo")];a("Adicionar Campo")}),_:1},u)),a("</div>"),0===e.unref(b).fields.length?a('<div class="text-center py-8 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg"><p class="text-gray-500">Nenhum campo definido. Adicione campos para estruturar sua coleção.</p></div>'):a("\x3c!----\x3e"),a('<div class="space-y-4">\x3c!--[--\x3e'),f(e.unref(b).fields,(o,r)=>{a(c(U,{key:r,modelValue:e.unref(b).fields[r],"onUpdate:modelValue":o=>e.unref(b).fields[r]=o,onRemove:e=>(e=>{b.fields.splice(e,1)})(r)},null,u))}),a('\x3c!--]--\x3e</div></div><div class="flex justify-end gap-3">'),a(c(x,{to:"/dashboard",color:"gray",variant:"ghost"},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createTextVNode("Cancelar")];a("Cancelar")}),_:1},u)),a(c(x,{type:"submit",loading:e.unref(V)},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createTextVNode("Criar Coleção")];a("Criar Coleção")}),_:1},u)),a("</div></form></div>")}}}),V=h.setup;h.setup=(o,a)=>{const r=e.useSSRContext();return(r.modules||(r.modules=new Set)).add("pages/collections/new.vue"),V?V(o,a):void 0};export{h as default};
//# sourceMappingURL=new-DXKibojk.mjs.map

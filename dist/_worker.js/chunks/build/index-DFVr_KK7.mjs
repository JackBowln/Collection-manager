import{i as e,a3 as t,X as a,f as l}from"../_/nitro.mjs";import{v as i,f as s,a as u,_ as d,c as p,g as v,u as f,m as h,h as b,i as y,j as x,e as w,k as C,l as S,t as k,o as V,p as O,q as $,r as N,s as R,w as P,x as _}from"./server.mjs";import{_ as z,u as j,i as H,P as W,N as G,l as Y,a as J,E as X,t as Z,w as ee,b as te,h as oe,p as le,c as ne,d as ie,s as re,e as se,f as ue,g as de,j as ce,n as pe,T as ve,O as fe,S as me,k as ge}from"./usePopper-BnxSMfCG.mjs";import{_ as he}from"./Card-Dskk1veu.mjs";import{a as be,_ as ye,u as xe}from"./Input-D0kU1oTm.mjs";import{s as we,i as Ce,o as Se,A as ke,N as Ve,a as Oe,u as $e,E as Ne,T as Me,S as Be,b as Ie}from"./keyboard-DfXvXu8t.mjs";import{_ as Re,f as Pe,u as Te,d as Ee,e as Ae,k as De}from"./Toggle-DHexaQQc.mjs";import{_ as _e,c as Fe,a as ze,b as je,d as Le}from"./FieldDefinition-CrH3ZwrU.mjs";import{_ as Ue}from"./Badge-BRw-NuRI.mjs";import{c as qe,u as He,s as We,w as Ke,J as Ge,o as Qe,A as Ye,y as Je,D as Xe,G as Ze,z as et,C as tt,H as ot,K as at,B as lt}from"../routes/renderer.mjs";import{u as nt}from"./useSupabaseClient-CBvWxwze.mjs";import{K as it}from"../_/shared.esm-bundler.mjs";import"node:async_hooks";function memo(e,t,a){let l,i=a.initialDeps??[],s=!0;function memoizedFunction(){var u,d,p;let v;a.key&&(null==(u=a.debug)?void 0:u.call(a))&&(v=Date.now());const f=e();if(!(f.length!==i.length||f.some((e,t)=>i[t]!==e)))return l;let h;if(i=f,a.key&&(null==(d=a.debug)?void 0:d.call(a))&&(h=Date.now()),l=t(...f),a.key&&(null==(p=a.debug)?void 0:p.call(a))){const e=Math.round(100*(Date.now()-v))/100,t=Math.round(100*(Date.now()-h))/100,l=t/16,pad=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%câ± ${pad(t,5)} /${pad(e,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*l,120))}deg 100% 31%);`,null==a?void 0:a.key)}return!(null==a?void 0:a.onChange)||s&&a.skipInitialOnChange||a.onChange(l),s=!1,l}return memoizedFunction.updateDeps=e=>{i=e},memoizedFunction}function notUndefined(e,t){if(void 0===e)throw new Error("Unexpected undefined");return e}const debounce=(e,t,a)=>{let l;return function(...i){e.clearTimeout(l),l=e.setTimeout(()=>t.apply(this,i),a)}},getRect=e=>{const{offsetWidth:t,offsetHeight:a}=e;return{width:t,height:a}},defaultKeyExtractor=e=>e,defaultRangeExtractor=e=>{const t=Math.max(e.startIndex-e.overscan,0),a=Math.min(e.endIndex+e.overscan,e.count-1),l=[];for(let e=t;e<=a;e++)l.push(e);return l},observeElementRect=(e,t)=>{const a=e.scrollElement;if(!a)return;const l=e.targetWindow;if(!l)return;const handler=e=>{const{width:a,height:l}=e;t({width:Math.round(a),height:Math.round(l)})};if(handler(getRect(a)),!l.ResizeObserver)return()=>{};const i=new l.ResizeObserver(t=>{const run=()=>{const e=t[0];if(null==e?void 0:e.borderBoxSize){const t=e.borderBoxSize[0];if(t)return void handler({width:t.inlineSize,height:t.blockSize})}handler(getRect(a))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(run):run()});return i.observe(a,{box:"border-box"}),()=>{i.unobserve(a)}},rt={passive:!0},st=!0,observeElementOffset=(e,t)=>{const a=e.scrollElement;if(!a)return;const l=e.targetWindow;if(!l)return;let i=0;const s=e.options.useScrollendEvent?()=>{}:debounce(l,()=>{t(i,!1)},e.options.isScrollingResetDelay),createHandler=l=>()=>{const{horizontal:u,isRtl:d}=e.options;i=u?a.scrollLeft*(d?-1:1):a.scrollTop,s(),t(i,l)},u=createHandler(!0),d=createHandler(!1);d(),a.addEventListener("scroll",u,rt);const p=e.options.useScrollendEvent&&st;return p&&a.addEventListener("scrollend",d,rt),()=>{a.removeEventListener("scroll",u),p&&a.removeEventListener("scrollend",d)}},measureElement=(e,t,a)=>{if(null==t?void 0:t.borderBoxSize){const e=t.borderBoxSize[0];if(e){return Math.round(e[a.options.horizontal?"inlineSize":"blockSize"])}}return e[a.options.horizontal?"offsetWidth":"offsetHeight"]},elementScroll=(e,{adjustments:t=0,behavior:a},l)=>{var i,s;const u=e+t;null==(s=null==(i=l.scrollElement)?void 0:i.scrollTo)||s.call(i,{[l.options.horizontal?"left":"top"]:u,behavior:a})};class Virtualizer{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const get=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{const run=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(run):run()})}):null);return{disconnect:()=>{var t;null==(t=get())||t.disconnect(),e=null},observe:e=>{var t;return null==(t=get())?void 0:t.observe(e,{box:"border-box"})},unobserve:e=>{var t;return null==(t=get())?void 0:t.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,a])=>{void 0===a&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:defaultKeyExtractor,rangeExtractor:defaultRangeExtractor,onChange:()=>{},measureElement:measureElement,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,a;null==(a=(t=this.options).onChange)||a.call(t,this,e)},this.maybeNotify=memo(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{const a=new Map,l=new Map;for(let i=t-1;i>=0;i--){const t=e[i];if(a.has(t.lane))continue;const s=l.get(t.lane);if(null==s||t.end>s.end?l.set(t.lane,t):t.end<s.end&&a.set(t.lane,!0),a.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=memo(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,t,a,l,i,s)=>(void 0!==this.prevLanes&&this.prevLanes!==s&&(this.lanesChangedFlag=!0),this.prevLanes=s,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:a,getItemKey:l,enabled:i,lanes:s}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=memo(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:a,getItemKey:l,enabled:i,lanes:s},u)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(const t of this.laneAssignments.keys())t>=e&&this.laneAssignments.delete(t);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));const d=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);const p=this.measurementsCache.slice(0,d),v=new Array(s).fill(void 0);for(let e=0;e<d;e++){const t=p[e];t&&(v[t.lane]=e)}for(let i=d;i<e;i++){const e=l(i),s=this.laneAssignments.get(i);let d,f;if(void 0!==s&&this.options.lanes>1){d=s;const e=v[d],l=void 0!==e?p[e]:void 0;f=l?l.end+this.options.gap:t+a}else{const e=1===this.options.lanes?p[i-1]:this.getFurthestMeasurement(p,i);f=e?e.end+this.options.gap:t+a,d=e?e.lane:i%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(i,d)}const h=u.get(e),b="number"==typeof h?h:this.options.estimateSize(i),y=f+b;p[i]={index:i,start:f,size:b,end:y,key:e,lane:d},v[d]=i}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=memo(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,a,l)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:a,lanes:l}){const i=e.length-1,getOffset=t=>e[t].start;if(e.length<=l)return{startIndex:0,endIndex:i};let s=findNearestBinarySearch(0,i,getOffset,a),u=s;if(1===l)for(;u<i&&e[u].end<a+t;)u++;else if(l>1){const d=Array(l).fill(0);for(;u<i&&d.some(e=>e<a+t);){const t=e[u];d[t.lane]=t.end,u++}const p=Array(l).fill(a+t);for(;s>=0&&p.some(e=>e>=a);){const t=e[s];p[t.lane]=t.start,s--}s=Math.max(0,s-s%l),u=Math.min(i,u+(l-1-u%l))}return{startIndex:s,endIndex:u}}({measurements:e,outerSize:t,scrollOffset:a,lanes:l}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=memo(()=>{let e=null,t=null;const a=this.calculateRange();return a&&(e=a.startIndex,t=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,a,l,i)=>null===l||null===i?[]:e({startIndex:l,endIndex:i,overscan:t,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const t=this.options.indexAttribute,a=e.getAttribute(t);return a?parseInt(a,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{const a=this.indexFromElement(e),l=this.measurementsCache[a];if(!l)return;const i=l.key,s=this.elementsCache.get(i);s!==e&&(s&&this.observer.unobserve(s),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(a,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{const a=this.measurementsCache[e];if(!a)return;const l=t-(this.itemSizeCache.get(a.key)??a.size);0!==l&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(a,l,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=memo(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{const a=[];for(let l=0,i=e.length;l<i;l++){const i=t[e[l]];a.push(i)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const t=this.getMeasurements();if(0!==t.length)return notUndefined(t[findNearestBinarySearch(0,t.length-1,e=>notUndefined(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,a=0)=>{const l=this.getSize(),i=this.getScrollOffset();"auto"===t&&(t=e>=i+l?"end":"start"),"center"===t?e+=(a-l)/2:"end"===t&&(e-=l);const s=this.getTotalSize()+this.options.scrollMargin-l;return Math.max(Math.min(s,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const a=this.measurementsCache[e];if(!a)return;const l=this.getSize(),i=this.getScrollOffset();if("auto"===t)if(a.end>=i+l-this.options.scrollPaddingEnd)t="end";else{if(!(a.start<=i+this.options.scrollPaddingStart))return[i,t];t="start"}const s="end"===t?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(s,t,a.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:a}={})=>{"smooth"===a&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:a})},this.scrollToIndex=(e,{align:t="auto",behavior:a}={})=>{"smooth"===a&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let l=0;const tryScroll=t=>{if(!this.targetWindow)return;const l=this.getOffsetForIndex(e,t);if(!l)return void console.warn("Failed to get offset for index:",e);const[i,s]=l;this._scrollToOffset(i,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const t=this.getScrollOffset(),a=this.getOffsetForIndex(e,s);a?((e,t)=>Math.abs(e-t)<1.01)(a[0],t)||scheduleRetry(s):console.warn("Failed to get offset for index:",e)})},scheduleRetry=t=>{this.targetWindow&&(l++,l<10?this.targetWindow.requestAnimationFrame(()=>tryScroll(t)):console.warn(`Failed to scroll to index ${e} after 10 attempts.`))};tryScroll(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;const t=this.getMeasurements();let a;if(0===t.length)a=this.options.paddingStart;else if(1===this.options.lanes)a=(null==(e=t[t.length-1])?void 0:e.end)??0;else{const e=Array(this.options.lanes).fill(null);let l=t.length-1;for(;l>=0&&e.some(e=>null===e);){const a=t[l];null===e[a.lane]&&(e[a.lane]=a.end),l--}a=Math.max(...e.filter(e=>null!==e))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:a})=>{this.options.scrollToFn(e,{behavior:a,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}const findNearestBinarySearch=(e,t,a,l)=>{for(;e<=t;){const i=(e+t)/2|0,s=a(i);if(s<l)e=i+1;else{if(!(s>l))return i;t=i-1}}return e>0?e-1:0};function useVirtualizer(e){return function(e){const t=new Virtualizer(He(e)),a=We(t),l=t._didMount();return Ke(()=>He(e).getScrollElement(),e=>{e&&t._willUpdate()},{immediate:!0}),Ke(()=>He(e),e=>{t.setOptions({...e,onChange:(t,l)=>{var i;Ge(a),null==(i=e.onChange)||i.call(e,t,l)}}),t._willUpdate(),Ge(a)},{immediate:!0}),Qe(l),a}(qe(()=>({observeElementRect:observeElementRect,observeElementOffset:observeElementOffset,scrollToFn:elementScroll,...He(e)})))}const ut={wrapper:"relative",container:"z-50 group",trigger:"inline-flex w-full",width:"",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-md",ring:"ring-1 ring-gray-200 dark:ring-gray-800",base:"overflow-hidden focus:outline-none relative",transition:{enterActiveClass:"transition ease-out duration-200",enterFromClass:"opacity-0 translate-y-1",enterToClass:"opacity-100 translate-y-0",leaveActiveClass:"transition ease-in duration-150",leaveFromClass:"opacity-100 translate-y-0",leaveToClass:"opacity-0 translate-y-1"},overlay:{base:"fixed inset-0 transition-opacity z-50",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enterActiveClass:"ease-out duration-200",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in duration-150",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}},popper:{strategy:"fixed"},default:{openDelay:0,closeDelay:0},arrow:R};function t$3(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function o(){let e=[],t={addEventListener:(e,a,l,i)=>(e.addEventListener(a,l,i),t.add(()=>e.removeEventListener(a,l,i))),requestAnimationFrame(...e){let a=requestAnimationFrame(...e);t.add(()=>cancelAnimationFrame(a))},nextFrame(...e){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...e)})},setTimeout(...e){let a=setTimeout(...e);t.add(()=>clearTimeout(a))},microTask(...e){let a={current:!0};return t$3(()=>{a.current&&e[0]()}),t.add(()=>{a.current=!1})},style(e,t,a){let l=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:a}),this.add(()=>{Object.assign(e.style,{[t]:l})})},group(e){let t=o();return e(t),this.add(()=>t.dispose())},add:t=>(e.push(t),()=>{let a=e.indexOf(t);if(a>=0)for(let t of e.splice(a,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function t$2(){let e=o();return t=>{e.dispose(),e.nextFrame(t)}}var dt,ct=((dt=ct||{})[dt.Left=0]="Left",dt[dt.Right=2]="Right",dt);let pt=[];var vt,ft,mt=((ft=mt||{})[ft.Open=0]="Open",ft[ft.Closed=1]="Closed",ft),gt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(gt||{}),ht=((vt=ht||{})[vt.Pointer=0]="Pointer",vt[vt.Focus=1]="Focus",vt[vt.Other=2]="Other",vt);let bt=Symbol("ComboboxContext");function K(e){let t=i.inject(bt,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,K),t}return t}let yt=Symbol("VirtualContext"),xt=i.defineComponent({name:"VirtualProvider",setup(e,{slots:t}){let a=K("VirtualProvider"),s=i.computed(()=>{let e=Se(a.optionsRef);if(!e)return{start:0,end:0};let t=(void 0).getComputedStyle(e);return{start:parseFloat(t.paddingBlockStart||t.paddingTop),end:parseFloat(t.paddingBlockEnd||t.paddingBottom)}}),u=useVirtualizer(i.computed(()=>({scrollPaddingStart:s.value.start,scrollPaddingEnd:s.value.end,count:a.virtual.value.options.length,estimateSize:()=>40,getScrollElement:()=>Se(a.optionsRef),overscan:12}))),d=i.computed(()=>{var e;return null==(e=a.virtual.value)?void 0:e.options}),p=i.ref(0);return i.watch([d],()=>{p.value+=1}),i.provide(yt,a.virtual.value?u:null),()=>[i.h("div",{style:{position:"relative",width:"100%",height:`${u.value.getTotalSize()}px`},ref:e=>{if(e){if(void 0!==l&&void 0!==l.env.JEST_WORKER_ID||0===a.activationTrigger.value)return;null!==a.activeOptionIndex.value&&a.virtual.value.options.length>a.activeOptionIndex.value&&u.value.scrollToIndex(a.activeOptionIndex.value)}}},u.value.getVirtualItems().map(e=>i.cloneVNode(t.default({option:a.virtual.value.options[e.index],open:0===a.comboboxState.value})[0],{key:`${p.value}-${e.index}`,"data-index":e.index,"aria-setsize":a.virtual.value.options.length,"aria-posinset":e.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${e.start}px)`,overflowAnchor:"none"}})))]}}),wt=i.defineComponent({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:t,attrs:a,emit:l}){let s=i.ref(1),u=i.ref(null),d=i.ref(null),p=i.ref(null),v=i.ref(null),f=i.ref({static:!1,hold:!1}),h=i.ref([]),b=i.ref(null),y=i.ref(2),x=i.ref(!1);function w2(e=e=>e){let t=null!==b.value?h.value[b.value]:null,a=e(h.value.slice()),l=a.length>0&&null!==a[0].dataRef.order.value?a.sort((e,t)=>e.dataRef.order.value-t.dataRef.order.value):fe(a,e=>Se(e.dataRef.domRef)),i=t?l.indexOf(t):null;return-1===i&&(i=null),{options:l,activeOptionIndex:i}}let w=i.computed(()=>e.multiple?1:0),C=i.computed(()=>e.nullable),[S,k]=Ee(i.computed(()=>e.modelValue),e=>l("update:modelValue",e),i.computed(()=>e.defaultValue)),V=i.computed(()=>void 0===S.value?$e(w.value,{1:[],0:void 0}):S.value),O=null,$=null;function I(e){return $e(w.value,{0:()=>null==k?void 0:k(e),1:()=>{let t=i.toRaw(R.value.value).slice(),a=i.toRaw(e),l=t.findIndex(e=>R.compare(a,i.toRaw(e)));return-1===l?t.push(a):t.splice(l,1),null==k?void 0:k(t)}})}let N=i.computed(()=>{});i.watch([N],([e],[t])=>{if(R.virtual.value&&e&&t&&null!==b.value){let a=e.indexOf(t[b.value]);b.value=-1!==a?a:null}});let R={comboboxState:s,value:V,mode:w,compare(t,a){if("string"==typeof e.by){let l=e.by;return(null==t?void 0:t[l])===(null==a?void 0:a[l])}return null===e.by?function(e,t){return e===t}(t,a):e.by(t,a)},calculateIndex:t=>R.virtual.value?null===e.by?R.virtual.value.options.indexOf(t):R.virtual.value.options.findIndex(e=>R.compare(e,t)):h.value.findIndex(e=>R.compare(e.dataRef.value,t)),defaultValue:i.computed(()=>e.defaultValue),nullable:C,immediate:i.computed(()=>!1),virtual:i.computed(()=>null),inputRef:d,labelRef:u,buttonRef:p,optionsRef:v,disabled:i.computed(()=>e.disabled),options:h,change(e){k(e)},activeOptionIndex:i.computed(()=>{if(x.value&&null===b.value&&(R.virtual.value?R.virtual.value.options.length>0:h.value.length>0)){if(R.virtual.value){let e=R.virtual.value.options.findIndex(e=>{var t;return!(null!=(t=R.virtual.value)&&t.disabled(e))});if(-1!==e)return e}let e=h.value.findIndex(e=>!e.dataRef.disabled);if(-1!==e)return e}return b.value}),activationTrigger:y,optionsPropsRef:f,closeCombobox(){x.value=!1,!e.disabled&&1!==s.value&&(s.value=1,b.value=null)},openCombobox(){if(x.value=!0,!e.disabled&&0!==s.value){if(R.value.value){let e=R.calculateIndex(R.value.value);-1!==e&&(b.value=e)}s.value=0}},setActivationTrigger(e){y.value=e},goToOption(t,a,l){x.value=!1,null!==O&&cancelAnimationFrame(O),O=requestAnimationFrame(()=>{if(e.disabled||v.value&&!f.value.static&&1===s.value)return;if(R.virtual.value)return b.value=t===de.Specific?a:ce({focus:t},{resolveItems:()=>R.virtual.value.options,resolveActiveIndex:()=>{var e,t;return null!=(t=null!=(e=R.activeOptionIndex.value)?e:R.virtual.value.options.findIndex(e=>{var t;return!(null!=(t=R.virtual.value)&&t.disabled(e))}))?t:null},resolveDisabled:e=>R.virtual.value.disabled(e),resolveId(){throw new Error("Function not implemented.")}}),void(y.value=null!=l?l:2);let i=w2();if(null===i.activeOptionIndex){let e=i.options.findIndex(e=>!e.dataRef.disabled);-1!==e&&(i.activeOptionIndex=e)}let u=t===de.Specific?a:ce({focus:t},{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});b.value=u,y.value=null!=l?l:2,h.value=i.options})},selectOption(e){let t=h.value.find(t=>t.id===e);if(!t)return;let{dataRef:a}=t;I(a.value)},selectActiveOption(){if(null!==R.activeOptionIndex.value){if(R.virtual.value)I(R.virtual.value.options[R.activeOptionIndex.value]);else{let{dataRef:e}=h.value[R.activeOptionIndex.value];I(e.value)}R.goToOption(de.Specific,R.activeOptionIndex.value)}},registerOption(e,t){let a=i.reactive({id:e,dataRef:t});if(R.virtual.value)return void h.value.push(a);$&&cancelAnimationFrame($);let l=w2(e=>(e.push(a),e));null===b.value&&R.isSelected(t.value.value)&&(l.activeOptionIndex=l.options.indexOf(a)),h.value=l.options,b.value=l.activeOptionIndex,y.value=2,l.options.some(e=>!Se(e.dataRef.domRef))&&($=requestAnimationFrame(()=>{let e=w2();h.value=e.options,b.value=e.activeOptionIndex}))},unregisterOption(e,t){if(null!==O&&cancelAnimationFrame(O),t&&(x.value=!0),R.virtual.value)return void(h.value=h.value.filter(t=>t.id!==e));let a=w2(t=>{let a=t.findIndex(t=>t.id===e);return-1!==a&&t.splice(a,1),t});h.value=a.options,b.value=a.activeOptionIndex,y.value=2},isSelected:e=>$e(w.value,{0:()=>R.compare(i.toRaw(R.value.value),i.toRaw(e)),1:()=>i.toRaw(R.value.value).some(t=>R.compare(i.toRaw(t),i.toRaw(e)))}),isActive:e=>b.value===R.calculateIndex(e)};return ee([d,p,v],()=>R.closeCombobox(),i.computed(()=>0===s.value)),i.provide(bt,R),Z(i.computed(()=>$e(s.value,{0:J.Open,1:J.Closed}))),i.computed(()=>{var e;return null==(e=Se(d))?void 0:e.closest("form")}),()=>{var l,u,d;let{name:p,disabled:v,form:f,...h}=e,b={open:0===s.value,disabled:v,activeIndex:R.activeOptionIndex.value,activeOption:null===R.activeOptionIndex.value?null:R.virtual.value?R.virtual.value.options[null!=(l=R.activeOptionIndex.value)?l:0]:null!=(d=null==(u=R.options.value[R.activeOptionIndex.value])?void 0:u.dataRef.value)?d:null,value:V.value};return i.h(i.Fragment,[...null!=p&&null!=V.value?Ae({[p]:V.value}).map(([e,t])=>i.h(Pe,Ne({features:Te.Hidden,key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:f,disabled:v,name:e,value:t}))):[],ke({theirProps:{...a,...Me(h,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:b,slots:t,attrs:a,name:"Combobox"})])}}});i.defineComponent({name:"ComboboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a}){var l;let i=null!=(l=e.id)?l:`headlessui-combobox-label-${Ce()}`,s=K("ComboboxLabel");function u2(){var e;null==(e=Se(s.inputRef))||e.focus({preventScroll:!0})}return()=>{let l={open:0===s.comboboxState.value,disabled:s.disabled.value},{...u}=e,d={id:i,ref:s.labelRef,onClick:u2};return ke({ourProps:d,theirProps:u,slot:l,attrs:t,slots:a,name:"ComboboxLabel"})}}});let Ct=i.defineComponent({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:l}){var s;let u=null!=(s=e.id)?s:`headlessui-combobox-button-${Ce()}`,d=K("ComboboxButton");function e2(e){d.disabled.value||(0===d.comboboxState.value?d.closeCombobox():(e.preventDefault(),d.openCombobox()),i.nextTick(()=>{var e;return null==(e=Se(d.inputRef))?void 0:e.focus({preventScroll:!0})}))}function c2(e){switch(e.key){case Ie.ArrowDown:return e.preventDefault(),e.stopPropagation(),1===d.comboboxState.value&&d.openCombobox(),void i.nextTick(()=>{var e;return null==(e=d.inputRef.value)?void 0:e.focus({preventScroll:!0})});case Ie.ArrowUp:return e.preventDefault(),e.stopPropagation(),1===d.comboboxState.value&&(d.openCombobox(),i.nextTick(()=>{d.value.value||d.goToOption(de.Last)})),void i.nextTick(()=>{var e;return null==(e=d.inputRef.value)?void 0:e.focus({preventScroll:!0})});case Ie.Escape:if(0!==d.comboboxState.value)return;return e.preventDefault(),d.optionsRef.value&&!d.optionsPropsRef.value.static&&e.stopPropagation(),d.closeCombobox(),void i.nextTick(()=>{var e;return null==(e=d.inputRef.value)?void 0:e.focus({preventScroll:!0})})}}l({el:d.buttonRef,$el:d.buttonRef});let p=Oe(i.computed(()=>({as:e.as,type:t.type})),d.buttonRef);return()=>{var l,i;let s={open:0===d.comboboxState.value,disabled:d.disabled.value,value:d.value.value},{...v}=e,f={ref:d.buttonRef,id:u,type:p.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":null==(l=Se(d.optionsRef))?void 0:l.id,"aria-expanded":0===d.comboboxState.value,"aria-labelledby":d.labelRef.value?[null==(i=Se(d.labelRef))?void 0:i.id,u].join(" "):void 0,disabled:!0===d.disabled.value||void 0,onKeydown:c2,onClick:e2};return ke({ourProps:f,theirProps:v,slot:s,attrs:t,slots:a,name:"ComboboxButton"})}}}),St=i.defineComponent({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:t,attrs:a,slots:l,expose:s}){var u;let d=null!=(u=e.id)?u:`headlessui-combobox-input-${Ce()}`,p=K("ComboboxInput");function S2(){p.change(null);let e=Se(p.optionsRef);e&&(e.scrollTop=0),p.goToOption(de.Nothing)}i.computed(()=>H(Se(p.inputRef))),s({el:p.inputRef,$el:p.inputRef}),i.computed(()=>{var t;let a=p.value.value;return Se(p.inputRef)?void 0!==e.displayValue&&void 0!==a?null!=(t=e.displayValue(a))?t:"":"string"==typeof a?a:"":""});let v=i.ref(!1);function D(){v.value=!0}function E2(){o().nextFrame(()=>{v.value=!1})}let f=t$2();function M2(e){switch(f(()=>{}),e.key){case Ie.Enter:if(0!==p.comboboxState.value||v.value)return;if(e.preventDefault(),e.stopPropagation(),null===p.activeOptionIndex.value)return void p.closeCombobox();p.selectActiveOption(),0===p.mode.value&&p.closeCombobox();break;case Ie.ArrowDown:return e.preventDefault(),e.stopPropagation(),$e(p.comboboxState.value,{0:()=>p.goToOption(de.Next),1:()=>p.openCombobox()});case Ie.ArrowUp:return e.preventDefault(),e.stopPropagation(),$e(p.comboboxState.value,{0:()=>p.goToOption(de.Previous),1:()=>{p.openCombobox(),i.nextTick(()=>{p.value.value||p.goToOption(de.Last)})}});case Ie.Home:if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),p.goToOption(de.First);case Ie.PageUp:return e.preventDefault(),e.stopPropagation(),p.goToOption(de.First);case Ie.End:if(e.shiftKey)break;return e.preventDefault(),e.stopPropagation(),p.goToOption(de.Last);case Ie.PageDown:return e.preventDefault(),e.stopPropagation(),p.goToOption(de.Last);case Ie.Escape:if(0!==p.comboboxState.value)return;e.preventDefault(),p.optionsRef.value&&!p.optionsPropsRef.value.static&&e.stopPropagation(),p.nullable.value&&0===p.mode.value&&null===p.value.value&&S2(),p.closeCombobox();break;case Ie.Tab:if(0!==p.comboboxState.value)return;0===p.mode.value&&1!==p.activationTrigger.value&&p.selectActiveOption(),p.closeCombobox()}}function $2(e){t("change",e),p.nullable.value&&0===p.mode.value&&""===e.target.value&&S2(),p.openCombobox()}function B2(e){var t,a,l;let i=null!=(t=e.relatedTarget)?t:pt.find(t=>t!==e.currentTarget);if(!(null!=(a=Se(p.optionsRef))&&a.contains(i)||null!=(l=Se(p.buttonRef))&&l.contains(i)||0!==p.comboboxState.value))return e.preventDefault(),0===p.mode.value&&(p.nullable.value&&null===p.value.value?S2():1!==p.activationTrigger.value&&p.selectActiveOption()),p.closeCombobox()}function p2(e){var t,a,l;let i=null!=(t=e.relatedTarget)?t:pt.find(t=>t!==e.currentTarget);null!=(a=Se(p.buttonRef))&&a.contains(i)||null!=(l=Se(p.optionsRef))&&l.contains(i)||p.disabled.value||p.immediate.value&&0!==p.comboboxState.value&&(p.openCombobox(),o().nextFrame(()=>{p.setActivationTrigger(1)}))}let h=i.computed(()=>{var t,a,l,i;return null!=(i=null!=(l=null!=(a=e.defaultValue)?a:void 0!==p.defaultValue.value?null==(t=e.displayValue)?void 0:t.call(e,p.defaultValue.value):null)?l:p.defaultValue.value)?i:""});return()=>{var t,i,s,u,v,f,b;let y={open:0===p.comboboxState.value},{displayValue:x,onChange:w,...C}=e,S={"aria-controls":null==(t=p.optionsRef.value)?void 0:t.id,"aria-expanded":0===p.comboboxState.value,"aria-activedescendant":null===p.activeOptionIndex.value?void 0:p.virtual.value?null==(i=p.options.value.find(e=>!p.virtual.value.disabled(e.dataRef.value)&&p.compare(e.dataRef.value,p.virtual.value.options[p.activeOptionIndex.value])))?void 0:i.id:null==(s=p.options.value[p.activeOptionIndex.value])?void 0:s.id,"aria-labelledby":null!=(f=null==(u=Se(p.labelRef))?void 0:u.id)?f:null==(v=Se(p.buttonRef))?void 0:v.id,"aria-autocomplete":"list",id:d,onCompositionstart:D,onCompositionend:E2,onKeydown:M2,onInput:$2,onFocus:p2,onBlur:B2,role:"combobox",type:null!=(b=a.type)?b:"text",tabIndex:0,ref:p.inputRef,defaultValue:h.value,disabled:!0===p.disabled.value||void 0};return ke({ourProps:S,theirProps:C,slot:y,attrs:a,slots:l,features:Ve.RenderStrategy|Ve.Static,name:"ComboboxInput"})}}}),kt=i.defineComponent({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:t,slots:a,expose:l}){let s=K("ComboboxOptions"),u=`headlessui-combobox-options-${Ce()}`;l({el:s.optionsRef,$el:s.optionsRef}),i.watchEffect(()=>{s.optionsPropsRef.value.static=e.static}),i.watchEffect(()=>{s.optionsPropsRef.value.hold=e.hold});let d=Y(),p=i.computed(()=>null!==d?(d.value&J.Open)===J.Open:0===s.comboboxState.value);function f2(e){e.preventDefault()}return ie({container:i.computed(()=>Se(s.optionsRef)),enabled:i.computed(()=>0===s.comboboxState.value),accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}}),()=>{var l,d,v;let f={open:0===s.comboboxState.value},h={"aria-labelledby":null!=(v=null==(l=Se(s.labelRef))?void 0:l.id)?v:null==(d=Se(s.buttonRef))?void 0:d.id,id:u,ref:s.optionsRef,role:"listbox","aria-multiselectable":1===s.mode.value||void 0,onMousedown:f2},b=Me(e,["hold"]);return ke({ourProps:h,theirProps:b,slot:f,attrs:t,slots:s.virtual.value&&0===s.comboboxState.value?{...a,default:()=>[i.h(xt,{},a.default)]}:a,features:Ve.RenderStrategy|Ve.Static,visible:p.value,name:"ComboboxOptions"})}}}),Vt=i.defineComponent({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:t,attrs:a,expose:l}){let s=K("ComboboxOption"),u=`headlessui-combobox-option-${Ce()}`,d=i.ref(null),p=i.computed(()=>e.disabled);l({el:d,$el:d});let v=i.computed(()=>{var t;return s.virtual.value?s.activeOptionIndex.value===s.calculateIndex(e.value):null!==s.activeOptionIndex.value&&(null==(t=s.options.value[s.activeOptionIndex.value])?void 0:t.id)===u}),f=i.computed(()=>s.isSelected(e.value)),h=i.inject(yt,null);function D(e){e.preventDefault(),e.button===ct.Left&&(p.value||(s.selectOption(u),pe()||requestAnimationFrame(()=>{var e;return null==(e=Se(s.inputRef))?void 0:e.focus({preventScroll:!0})}),0===s.mode.value&&s.closeCombobox()))}function E2(){var t;if(e.disabled||null!=(t=s.virtual.value)&&t.disabled(e.value))return s.goToOption(de.Nothing);let a=s.calculateIndex(e.value);s.goToOption(de.Specific,a)}i.computed(()=>({disabled:e.disabled,value:e.value,domRef:d,order:i.computed(()=>e.order)})),i.watchEffect(()=>{let e=Se(d);e&&(null==h||h.value.measureElement(e))}),i.watchEffect(()=>{0===s.comboboxState.value&&v.value&&(s.virtual.value||0!==s.activationTrigger.value&&i.nextTick(()=>{var e,t;return null==(t=null==(e=Se(d))?void 0:e.scrollIntoView)?void 0:t.call(e,{block:"nearest"})}))});let b=ne();function M2(e){b.update(e)}function $2(t){var a;if(!b.wasMoved(t)||e.disabled||null!=(a=s.virtual.value)&&a.disabled(e.value)||v.value)return;let l=s.calculateIndex(e.value);s.goToOption(de.Specific,l,0)}function B2(t){var a;b.wasMoved(t)&&(e.disabled||null!=(a=s.virtual.value)&&a.disabled(e.value)||v.value&&(s.optionsPropsRef.value.hold||s.goToOption(de.Nothing)))}return()=>{let{disabled:l}=e,i={active:v.value,selected:f.value,disabled:l},s={id:u,ref:d,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":f.value,disabled:void 0,onMousedown:D,onFocus:E2,onPointerenter:M2,onMouseenter:M2,onPointermove:$2,onMousemove:$2,onPointerleave:B2,onMouseleave:B2},p=Me(e,["order","value"]);return ke({ourProps:s,theirProps:p,slot:i,attrs:a,slots:t,name:"ComboboxOption"})}}});function E$1(e,t,a,l){se.isServer||i.watchEffect(i=>{(e=null!=e?e:void 0).addEventListener(t,a,l),i(()=>e.removeEventListener(t,a,l))})}var Ot=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ot||{});function n(){let e=i.ref(0);return ue("keydown",t=>{"Tab"===t.key&&(e.value=t.shiftKey?1:0)}),e}function B(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let a of e.value){let e=Se(a);e instanceof HTMLElement&&t.add(e)}return t}var $t,Nt=(($t=Nt||{})[$t.None=1]="None",$t[$t.InitialFocus=2]="InitialFocus",$t[$t.TabLock=4]="TabLock",$t[$t.FocusLock=8]="FocusLock",$t[$t.RestoreFocus=16]="RestoreFocus",$t[$t.All=30]="All",$t);let Mt=Object.assign(i.defineComponent({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:i.ref(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:l}){let s=i.ref(null);l({el:s,$el:s});let u=i.computed(()=>H(s)),d=i.ref(!1);!function({ownerDocument:e},t){!function(e){let t=i.ref(pt.slice());i.watch([e],([e],[a])=>{!0===a&&!1===e?t$3(()=>{t.value.splice(0)}):!1===a&&!0===e&&(t.value=pt.slice())},{flush:"post"})}(t)}({ownerDocument:u},i.computed(()=>d.value&&Boolean(16&e.features)));let p=function({ownerDocument:e,container:t,initialFocus:a}){let l=i.ref(null);return i.ref(!1),l}({ownerDocument:u,container:s,initialFocus:i.computed(()=>e.initialFocus)},i.computed(()=>d.value&&Boolean(2&e.features)));!function({ownerDocument:e,container:t,containers:a,previousActiveElement:l},i){var s;E$1(null==(s=e.value)?void 0:s.defaultView,"focus",e=>{if(!i.value)return;let s=B(a);Se(t)instanceof HTMLElement&&s.add(Se(t));let u=l.value;if(!u)return;let d=e.target;d&&d instanceof HTMLElement?N$2(s,d)?(l.value=d,me(d)):(e.preventDefault(),e.stopPropagation(),me(u)):me(l.value)},!0)}({ownerDocument:u,container:s,containers:e.containers,previousActiveElement:p},i.computed(()=>d.value&&Boolean(8&e.features)));let v=n();function a2(e){let t=Se(s);t&&$e(v.value,{[Ot.Forwards]:()=>{W(t,G.First,{skipElements:[e.relatedTarget]})},[Ot.Backwards]:()=>{W(t,G.Last,{skipElements:[e.relatedTarget]})}})}let f=i.ref(!1);function F(e){"Tab"===e.key&&(f.value=!0,requestAnimationFrame(()=>{f.value=!1}))}function H2(t){if(!d.value)return;let a=B(e.containers);Se(s)instanceof HTMLElement&&a.add(Se(s));let l=t.relatedTarget;l instanceof HTMLElement&&"true"!==l.dataset.headlessuiFocusGuard&&(N$2(a,l)||(f.value?W(Se(s),$e(v.value,{[Ot.Forwards]:()=>G.Next,[Ot.Backwards]:()=>G.Previous})|G.WrapAround,{relativeTo:t.target}):t.target instanceof HTMLElement&&me(t.target)))}return()=>{let l={ref:s,onKeydown:F,onFocusout:H2},{features:u,initialFocus:d,containers:p,...v}=e;return i.h(i.Fragment,[Boolean(4&u)&&i.h(Pe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:a2,features:Te.Focusable}),ke({ourProps:l,theirProps:{...t,...v},slot:{},attrs:t,slots:a,name:"FocusTrap"}),Boolean(4&u)&&i.h(Pe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:a2,features:Te.Focusable})])}}}),{features:Nt});function N$2(e,t){for(let a of e)if(a.contains(t))return!0;return!1}function c(){let e;return{before({doc:t}){var a;let l=t.documentElement;e=(null!=(a=t.defaultView)?a:void 0).innerWidth-l.clientWidth},after({doc:t,d:a}){let l=t.documentElement,i=l.clientWidth-l.offsetWidth,s=e-i;a.style(l,"paddingRight",`${s}px`)}}}function m(e){let t={};for(let a of e)Object.assign(t,a(t));return t}let Bt=function(e,t){let a=e(),l=new Set;return{getSnapshot:()=>a,subscribe:e=>(l.add(e),()=>l.delete(e)),dispatch(e,...i){let s=t[e].call(a,...i);s&&(a=s,l.forEach(e=>e()))}}}(()=>new Map,{PUSH(e,t){var a;let l=null!=(a=this.get(e))?a:{doc:e,count:0,d:o(),meta:new Set};return l.count++,l.meta.add(t),this.set(e,l),this},POP(e,t){let a=this.get(e);return a&&(a.count--,a.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:a}){let l={doc:e,d:t,meta:m(a)},i=[ge()?{before({doc:e,d:t,meta:a}){function a2(e){return a.containers.flatMap(e=>e()).some(t=>t.contains(e))}t.microTask(()=>{var a;if("auto"!==(void 0).getComputedStyle(e.documentElement).scrollBehavior){let a=o();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let l=null!=(a=(void 0).scrollY)?a:(void 0).pageYOffset,i=null;t.addEventListener(e,"click",t=>{if(t.target instanceof HTMLElement)try{let a=t.target.closest("a");if(!a)return;let{hash:l}=new URL(a.href),s=e.querySelector(l);s&&!a2(s)&&(i=s)}catch{}},!0),t.addEventListener(e,"touchstart",e=>{if(e.target instanceof HTMLElement)if(a2(e.target)){let a=e.target;for(;a.parentElement&&a2(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(e.target,"touchAction","none")}),t.addEventListener(e,"touchmove",e=>{if(e.target instanceof HTMLElement){if("INPUT"===e.target.tagName)return;if(a2(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()}},{passive:!1}),t.add(()=>{var e;let t=null!=(e=(void 0).scrollY)?e:(void 0).pageYOffset;l!==t&&(void 0).scrollTo(0,l),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{},c(),{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];i.forEach(({before:e})=>null==e?void 0:e(l)),i.forEach(({after:e})=>null==e?void 0:e(l))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});function d$1(e,t,a){let l=function(e){return i.shallowRef(e.getSnapshot())}(Bt),s=i.computed(()=>{let t=e.value?l.value.get(e.value):void 0;return!!t&&t.count>0});return i.watch([e,t],([e,t],[l],i)=>{if(!e||!t)return;Bt.dispatch("PUSH",e,a);let s=!1;i(()=>{s||(Bt.dispatch("POP",null!=l?l:e,a),s=!0)})},{immediate:!0}),s}Bt.subscribe(()=>{let e=Bt.getSnapshot(),t=new Map;for(let[a]of e)t.set(a,a.documentElement.style.overflow);for(let a of e.values()){let e="hidden"===t.get(a.doc),l=0!==a.count;(l&&!e||!l&&e)&&Bt.dispatch(a.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",a),0===a.count&&Bt.dispatch("TEARDOWN",a)}});let It=new Map,Rt=new Map;function E(e,t=i.ref(!0)){i.watchEffect(a=>{var l;if(!t.value)return;let i=Se(e);if(!i)return;a(function(){var e;if(!i)return;let t=null!=(e=Rt.get(i))?e:1;if(1===t?Rt.delete(i):Rt.set(i,t-1),1!==t)return;let a=It.get(i);a&&(null===a["aria-hidden"]?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",a["aria-hidden"]),i.inert=a.inert,It.delete(i))});let s=null!=(l=Rt.get(i))?l:0;Rt.set(i,s+1),0===s&&(It.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}function N$1({defaultContainers:e=[],portals:t,mainTreeNodeRef:a}={}){let l=i.ref(null),s=H(l);function u2(){var a,i,u;let d=[];for(let t of e)null!==t&&(t instanceof HTMLElement?d.push(t):"value"in t&&t.value instanceof HTMLElement&&d.push(t.value));if(null!=t&&t.value)for(let e of t.value)d.push(e);for(let e of null!=(a=null==s?void 0:s.querySelectorAll("html > *, body > *"))?a:[])e!==(void 0).body&&e!==(void 0).head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(Se(l))||e.contains(null==(u=null==(i=Se(l))?void 0:i.getRootNode())?void 0:u.host)||d.some(t=>e.contains(t))||d.push(e));return d}return{resolveContainers:u2,contains:e=>u2().some(t=>t.contains(e)),mainTreeNodeRef:l,MainTreeNode:()=>null!=a?null:i.h(Pe,{features:Te.Hidden,ref:l})}}let Pt=Symbol("ForcePortalRootContext");let Tt=i.defineComponent({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup:(e,{slots:t,attrs:a})=>(i.provide(Pt,e.force),()=>{let{force:l,...i}=e;return ke({theirProps:i,ourProps:{},slot:{},slots:t,attrs:a,name:"ForcePortalRoot"})})}),Et=Symbol("StackContext");var At=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(At||{});function R$1({type:e,enabled:t,element:a,onUpdate:l}){let s=i.inject(Et,()=>{});i.provide(Et,function(...e){null==l||l(...e),s(...e)})}const Dt=new WeakMap;function M(e,t){let a=t(function(e){var t;return null!=(t=Dt.get(e))?t:0}(e));return a<=0?Dt.delete(e):Dt.set(e,a),a}let _t=i.defineComponent({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:a}){let l=i.ref(null);i.computed(()=>H(l));let s=i.inject(Pt,!1),u=i.inject(zt,null),d=i.ref(!0===s||null==u?function(e){let t=H(e);if(!t){if(null===e)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let a=t.getElementById("headlessui-portal-root");if(a)return a;let l=t.createElement("div");return l.setAttribute("id","headlessui-portal-root"),t.body.appendChild(l)}(l.value):u.resolveTarget());d.value&&M(d.value,e=>e+1);let p=i.ref(!1);i.watchEffect(()=>{s||null!=u&&(d.value=u.resolveTarget())});let v=i.inject(Ft,null),f=!1;return i.getCurrentInstance(),i.watch(l,()=>{if(f||!v)return;Se(l)&&(f=!0)}),()=>{if(!p.value||null===d.value)return null;let s={ref:l,"data-headlessui-portal":""};return i.h(i.Teleport,{to:d.value},ke({ourProps:s,theirProps:e,slot:{},attrs:a,slots:t,name:"Portal"}))}}}),Ft=Symbol("PortalParentContext");function q(){let e=i.inject(Ft,null),t=i.ref([]);function r(a){let l=t.value.indexOf(a);-1!==l&&t.value.splice(l,1),e&&e.unregister(a)}let a={register:function(a){return t.value.push(a),e&&e.register(a),()=>r(a)},unregister:r,portals:t};return[t,i.defineComponent({name:"PortalWrapper",setup:(e,{slots:t})=>(i.provide(Ft,a),()=>{var e;return null==(e=t.default)?void 0:e.call(t)})})]}let zt=Symbol("PortalGroupContext"),jt=i.defineComponent({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:a}){let l=i.reactive({resolveTarget:()=>e.target});return i.provide(zt,l),()=>{let{target:l,...i}=e;return ke({theirProps:i,ourProps:{},slot:{},attrs:t,slots:a,name:"PortalGroup"})}}});var Lt,Ut=((Lt=Ut||{})[Lt.Open=0]="Open",Lt[Lt.Closed=1]="Closed",Lt);let qt=Symbol("DialogContext");function T(e){let t=i.inject(qt,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,T),t}return t}let Ht="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Wt=i.defineComponent({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Ht},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:e=>!0},setup(e,{emit:t,attrs:a,slots:l,expose:s}){var u,d;let p=null!=(u=e.id)?u:`headlessui-dialog-${Ce()}`,v=i.ref(!1),f=!1,h=i.computed(()=>"dialog"===e.role||"alertdialog"===e.role?e.role:(f||(f=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),b=i.ref(0),y=Y(),x=i.computed(()=>e.open===Ht&&null!==y?(y.value&J.Open)===J.Open:e.open),w=i.ref(null),C=i.computed(()=>H(w));if(s({el:w,$el:w}),e.open===Ht&&null===y)throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if("boolean"!=typeof x.value)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${x.value===Ht?void 0:e.open}`);let S=i.computed(()=>v.value&&x.value?0:1),k=i.computed(()=>0===S.value),V=i.computed(()=>b.value>1),O=null!==i.inject(qt,null),[$,N]=q(),{resolveContainers:R,mainTreeNodeRef:P,MainTreeNode:_}=N$1({portals:$,defaultContainers:[i.computed(()=>{var e;return null!=(e=le.panelRef.value)?e:w.value})]}),z=i.computed(()=>V.value?"parent":"leaf"),j=i.computed(()=>null!==y&&(y.value&J.Closing)===J.Closing),W=i.computed(()=>!O&&!j.value&&k.value),G=i.computed(()=>{var e,t,a;return null!=(a=Array.from(null!=(t=null==(e=C.value)?void 0:e.querySelectorAll("body > *"))?t:[]).find(e=>"headlessui-portal-root"!==e.id&&(e.contains(Se(P))&&e instanceof HTMLElement)))?a:null});E(G,W);let X=i.computed(()=>!!V.value||k.value),Z=i.computed(()=>{var e,t,a;return null!=(a=Array.from(null!=(t=null==(e=C.value)?void 0:e.querySelectorAll("[data-headlessui-portal]"))?t:[]).find(e=>e.contains(Se(P))&&e instanceof HTMLElement))?a:null});E(Z,X),R$1({type:"Dialog",enabled:i.computed(()=>0===S.value),element:w,onUpdate:(e,t)=>{if("Dialog"===t)return $e(e,{[At.Add]:()=>b.value+=1,[At.Remove]:()=>b.value-=1})}});let te=De({name:"DialogDescription",slot:i.computed(()=>({open:x.value}))}),oe=i.ref(null),le={titleId:oe,panelRef:i.ref(null),dialogState:S,setTitleId(e){oe.value!==e&&(oe.value=e)},close(){t("close",!1)}};i.provide(qt,le);let ne=i.computed(()=>!(!k.value||V.value));ee(R,(e,t)=>{e.preventDefault(),le.close(),i.nextTick(()=>null==t?void 0:t.focus())},ne);let ie=i.computed(()=>!(V.value||0!==S.value));E$1(null==(d=C.value)?void 0:d.defaultView,"keydown",e=>{ie.value&&(e.defaultPrevented||e.key===Ie.Escape&&(e.preventDefault(),e.stopPropagation(),le.close()))});let re=i.computed(()=>!(j.value||0!==S.value||O));return d$1(C,re,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],R]}}),i.watchEffect(e=>{if(0!==S.value)return;let t=Se(w);if(!t)return;let a=new ResizeObserver(e=>{for(let t of e){let e=t.target.getBoundingClientRect();0===e.x&&0===e.y&&0===e.width&&0===e.height&&le.close()}});a.observe(t),e(()=>a.disconnect())}),()=>{let{open:t,initialFocus:s,...u}=e,d={...a,ref:w,id:p,role:h.value,"aria-modal":0===S.value||void 0,"aria-labelledby":oe.value,"aria-describedby":te.value},v={open:0===S.value};return i.h(Tt,{force:!0},()=>[i.h(_t,()=>i.h(jt,{target:w.value},()=>i.h(Tt,{force:!1},()=>i.h(Mt,{initialFocus:s,containers:R,features:k.value?$e(z.value,{parent:Mt.features.RestoreFocus,leaf:Mt.features.All&~Mt.features.FocusLock}):Mt.features.None},()=>i.h(N,{},()=>ke({ourProps:d,theirProps:{...u,...a},slot:v,attrs:a,slots:l,visible:0===S.value,features:Ve.RenderStrategy|Ve.Static,name:"Dialog"})))))),i.h(_)])}}});i.defineComponent({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a}){var l;let i=null!=(l=e.id)?l:`headlessui-dialog-overlay-${Ce()}`,s=T("DialogOverlay");function n2(e){e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),s.close())}return()=>{let{...l}=e;return ke({ourProps:{id:i,"aria-hidden":!0,onClick:n2},theirProps:l,slot:{open:0===s.dialogState.value},attrs:t,slots:a,name:"DialogOverlay"})}}}),i.defineComponent({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:l}){var s;let u=null!=(s=e.id)?s:`headlessui-dialog-backdrop-${Ce()}`,d=T("DialogBackdrop"),p=i.ref(null);return l({el:p,$el:p}),()=>{let{...l}=e,s={id:u,ref:p,"aria-hidden":!0};return i.h(Tt,{force:!0},()=>i.h(_t,()=>ke({ourProps:s,theirProps:{...t,...l},slot:{open:0===d.dialogState.value},attrs:t,slots:a,name:"DialogBackdrop"})))}}});let Kt=i.defineComponent({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:l}){var i;let s=null!=(i=e.id)?i:`headlessui-dialog-panel-${Ce()}`,u=T("DialogPanel");function u2(e){e.stopPropagation()}return l({el:u.panelRef,$el:u.panelRef}),()=>{let{...l}=e,i={id:s,ref:u.panelRef,onClick:u2};return ke({ourProps:i,theirProps:l,slot:{open:0===u.dialogState.value},attrs:t,slots:a,name:"DialogPanel"})}}});function pe$1(e,t){return e===t}i.defineComponent({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a}){var l;let i=null!=(l=e.id)?l:`headlessui-dialog-title-${Ce()}`,s=T("DialogTitle");return()=>{let{...l}=e;return ke({ourProps:{id:i},theirProps:l,slot:{open:0===s.dialogState.value},attrs:t,slots:a,name:"DialogTitle"})}}});var Gt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Gt||{}),Qt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Qt||{}),Yt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Yt||{});let Jt=Symbol("ListboxContext");function A(e){let t=i.inject(Jt,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,A),t}return t}let Xt=i.defineComponent({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>pe$1},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:a,emit:l}){let s=i.ref(1),u=i.ref(null),d=i.ref(null),p=i.ref(null),v=i.ref([]),f=i.ref(""),h=i.ref(null),b=i.ref(1);function u2(e=e=>e){let t=null!==h.value?v.value[h.value]:null,a=fe(e(v.value.slice()),e=>Se(e.dataRef.domRef)),l=t?a.indexOf(t):null;return-1===l&&(l=null),{options:a,activeOptionIndex:l}}let y=i.computed(()=>e.multiple?1:0),[x,w]=Ee(i.computed(()=>e.modelValue),e=>l("update:modelValue",e),i.computed(()=>e.defaultValue)),C=i.computed(()=>void 0===x.value?$e(y.value,{1:[],0:void 0}):x.value),S={listboxState:s,value:C,mode:y,compare(t,a){if("string"==typeof e.by){let l=e.by;return(null==t?void 0:t[l])===(null==a?void 0:a[l])}return e.by(t,a)},orientation:i.computed(()=>e.horizontal?"horizontal":"vertical"),labelRef:u,buttonRef:d,optionsRef:p,disabled:i.computed(()=>e.disabled),options:v,searchQuery:f,activeOptionIndex:h,activationTrigger:b,closeListbox(){e.disabled||1!==s.value&&(s.value=1,h.value=null)},openListbox(){e.disabled||0!==s.value&&(s.value=0)},goToOption(t,a,l){if(e.disabled||1===s.value)return;let i=u2(),u=ce(t===de.Specific?{focus:de.Specific,id:a}:{focus:t},{resolveItems:()=>i.options,resolveActiveIndex:()=>i.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.disabled});f.value="",h.value=u,b.value=null!=l?l:1,v.value=i.options},search(t){if(e.disabled||1===s.value)return;let a=""!==f.value?0:1;f.value+=t.toLowerCase();let l=(null!==h.value?v.value.slice(h.value+a).concat(v.value.slice(0,h.value+a)):v.value).find(e=>e.dataRef.textValue.startsWith(f.value)&&!e.dataRef.disabled),i=l?v.value.indexOf(l):-1;-1===i||i===h.value||(h.value=i,b.value=1)},clearSearch(){e.disabled||1!==s.value&&""!==f.value&&(f.value="")},registerOption(e,t){let a=u2(a=>[...a,{id:e,dataRef:t}]);v.value=a.options,h.value=a.activeOptionIndex},unregisterOption(e){let t=u2(t=>{let a=t.findIndex(t=>t.id===e);return-1!==a&&t.splice(a,1),t});v.value=t.options,h.value=t.activeOptionIndex,b.value=1},theirOnChange(t){e.disabled||w(t)},select(t){e.disabled||w($e(y.value,{0:()=>t,1:()=>{let e=i.toRaw(S.value.value).slice(),a=i.toRaw(t),l=e.findIndex(e=>S.compare(a,i.toRaw(e)));return-1===l?e.push(a):e.splice(l,1),e}}))}};return ee([d,p],(e,t)=>{var a;S.closeListbox(),te(t,oe.Loose)||(e.preventDefault(),null==(a=Se(d))||a.focus())},i.computed(()=>0===s.value)),i.provide(Jt,S),Z(i.computed(()=>$e(s.value,{0:J.Open,1:J.Closed}))),i.computed(()=>{var e;return null==(e=Se(d))?void 0:e.closest("form")}),()=>{let{name:l,modelValue:u,disabled:d,form:p,...v}=e,f={open:0===s.value,disabled:d,value:C.value};return i.h(i.Fragment,[...null!=l&&null!=C.value?Ae({[l]:C.value}).map(([e,t])=>i.h(Pe,Ne({features:Te.Hidden,key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:p,disabled:d,name:e,value:t}))):[],ke({ourProps:{},theirProps:{...a,...Me(v,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:f,slots:t,attrs:a,name:"Listbox"})])}}});i.defineComponent({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a}){var l;let i=null!=(l=e.id)?l:`headlessui-listbox-label-${Ce()}`,s=A("ListboxLabel");function e2(){var e;null==(e=Se(s.buttonRef))||e.focus({preventScroll:!0})}return()=>{let l={open:0===s.listboxState.value,disabled:s.disabled.value},{...u}=e,d={id:i,ref:s.labelRef,onClick:e2};return ke({ourProps:d,theirProps:u,slot:l,attrs:t,slots:a,name:"ListboxLabel"})}}});let Zt=i.defineComponent({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:l}){var s;let u=null!=(s=e.id)?s:`headlessui-listbox-button-${Ce()}`,d=A("ListboxButton");function f2(e){switch(e.key){case Ie.Space:case Ie.Enter:case Ie.ArrowDown:e.preventDefault(),d.openListbox(),i.nextTick(()=>{var e;null==(e=Se(d.optionsRef))||e.focus({preventScroll:!0}),d.value.value||d.goToOption(de.First)});break;case Ie.ArrowUp:e.preventDefault(),d.openListbox(),i.nextTick(()=>{var e;null==(e=Se(d.optionsRef))||e.focus({preventScroll:!0}),d.value.value||d.goToOption(de.Last)})}}function v2(e){if(e.key===Ie.Space)e.preventDefault()}function s2(e){d.disabled.value||(0===d.listboxState.value?(d.closeListbox(),i.nextTick(()=>{var e;return null==(e=Se(d.buttonRef))?void 0:e.focus({preventScroll:!0})})):(e.preventDefault(),d.openListbox(),function(e){requestAnimationFrame(()=>requestAnimationFrame(e))}(()=>{var e;return null==(e=Se(d.optionsRef))?void 0:e.focus({preventScroll:!0})})))}l({el:d.buttonRef,$el:d.buttonRef});let p=Oe(i.computed(()=>({as:e.as,type:t.type})),d.buttonRef);return()=>{var l,i;let s={open:0===d.listboxState.value,disabled:d.disabled.value,value:d.value.value},{...v}=e,f={ref:d.buttonRef,id:u,type:p.value,"aria-haspopup":"listbox","aria-controls":null==(l=Se(d.optionsRef))?void 0:l.id,"aria-expanded":0===d.listboxState.value,"aria-labelledby":d.labelRef.value?[null==(i=Se(d.labelRef))?void 0:i.id,u].join(" "):void 0,disabled:!0===d.disabled.value||void 0,onKeydown:f2,onKeyup:v2,onClick:s2};return ke({ourProps:f,theirProps:v,slot:s,attrs:t,slots:a,name:"ListboxButton"})}}}),eo=i.defineComponent({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:a,expose:l}){var s;let u=null!=(s=e.id)?s:`headlessui-listbox-options-${Ce()}`,d=A("ListboxOptions"),p=i.ref(null);function v2(e){switch(p.value&&clearTimeout(p.value),e.key){case Ie.Space:if(""!==d.searchQuery.value)return e.preventDefault(),e.stopPropagation(),d.search(e.key);case Ie.Enter:if(e.preventDefault(),e.stopPropagation(),null!==d.activeOptionIndex.value){let e=d.options.value[d.activeOptionIndex.value];d.select(e.dataRef.value)}0===d.mode.value&&(d.closeListbox(),i.nextTick(()=>{var e;return null==(e=Se(d.buttonRef))?void 0:e.focus({preventScroll:!0})}));break;case $e(d.orientation.value,{vertical:Ie.ArrowDown,horizontal:Ie.ArrowRight}):return e.preventDefault(),e.stopPropagation(),d.goToOption(de.Next);case $e(d.orientation.value,{vertical:Ie.ArrowUp,horizontal:Ie.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),d.goToOption(de.Previous);case Ie.Home:case Ie.PageUp:return e.preventDefault(),e.stopPropagation(),d.goToOption(de.First);case Ie.End:case Ie.PageDown:return e.preventDefault(),e.stopPropagation(),d.goToOption(de.Last);case Ie.Escape:e.preventDefault(),e.stopPropagation(),d.closeListbox(),i.nextTick(()=>{var e;return null==(e=Se(d.buttonRef))?void 0:e.focus({preventScroll:!0})});break;case Ie.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(d.search(e.key),p.value=setTimeout(()=>d.clearSearch(),350))}}l({el:d.optionsRef,$el:d.optionsRef});let v=Y(),f=i.computed(()=>null!==v?(v.value&J.Open)===J.Open:0===d.listboxState.value);return()=>{var l,i;let s={open:0===d.listboxState.value},{...p}=e,v={"aria-activedescendant":null===d.activeOptionIndex.value||null==(l=d.options.value[d.activeOptionIndex.value])?void 0:l.id,"aria-multiselectable":1===d.mode.value||void 0,"aria-labelledby":null==(i=Se(d.buttonRef))?void 0:i.id,"aria-orientation":d.orientation.value,id:u,onKeydown:v2,role:"listbox",tabIndex:0,ref:d.optionsRef};return ke({ourProps:v,theirProps:p,slot:s,attrs:t,slots:a,features:Ve.RenderStrategy|Ve.Static,visible:f.value,name:"ListboxOptions"})}}}),to=i.defineComponent({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:a,expose:l}){var s;let u=null!=(s=e.id)?s:`headlessui-listbox-option-${Ce()}`,d=A("ListboxOption"),p=i.ref(null);l({el:p,$el:p});let v=i.computed(()=>null!==d.activeOptionIndex.value&&d.options.value[d.activeOptionIndex.value].id===u),f=i.computed(()=>$e(d.mode.value,{0:()=>d.compare(i.toRaw(d.value.value),i.toRaw(e.value)),1:()=>i.toRaw(d.value.value).some(t=>d.compare(i.toRaw(t),i.toRaw(e.value)))}));i.computed(()=>$e(d.mode.value,{1:()=>{var e;let t=i.toRaw(d.value.value);return(null==(e=d.options.value.find(e=>t.some(t=>d.compare(i.toRaw(t),i.toRaw(e.dataRef.value)))))?void 0:e.id)===u},0:()=>f.value}));let h=le(p);function u2(t){if(e.disabled)return t.preventDefault();d.select(e.value),0===d.mode.value&&(d.closeListbox(),i.nextTick(()=>{var e;return null==(e=Se(d.buttonRef))?void 0:e.focus({preventScroll:!0})}))}function D(){if(e.disabled)return d.goToOption(de.Nothing);d.goToOption(de.Specific,u)}i.computed(()=>({disabled:e.disabled,value:e.value,get textValue(){return h()},domRef:p})),i.watchEffect(()=>{0===d.listboxState.value&&v.value&&0!==d.activationTrigger.value&&i.nextTick(()=>{var e,t;return null==(t=null==(e=Se(p))?void 0:e.scrollIntoView)?void 0:t.call(e,{block:"nearest"})})});let b=ne();function L2(e){b.update(e)}function M2(t){b.wasMoved(t)&&(e.disabled||v.value||d.goToOption(de.Specific,u,0))}function k2(t){b.wasMoved(t)&&(e.disabled||v.value&&d.goToOption(de.Nothing))}return()=>{let{disabled:l}=e,i={active:v.value,selected:f.value,disabled:l},{value:s,disabled:d,...h}=e,b={id:u,ref:p,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":f.value,disabled:void 0,onClick:u2,onFocus:D,onPointerenter:L2,onMouseenter:L2,onPointermove:M2,onMousemove:M2,onPointerleave:k2,onMouseleave:k2};return ke({ourProps:b,theirProps:h,slot:i,attrs:a,slots:t,name:"ListboxOption"})}}});var oo=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oo||{});let ao=Symbol("PopoverContext");function U(e){let t=i.inject(ao,null);if(null===t){let t=new Error(`<${e} /> is missing a parent <${io.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,U),t}return t}let lo=Symbol("PopoverGroupContext");function ae(){return i.inject(lo,null)}let no=Symbol("PopoverPanelContext");let io=i.defineComponent({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:a,expose:l}){var s;let u=i.ref(null);l({el:u,$el:u});let d=i.ref(1),p=i.ref(null),v=i.ref(null),f=i.ref(null),h=i.ref(null),b=i.computed(()=>H(u)),y=i.computed(()=>{var e,t;if(!Se(p)||!Se(h))return!1;for(let e of(void 0).querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(Se(p)))^Number(null==e?void 0:e.contains(Se(h))))return!0;let a=X(),l=a.indexOf(Se(p)),i=(l+a.length-1)%a.length,s=(l+1)%a.length,u=a[i],d=a[s];return!(null!=(e=Se(h))&&e.contains(u)||null!=(t=Se(h))&&t.contains(d))}),x={popoverState:d,buttonId:i.ref(null),panelId:i.ref(null),panel:h,button:p,isPortalled:y,beforePanelSentinel:v,afterPanelSentinel:f,togglePopover(){d.value=$e(d.value,{0:1,1:0})},closePopover(){1!==d.value&&(d.value=1)},close(e){x.closePopover();let t=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?Se(e):Se(x.button):Se(x.button);null==t||t.focus()}};i.provide(ao,x),Z(i.computed(()=>$e(d.value,{0:J.Open,1:J.Closed})));let w={buttonId:x.buttonId,panelId:x.panelId,close(){x.closePopover()}},C=ae(),S=null==C?void 0:C.registerPopover,[k,V]=q(),O=N$1({mainTreeNodeRef:null==C?void 0:C.mainTreeNodeRef,portals:k,defaultContainers:[p,h]});return i.watchEffect(()=>null==S?void 0:S(w)),E$1(null==(s=b.value)?void 0:s.defaultView,"focus",e=>{var t,a;void 0!==e.target&&e.target instanceof HTMLElement&&0===d.value&&(function(){var e,t,a,l;return null!=(l=null==C?void 0:C.isFocusWithinPopoverGroup())?l:(null==(e=b.value)?void 0:e.activeElement)&&((null==(t=Se(p))?void 0:t.contains(b.value.activeElement))||(null==(a=Se(h))?void 0:a.contains(b.value.activeElement)))}()||p&&h&&(O.contains(e.target)||null!=(t=Se(x.beforePanelSentinel))&&t.contains(e.target)||null!=(a=Se(x.afterPanelSentinel))&&a.contains(e.target)||x.closePopover()))},!0),ee(O.resolveContainers,(e,t)=>{var a;x.closePopover(),te(t,oe.Loose)||(e.preventDefault(),null==(a=Se(p))||a.focus())},i.computed(()=>0===d.value)),()=>{let l={open:0===d.value,close:x.close};return i.h(i.Fragment,[i.h(V,{},()=>ke({theirProps:{...e,...a},ourProps:{ref:u},slot:l,slots:t,attrs:a,name:"Popover"})),i.h(O.MainTreeNode)])}}}),ro=i.defineComponent({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:l}){var s;let u=null!=(s=e.id)?s:`headlessui-popover-button-${Ce()}`,d=U("PopoverButton"),p=i.computed(()=>H(d.button));l({el:d.button,$el:d.button});let v=ae(),f=null==v?void 0:v.closeOthers,h=i.inject(no,null),b=i.computed(()=>null!==h&&h.value===d.panelId.value),y=i.ref(null),x=`headlessui-focus-sentinel-${Ce()}`;b.value||i.watchEffect(()=>{d.button.value=Se(y)});let w=Oe(i.computed(()=>({as:e.as,type:t.type})),y);function c2(e){var t,a,l,i,s;if(b.value){if(1===d.popoverState.value)return;switch(e.key){case Ie.Space:case Ie.Enter:e.preventDefault(),null==(a=(t=e.target).click)||a.call(t),d.closePopover(),null==(l=Se(d.button))||l.focus()}}else switch(e.key){case Ie.Space:case Ie.Enter:e.preventDefault(),e.stopPropagation(),1===d.popoverState.value&&(null==f||f(d.buttonId.value)),d.togglePopover();break;case Ie.Escape:if(0!==d.popoverState.value)return null==f?void 0:f(d.buttonId.value);if(!Se(d.button)||null!=(i=p.value)&&i.activeElement&&(null==(s=Se(d.button))||!s.contains(p.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),d.closePopover()}}function I(e){b.value||e.key===Ie.Space&&e.preventDefault()}function F(t){var a,l;e.disabled||(b.value?(d.closePopover(),null==(a=Se(d.button))||a.focus()):(t.preventDefault(),t.stopPropagation(),1===d.popoverState.value&&(null==f||f(d.buttonId.value)),d.togglePopover(),null==(l=Se(d.button))||l.focus()))}function w2(e){e.preventDefault(),e.stopPropagation()}let C=n();function p2(){let e=Se(d.panel);e&&$e(C.value,{[Ot.Forwards]:()=>W(e,G.First),[Ot.Backwards]:()=>W(e,G.Last)})===ve.Error&&W(X().filter(e=>"true"!==e.dataset.headlessuiFocusGuard),$e(C.value,{[Ot.Forwards]:G.Next,[Ot.Backwards]:G.Previous}),{relativeTo:Se(d.button)})}return()=>{let l=0===d.popoverState.value,s={open:l},{...p}=e,v=b.value?{ref:y,type:w.value,onKeydown:c2,onClick:F}:{ref:y,id:u,type:w.value,"aria-expanded":0===d.popoverState.value,"aria-controls":Se(d.panel)?d.panelId.value:void 0,disabled:!!e.disabled||void 0,onKeydown:c2,onKeyup:I,onClick:F,onMousedown:w2};return i.h(i.Fragment,[ke({ourProps:v,theirProps:{...t,...p},slot:s,attrs:t,slots:a,name:"PopoverButton"}),l&&!b.value&&d.isPortalled.value&&i.h(Pe,{id:x,features:Te.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:p2})])}}});i.defineComponent({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:a}){let l=U("PopoverOverlay"),s=`headlessui-popover-overlay-${Ce()}`,u=Y(),d=i.computed(()=>null!==u?(u.value&J.Open)===J.Open:0===l.popoverState.value);function y2(){l.closePopover()}return()=>{let i={open:0===l.popoverState.value};return ke({ourProps:{id:s,"aria-hidden":!0,onClick:y2},theirProps:e,slot:i,attrs:t,slots:a,features:Ve.RenderStrategy|Ve.Static,visible:d.value,name:"PopoverOverlay"})}}});let so=i.defineComponent({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{attrs:t,slots:a,expose:l}){var s;let u=null!=(s=e.id)?s:`headlessui-popover-panel-${Ce()}`,{focus:d}=e,p=U("PopoverPanel"),v=i.computed(()=>H(p.panel)),f=`headlessui-focus-sentinel-before-${Ce()}`,h=`headlessui-focus-sentinel-after-${Ce()}`;l({el:p.panel,$el:p.panel}),i.provide(no,p.panelId),i.watchEffect(()=>{var e,t;if(!d||0!==p.popoverState.value||!p.panel)return;let a=null==(e=v.value)?void 0:e.activeElement;null!=(t=Se(p.panel))&&t.contains(a)||W(Se(p.panel),G.First)});let b=Y(),y=i.computed(()=>null!==b?(b.value&J.Open)===J.Open:0===p.popoverState.value);function a2(e){var t,a;if(e.key===Ie.Escape){if(0!==p.popoverState.value||!Se(p.panel)||v.value&&(null==(t=Se(p.panel))||!t.contains(v.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),p.closePopover(),null==(a=Se(p.button))||a.focus()}}function S2(e){var t,a,l,i,s;let u=e.relatedTarget;u&&Se(p.panel)&&(null!=(t=Se(p.panel))&&t.contains(u)||(p.closePopover(),(null!=(l=null==(a=Se(p.beforePanelSentinel))?void 0:a.contains)&&l.call(a,u)||null!=(s=null==(i=Se(p.afterPanelSentinel))?void 0:i.contains)&&s.call(i,u))&&u.focus({preventScroll:!0})))}let x=n();function I(){let e=Se(p.panel);e&&$e(x.value,{[Ot.Forwards]:()=>{var t;W(e,G.First)===ve.Error&&(null==(t=Se(p.afterPanelSentinel))||t.focus())},[Ot.Backwards]:()=>{var e;null==(e=Se(p.button))||e.focus({preventScroll:!0})}})}function F(){let e=Se(p.panel);e&&$e(x.value,{[Ot.Forwards]:()=>{let e=Se(p.button),t=Se(p.panel);if(!e)return;let a=X(),l=a.indexOf(e),i=a.slice(0,l+1),s=[...a.slice(l+1),...i];for(let e of s.slice())if("true"===e.dataset.headlessuiFocusGuard||null!=t&&t.contains(e)){let t=s.indexOf(e);-1!==t&&s.splice(t,1)}W(s,G.First,{sorted:!1})},[Ot.Backwards]:()=>{var t;W(e,G.Previous)===ve.Error&&(null==(t=Se(p.button))||t.focus())}})}return()=>{let l={open:0===p.popoverState.value,close:p.close},{focus:s,...v}=e,b={ref:p.panel,id:u,onKeydown:a2,onFocusout:d&&0===p.popoverState.value?S2:void 0,tabIndex:-1};return ke({ourProps:b,theirProps:{...t,...v},attrs:t,slot:l,slots:{...a,default:(...e)=>{var t;return[i.h(i.Fragment,[y.value&&p.isPortalled.value&&i.h(Pe,{id:f,ref:p.beforePanelSentinel,features:Te.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:I}),null==(t=a.default)?void 0:t.call(a,...e),y.value&&p.isPortalled.value&&i.h(Pe,{id:h,ref:p.afterPanelSentinel,features:Te.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F})])]}},features:Ve.RenderStrategy|Ve.Static,visible:y.value,name:"PopoverPanel"})}}});function g(e=""){return e.split(/\s+/).filter(e=>e.length>1)}i.defineComponent({name:"PopoverGroup",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:a,expose:l}){let s=i.ref(null),u=i.shallowRef([]),d=i.computed(()=>H(s)),p=function(){let e=i.ref(null);return{mainTreeNodeRef:e,MainTreeNode:()=>i.h(Pe,{features:Te.Hidden,ref:e})}}();function v$1(e){let t=u.value.indexOf(e);-1!==t&&u.value.splice(t,1)}return l({el:s,$el:s}),i.provide(lo,{registerPopover:function(e){return u.value.push(e),()=>{v$1(e)}},unregisterPopover:v$1,isFocusWithinPopoverGroup:function(){var e;let t=d.value;if(!t)return!1;let a=t.activeElement;return!(null==(e=Se(s))||!e.contains(a))||u.value.some(e=>{var l,i;return(null==(l=t.getElementById(e.buttonId.value))?void 0:l.contains(a))||(null==(i=t.getElementById(e.panelId.value))?void 0:i.contains(a))})},closeOthers:function(e){for(let t of u.value)t.buttonId.value!==e&&t.close()},mainTreeNodeRef:p.mainTreeNodeRef}),()=>i.h(i.Fragment,[ke({ourProps:{ref:s},theirProps:{...e,...t},slot:{},attrs:t,slots:a,name:"PopoverGroup"}),i.h(p.MainTreeNode)])}});let uo=Symbol("TransitionContext");var co,po=((co=po||{}).Visible="visible",co.Hidden="hidden",co);let vo=Symbol("NestingContext");function L(e){return"children"in e?L(e.children):e.value.filter(({state:e})=>"visible"===e).length>0}function Q(e){let t=i.ref([]),a=i.ref(!1);function s2(l,i=Be.Hidden){let s=t.value.findIndex(({id:e})=>e===l);-1!==s&&($e(i,{[Be.Unmount](){t.value.splice(s,1)},[Be.Hidden](){t.value[s].state="hidden"}}),!L(t)&&a.value&&(null==e||e()))}return{children:t,register:function(e){let a=t.value.find(({id:t})=>t===e);return a?"visible"!==a.state&&(a.state="visible"):t.value.push({id:e,state:"visible"}),()=>s2(e,Be.Unmount)},unregister:s2}}let fo=Ve.RenderStrategy,mo=i.defineComponent({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:l,expose:s}){let u=i.ref(0);function r(){u.value|=J.Opening,t("beforeEnter")}function l2(){u.value&=~J.Opening,t("afterEnter")}function f2(){u.value|=J.Closing,t("beforeLeave")}function S2(){u.value&=~J.Closing,t("afterLeave")}if(null===i.inject(uo,null)&&re())return()=>i.h(ho,{...e,onBeforeEnter:r,onAfterEnter:l2,onBeforeLeave:f2,onAfterLeave:S2},l);let d=i.ref(null),p=i.computed(()=>e.unmount?Be.Unmount:Be.Hidden);s({el:d,$el:d});let{show:v,appear:f}=function(){let e=i.inject(uo,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),{register:h,unregister:b}=function(){let e=i.inject(vo,null);if(null===e)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}(),y=i.ref(v.value?"visible":"hidden"),x=Ce(),w=Q(()=>{"hidden"!==y.value&&(y.value="hidden",b(x),S2())});i.watchEffect(()=>{if(p.value===Be.Hidden&&x){if(v.value&&"visible"!==y.value)return void(y.value="visible");$e(y.value,{hidden:()=>b(x),visible:()=>h(x)})}});let C=g(e.enter),S=g(e.enterFrom);return g(e.enterTo),g(e.entered),g(e.leave),g(e.leaveFrom),g(e.leaveTo),i.provide(vo,w),Z(i.computed(()=>$e(y.value,{visible:J.Open,hidden:J.Closed})|u.value)),()=>{let{appear:t,show:s,enter:u,enterFrom:p,enterTo:h,entered:b,leave:x,leaveFrom:w,leaveTo:k,...V}=e,O={ref:d},$={...V,...f.value&&v.value&&se.isServer?{class:i.normalizeClass([a.class,V.class,...C,...S])}:{}};return ke({theirProps:$,ourProps:O,slot:{},slots:l,attrs:a,features:fo,visible:"visible"===y.value,name:"TransitionChild"})}}}),go=mo,ho=i.defineComponent({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:a,slots:l}){let s=Y(),u=i.computed(()=>null===e.show&&null!==s?(s.value&J.Open)===J.Open:e.show);i.watchEffect(()=>{if(![!0,!1].includes(u.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let d=i.ref(u.value?"visible":"hidden"),p=Q(()=>{d.value="hidden"}),v=i.ref(!0),f={show:u,appear:i.computed(()=>e.appear||!v.value)};return i.provide(vo,p),i.provide(uo,f),()=>{let s=Me(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),u={unmount:e.unmount};return ke({ourProps:{...u,as:"template"},theirProps:{},slot:{},slots:{...l,default:()=>[i.h(go,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...a,...u,...s},l.default)]},attrs:{},features:fo,visible:"visible"===d.value,name:"Transition"})}}});const bo=h(O.ui.strategy,O.ui.tooltip,N),yo=i.defineComponent({components:{UKbd:z},inheritAttrs:!1,props:{text:{type:String,default:null},prevent:{type:Boolean,default:!1},shortcuts:{type:Array,default:()=>[]},openDelay:{type:Number,default:()=>bo.default.openDelay},closeDelay:{type:Number,default:()=>bo.default.closeDelay},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(t){const{ui:a,attrs:l}=b("tooltip",i.toRef(t,"ui"),bo,i.toRef(t,"class")),s=i.computed(()=>e({},t.popper,a.value.popper)),[u,d]=j(s.value),p=i.ref(!1);let v=null,f=null;const h=i.computed(()=>!(!i.useSlots().text&&!t.text));return{ui:a,attrs:l,popper:s,trigger:u,container:d,open:p,onMouseEnter:function(){f&&(clearTimeout(f),f=null),p.value||(v=v||setTimeout(()=>{p.value=!0,v=null},t.openDelay))},onMouseLeave:function(){v&&(clearTimeout(v),v=null),p.value&&(f=f||setTimeout(()=>{p.value=!1,f=null},t.closeDelay))},isVisible:h}}});const xo=yo.setup;yo.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/overlays/Tooltip.vue"),xo?xo(e,t):void 0};const wo=v(yo,[["ssrRender",function(e,t,a,l,s,u,d,p){var v;const f=z;t(`<div${Ye(i.mergeProps({ref:"trigger",class:e.ui.wrapper},e.attrs,l))}>`),et(e.$slots,"default",{open:e.open},()=>{t(" Hover ")},t,a),e.open&&!e.prevent&&e.isVisible?(t(`<div class="${tt([e.ui.container,e.ui.width])}"><template><div>`),e.popper.arrow?t(`<div data-popper-arrow class="${tt(Object.values(e.ui.arrow))}"></div>`):t("\x3c!----\x3e"),t(`<div class="${tt([e.ui.base,e.ui.background,e.ui.color,e.ui.rounded,e.ui.shadow,e.ui.ring])}">`),et(e.$slots,"text",{},()=>{t(`${Xe(e.text)}`)},t,a),(null==(v=e.shortcuts)?void 0:v.length)?(t(`<span class="${tt(e.ui.shortcuts)}"><span class="${tt(e.ui.middot)}">Â·</span>\x3c!--[--\x3e`),Ze(e.shortcuts,e=>{t(Je(f,{key:e,size:"xs"},{default:i.withCtx((t,a,l,s)=>{if(!a)return[i.createTextVNode(i.toDisplayString(e),1)];a(`${Xe(e)}`)}),_:2},a))}),t("\x3c!--]--\x3e</span>")):t("\x3c!----\x3e"),t("</div></div></template></div>")):t("\x3c!----\x3e"),t("</div>")}]]),Co=h(O.ui.strategy,O.ui.progress,{wrapper:"w-full flex flex-col gap-2",indicator:{container:{base:"flex flex-row justify-end",width:"min-w-fit",transition:"transition-all"},align:"text-end",width:"w-fit",color:"text-gray-400 dark:text-gray-500",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},progress:{base:"block appearance-none border-none overflow-hidden",width:"w-full [&::-webkit-progress-bar]:w-full",size:{"2xs":"h-px",xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-3",xl:"h-4","2xl":"h-5"},rounded:"rounded-full [&::-webkit-progress-bar]:rounded-full",track:"[&::-webkit-progress-bar]:bg-gray-200 [&::-webkit-progress-bar]:dark:bg-gray-700 [@supports(selector(&::-moz-progress-bar))]:bg-gray-200 [@supports(selector(&::-moz-progress-bar))]:dark:bg-gray-700",bar:"[&::-webkit-progress-value]:rounded-full [&::-webkit-progress-value]:transition-all [&::-webkit-progress-value]:ease-in-out [&::-moz-progress-bar]:rounded-full",color:"text-{color}-500 dark:text-{color}-400",background:"[&::-webkit-progress-value]:bg-current [&::-moz-progress-bar]:bg-current",indeterminate:{base:"indeterminate:relative",rounded:"indeterminate:after:rounded-full [&:indeterminate::-webkit-progress-value]:rounded-full [&:indeterminate::-moz-progress-bar]:rounded-full"}},steps:{base:"grid grid-cols-1",color:"text-{color}-500 dark:text-{color}-400",size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base","2xl":"text-base"}},step:{base:"transition-all opacity-0 truncate row-start-1 col-start-1",align:"text-end",active:"opacity-100",first:"text-gray-500 dark:text-gray-400"},animation:{carousel:"bar-animation-carousel","carousel-inverse":"bar-animation-carousel-inverse",swing:"bar-animation-swing",elastic:"bar-animation-elastic"},default:{color:"primary",size:"md",animation:"carousel"}}),So=i.defineComponent({inheritAttrs:!1,props:{value:{type:Number,default:null},max:{type:[Number,Array],default:100},indicator:{type:Boolean,default:!1},animation:{type:String,default:()=>Co.default.animation,validator:e=>Object.keys(Co.animation).includes(e)},size:{type:String,default:()=>Co.default.size,validator:e=>Object.keys(Co.progress.size).includes(e)},color:{type:String,default:()=>Co.default.color,validator:e=>O.ui.colors.includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:a}=b("progress",i.toRef(e,"ui"),Co,i.toRef(e,"class")),l=i.computed(()=>V(t.value.indicator.container.base,t.value.indicator.container.width,t.value.indicator.container.transition)),s=i.computed(()=>V(t.value.indicator.align,t.value.indicator.width,t.value.indicator.color,t.value.indicator.size[e.size])),u=i.computed(()=>{var a;const l=[t.value.progress.base,t.value.progress.width,t.value.progress.size[e.size],t.value.progress.rounded,t.value.progress.track,t.value.progress.bar,null==(a=t.value.progress.color)?void 0:a.replaceAll("{color}",e.color),t.value.progress.background,t.value.progress.indeterminate.base,t.value.progress.indeterminate.rounded];return h.value&&l.push(t.value.animation[e.animation]),V(...l)}),d=i.computed(()=>{var a;return V(t.value.steps.base,null==(a=t.value.steps.color)?void 0:a.replaceAll("{color}",e.color),t.value.steps.size[e.size])}),p=i.computed(()=>V(t.value.step.base,t.value.step.align)),v=i.computed(()=>V(t.value.step.active)),f=i.computed(()=>V(t.value.step.first));const h=i.computed(()=>void 0===e.value||null===e.value),y=i.computed(()=>Array.isArray(e.max)),x=i.computed(()=>h.value?null:Array.isArray(e.max)?e.max.length-1:Number(e.max)),w=i.computed(()=>{if(!h.value)switch(!0){case e.value<0:return 0;case e.value>x.value:return 100;default:return e.value/x.value*100}});return{ui:t,attrs:a,indicatorContainerClass:l,indicatorClass:s,progressClass:u,stepsClass:d,stepClasses:function(t){t=Number(t);const a=[p.value];return function(e){return 0===e}(t)&&a.push(f.value),function(t){return t===Number(e.value)}(t)&&a.push(v.value),a.join(" ")},isIndeterminate:h,isSteps:y,realMax:x,percent:w}}});const ko=So.setup;So.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/elements/Progress.vue"),ko?ko(e,t):void 0};const Vo=v(So,[["ssrRender",function(e,t,a,l,s,u,d,p){t(`<div${Ye(i.mergeProps({class:e.ui.wrapper,role:"progressbar"},l))} data-v-e0a22531>`),e.indicator||e.$slots.indicator?et(e.$slots,"indicator",{percent:e.percent},()=>{e.isSteps?t("\x3c!----\x3e"):t(`<div class="${tt(e.indicatorContainerClass)}" style="${ot({width:`${e.percent}%`})}" data-v-e0a22531><div class="${tt(e.indicatorClass)}" data-v-e0a22531>${Xe(Math.round(e.percent))}% </div></div>`)},t,a):t("\x3c!----\x3e"),t(`<progress${Ye(i.mergeProps({"aria-valuemax":e.realMax,"aria-valuenow":e.value,class:e.progressClass},{value:e.value,max:e.realMax,...e.attrs}))} data-v-e0a22531>${Xe(void 0!==e.percent?`${Math.round(e.percent)}%`:void 0)}</progress>`),e.isSteps?(t(`<div class="${tt(e.stepsClass)}" data-v-e0a22531>\x3c!--[--\x3e`),Ze(e.max,(l,s)=>{t(`<div class="${tt(e.stepClasses(s))}" data-v-e0a22531>`),et(e.$slots,`step-${s}`,i.mergeProps({ref_for:!0},{step:l}),()=>{t(`${Xe(l)}`)},t,a),t("</div>")}),t("\x3c!--]--\x3e</div>")):t("\x3c!----\x3e"),t("</div>")}],["__scopeId","data-v-e0a22531"]]),Oo=i.defineComponent({__name:"CollectionStats",__ssrInlineRender:!0,props:{fields:{},items:{}},setup(e){const t=e,a=i.computed(()=>t.fields.filter(e=>"number"===e.type)),l=i.computed(()=>t.fields.filter(e=>["select","boolean"].includes(e.type))),s=i.computed(()=>{const e=new Date;return e.setDate(e.getDate()-7),t.items.filter(t=>new Date(t.created_at)>=e).length}),getFillRate=e=>{if(0===t.items.length)return 0;const a=t.items.filter(t=>null!==t[e]&&void 0!==t[e]&&""!==t[e]).length;return Math.round(a/t.items.length*100)},getFillColor=e=>e>80?"green":e>50?"orange":"red",getSum=e=>t.items.reduce((t,a)=>t+(Number(a[e])||0),0),getAvg=e=>0===t.items.length?0:getSum(e)/t.items.length,getMax=e=>{if(0===t.items.length)return 0;const a=t.items.map(t=>Number(t[e])||0);return Math.max(...a)},getMin=e=>{if(0===t.items.length)return 0;const a=t.items.map(t=>Number(t[e])||0);return Math.min(...a)},getDistribution=e=>{const a={},l=t.fields.find(t=>t.id===e);return t.items.forEach(t=>{let i=t[e];"boolean"===(null==l?void 0:l.type)?i=i?"Sim":"NÃ£o":null!=i&&""!==i||(i="N/A"),a[i]=(a[i]||0)+1}),Object.fromEntries(Object.entries(a).sort(([,e],[,t])=>t-e))},getPercentage=(e,t)=>0===t?0:Math.round(e/t*100),formatValue=e=>Number.isInteger(e)?e.toLocaleString():e.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:2});return(t,u,d,v)=>{const f=he,h=p,b=Vo;e.fields.length>0&&e.items.length>0?(u(`<div${Ye(i.mergeProps({class:"mb-8 space-y-6"},v))}><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">`),u(Je(f,{class:"bg-gradient-to-br from-primary-600 to-indigo-700 text-white shadow-lg overflow-hidden relative"},{default:i.withCtx((t,a,l,u)=>{if(!a)return[i.createVNode("div",{class:"absolute -right-4 -bottom-4 opacity-20"},[i.createVNode(h,{name:"i-heroicons-rectangle-stack",class:"w-24 h-24"})]),i.createVNode("div",{class:"relative z-10"},[i.createVNode("p",{class:"text-xs font-bold uppercase tracking-widest opacity-80 mb-1"},"Total de Itens"),i.createVNode("div",{class:"flex items-end gap-3"},[i.createVNode("p",{class:"text-4xl font-black"},i.toDisplayString(e.items.length),1),i.unref(s)>0?(i.openBlock(),i.createBlock("div",{key:0,class:"flex items-center text-xs bg-white/20 px-2 py-0.5 rounded-full mb-1"},[i.createVNode(h,{name:"i-heroicons-arrow-trending-up",class:"w-3 h-3 mr-1"}),i.createTextVNode(" +"+i.toDisplayString(i.unref(s))+" esta semana ",1)])):i.createCommentVNode("",!0)])])];a(`<div class="absolute -right-4 -bottom-4 opacity-20"${u}>`),a(Je(h,{name:"i-heroicons-rectangle-stack",class:"w-24 h-24"},null,l,u)),a(`</div><div class="relative z-10"${u}><p class="text-xs font-bold uppercase tracking-widest opacity-80 mb-1"${u}>Total de Itens</p><div class="flex items-end gap-3"${u}><p class="text-4xl font-black"${u}>${Xe(e.items.length)}</p>`),i.unref(s)>0?(a(`<div class="flex items-center text-xs bg-white/20 px-2 py-0.5 rounded-full mb-1"${u}>`),a(Je(h,{name:"i-heroicons-arrow-trending-up",class:"w-3 h-3 mr-1"},null,l,u)),a(` +${Xe(i.unref(s))} esta semana </div>`)):a("\x3c!----\x3e"),a("</div></div>")}),_:1},d)),u("\x3c!--[--\x3e"),Ze(i.unref(a),e=>{u(Je(f,{key:e.id,class:"border-0 ring-1 ring-gray-200 dark:ring-gray-800 shadow-sm relative overflow-hidden group"},{default:i.withCtx((t,a,l,s)=>{if(!a)return[i.createVNode("div",{class:"absolute right-2 top-2 opacity-10 group-hover:opacity-20 transition-opacity"},[i.createVNode(h,{name:"i-heroicons-calculator",class:"w-12 h-12"})]),i.createVNode("div",{class:"space-y-3"},[i.createVNode("div",null,[i.createVNode("p",{class:"text-[10px] text-gray-500 dark:text-gray-400 uppercase font-bold tracking-wider mb-1"},i.toDisplayString(e.name)+" (MÃ©dia)",1),i.createVNode("p",{class:"text-2xl font-black font-mono text-gray-900 dark:text-white leading-none"},i.toDisplayString(formatValue(getAvg(e.id))),1)]),i.createVNode("div",{class:"grid grid-cols-3 gap-2 border-t border-gray-100 dark:border-gray-800 pt-2"},[i.createVNode("div",null,[i.createVNode("p",{class:"text-[9px] text-gray-400 uppercase"},"Soma"),i.createVNode("p",{class:"text-xs font-bold"},i.toDisplayString(formatValue(getSum(e.id))),1)]),i.createVNode("div",null,[i.createVNode("p",{class:"text-[9px] text-gray-400 uppercase"},"MÃ­n"),i.createVNode("p",{class:"text-xs font-bold text-blue-500"},i.toDisplayString(formatValue(getMin(e.id))),1)]),i.createVNode("div",null,[i.createVNode("p",{class:"text-[9px] text-gray-400 uppercase"},"MÃ¡x"),i.createVNode("p",{class:"text-xs font-bold text-orange-500"},i.toDisplayString(formatValue(getMax(e.id))),1)])])])];a(`<div class="absolute right-2 top-2 opacity-10 group-hover:opacity-20 transition-opacity"${s}>`),a(Je(h,{name:"i-heroicons-calculator",class:"w-12 h-12"},null,l,s)),a(`</div><div class="space-y-3"${s}><div${s}><p class="text-[10px] text-gray-500 dark:text-gray-400 uppercase font-bold tracking-wider mb-1"${s}>${Xe(e.name)} (MÃ©dia)</p><p class="text-2xl font-black font-mono text-gray-900 dark:text-white leading-none"${s}>${Xe(formatValue(getAvg(e.id)))}</p></div><div class="grid grid-cols-3 gap-2 border-t border-gray-100 dark:border-gray-800 pt-2"${s}><div${s}><p class="text-[9px] text-gray-400 uppercase"${s}>Soma</p><p class="text-xs font-bold"${s}>${Xe(formatValue(getSum(e.id)))}</p></div><div${s}><p class="text-[9px] text-gray-400 uppercase"${s}>MÃ­n</p><p class="text-xs font-bold text-blue-500"${s}>${Xe(formatValue(getMin(e.id)))}</p></div><div${s}><p class="text-[9px] text-gray-400 uppercase"${s}>MÃ¡x</p><p class="text-xs font-bold text-orange-500"${s}>${Xe(formatValue(getMax(e.id)))}</p></div></div></div>`)}),_:2},d))}),u('\x3c!--]--\x3e</div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">\x3c!--[--\x3e'),Ze(i.unref(l),t=>{u(Je(f,{key:t.id,class:"border-0 ring-1 ring-gray-200 dark:ring-gray-800 shadow-sm"},{header:i.withCtx((e,a,l,s)=>{if(!a)return[i.createVNode("div",{class:"flex items-center justify-between"},[i.createVNode("div",{class:"flex items-center gap-2"},[i.createVNode("div",{class:"p-1.5 bg-primary-100 dark:bg-primary-900/40 rounded text-primary-600 dark:text-primary-400"},[i.createVNode(h,{name:"i-heroicons-chart-pie",class:"w-4 h-4"})]),i.createVNode("h3",{class:"font-bold text-sm"},i.toDisplayString(t.name),1)])])];a(`<div class="flex items-center justify-between"${s}><div class="flex items-center gap-2"${s}><div class="p-1.5 bg-primary-100 dark:bg-primary-900/40 rounded text-primary-600 dark:text-primary-400"${s}>`),a(Je(h,{name:"i-heroicons-chart-pie",class:"w-4 h-4"},null,l,s)),a(`</div><h3 class="font-bold text-sm"${s}>${Xe(t.name)}</h3></div></div>`)}),default:i.withCtx((a,l,s,u)=>{if(!l)return[i.createVNode("div",{class:"space-y-4"},[(i.openBlock(!0),i.createBlock(i.Fragment,null,i.renderList(getDistribution(t.id),(t,a)=>(i.openBlock(),i.createBlock("div",{key:a,class:"space-y-1.5"},[i.createVNode("div",{class:"flex justify-between items-center text-xs"},[i.createVNode("span",{class:"font-semibold text-gray-700 dark:text-gray-300 truncate max-w-[150px]"},i.toDisplayString(a),1),i.createVNode("div",{class:"flex items-center gap-2"},[i.createVNode("span",{class:"font-mono"},i.toDisplayString(t),1),i.createVNode("span",{class:"text-gray-400 bg-gray-100 dark:bg-gray-800 px-1.5 rounded text-[10px]"},i.toDisplayString(getPercentage(t,e.items.length))+"%",1)])]),i.createVNode(b,{value:getPercentage(t,e.items.length),size:"md",color:"primary",class:"h-2 rounded-full shadow-inner"},null,8,["value"])]))),128))])];l(`<div class="space-y-4"${u}>\x3c!--[--\x3e`),Ze(getDistribution(t.id),(t,a)=>{l(`<div class="space-y-1.5"${u}><div class="flex justify-between items-center text-xs"${u}><span class="font-semibold text-gray-700 dark:text-gray-300 truncate max-w-[150px]"${u}>${Xe(a)}</span><div class="flex items-center gap-2"${u}><span class="font-mono"${u}>${Xe(t)}</span><span class="text-gray-400 bg-gray-100 dark:bg-gray-800 px-1.5 rounded text-[10px]"${u}>${Xe(getPercentage(t,e.items.length))}%</span></div></div>`),l(Je(b,{value:getPercentage(t,e.items.length),size:"md",color:"primary",class:"h-2 rounded-full shadow-inner"},null,s,u)),l("</div>")}),l("\x3c!--]--\x3e</div>")}),_:2},d))}),u("\x3c!--]--\x3e"),u(Je(f,{class:"border-0 ring-1 ring-gray-200 dark:ring-gray-800 shadow-sm lg:col-span-1 md:col-span-2"},{header:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode("div",{class:"flex items-center gap-2"},[i.createVNode("div",{class:"p-1.5 bg-amber-100 dark:bg-amber-900/40 rounded text-amber-600 dark:text-amber-400"},[i.createVNode(h,{name:"i-heroicons-check-circle",class:"w-4 h-4"})]),i.createVNode("h3",{class:"font-bold text-sm"},"Completude dos Dados")])];t(`<div class="flex items-center gap-2"${l}><div class="p-1.5 bg-amber-100 dark:bg-amber-900/40 rounded text-amber-600 dark:text-amber-400"${l}>`),t(Je(h,{name:"i-heroicons-check-circle",class:"w-4 h-4"},null,a,l)),t(`</div><h3 class="font-bold text-sm"${l}>Completude dos Dados</h3></div>`)}),default:i.withCtx((t,a,l,s)=>{if(!a)return[i.createVNode("div",{class:"space-y-4"},[(i.openBlock(!0),i.createBlock(i.Fragment,null,i.renderList(e.fields.slice(0,5),e=>(i.openBlock(),i.createBlock("div",{key:e.id,class:"space-y-1.5"},[i.createVNode("div",{class:"flex justify-between items-center text-xs"},[i.createVNode("span",{class:"font-semibold text-gray-600 dark:text-gray-400"},i.toDisplayString(e.name),1),i.createVNode("span",{class:"font-mono"},i.toDisplayString(getFillRate(e.id))+"%",1)]),i.createVNode(b,{value:getFillRate(e.id),size:"sm",color:getFillColor(getFillRate(e.id))},null,8,["value","color"])]))),128)),e.fields.length>5?(i.openBlock(),i.createBlock("p",{key:0,class:"text-[10px] text-gray-400 text-center"},"+ "+i.toDisplayString(e.fields.length-5)+" outros campos",1)):i.createCommentVNode("",!0)])];a(`<div class="space-y-4"${s}>\x3c!--[--\x3e`),Ze(e.fields.slice(0,5),e=>{a(`<div class="space-y-1.5"${s}><div class="flex justify-between items-center text-xs"${s}><span class="font-semibold text-gray-600 dark:text-gray-400"${s}>${Xe(e.name)}</span><span class="font-mono"${s}>${Xe(getFillRate(e.id))}%</span></div>`),a(Je(b,{value:getFillRate(e.id),size:"sm",color:getFillColor(getFillRate(e.id))},null,l,s)),a("</div>")}),a("\x3c!--]--\x3e"),e.fields.length>5?a(`<p class="text-[10px] text-gray-400 text-center"${s}>+ ${Xe(e.fields.length-5)} outros campos</p>`):a("\x3c!----\x3e"),a("</div>")}),_:1},d)),u("</div></div>")):u("\x3c!----\x3e")}}}),$o=Oo.setup;Oo.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("components/CollectionStats.vue"),$o?$o(e,t):void 0};const No=h(O.ui.strategy,O.ui.popover,ut),Mo=i.defineComponent({components:{HPopover:io,HPopoverButton:ro,HPopoverPanel:so},inheritAttrs:!1,props:{mode:{type:String,default:"click",validator:e=>["click","hover"].includes(e)},open:{type:Boolean,default:void 0},disabled:{type:Boolean,default:!1},openDelay:{type:Number,default:()=>No.default.openDelay},closeDelay:{type:Number,default:()=>No.default.closeDelay},overlay:{type:Boolean,default:!1},popper:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:open"],setup(t,{emit:a}){const{ui:l,attrs:s}=b("popover",i.toRef(t,"ui"),No,i.toRef(t,"class")),u=i.computed(()=>e("hover"===t.mode?{offsetDistance:0}:{},t.popper,l.value.popper)),[d,p]=j(u.value),v=i.ref(null),f=i.ref(null);let h=null,y=null;const x=i.computed(()=>{var e,a,i;if("hover"!==t.mode)return{};const s=(null==(e=t.popper)?void 0:e.offsetDistance)||(null==(a=l.value.popper)?void 0:a.offsetDistance)||8,d=null==(i=u.value.placement)?void 0:i.split("-")[0],p=`${s}px`;return"top"===d||"bottom"===d?{paddingTop:p,paddingBottom:p}:"left"===d||"right"===d?{paddingLeft:p,paddingRight:p}:{paddingTop:p,paddingBottom:p,paddingLeft:p,paddingRight:p}});return i.watch(()=>t.open,(e,t)=>{f.value&&void 0!==t&&e!==t&&(e?f.value.popoverState=0:f.value.closePopover())}),i.watch(()=>{var e;return null==(e=f.value)?void 0:e.popoverState},(e,t)=>{void 0!==t&&e!==t&&a("update:open",0===e)}),we(()=>i.useId()),{ui:l,attrs:s,popover:v,popper:u,trigger:d,container:p,containerStyle:x,onTouchStart:function(e){e.cancelable&&f.value&&"click"!==t.mode&&(0===f.value.popoverState?f.value.closePopover():f.value.togglePopover())},onMouseEnter:function(){"hover"===t.mode&&f.value&&(y&&(clearTimeout(y),y=null),0!==f.value.popoverState&&(h=h||setTimeout(()=>{f.value.togglePopover&&f.value.togglePopover(),h=null},t.openDelay)))},onMouseLeave:function(){"hover"===t.mode&&f.value&&(h&&(clearTimeout(h),h=null),1!==f.value.popoverState&&(y=y||setTimeout(()=>{f.value.closePopover&&f.value.closePopover(),y=null},t.closeDelay)))}}}});const Bo=Mo.setup;Mo.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/overlays/Popover.vue"),Bo?Bo(e,t):void 0};const Io=v(Mo,[["ssrRender",function(e,t,a,l,s,u,d,p){const v=i.resolveComponent("HPopover"),f=i.resolveComponent("HPopoverButton"),h=i.resolveComponent("HPopoverPanel");t(Je(v,i.mergeProps({ref:"popover",class:e.ui.wrapper},e.attrs,{onMouseleave:e.onMouseLeave},l),{default:i.withCtx(({open:t,close:a},l,s,u)=>{if(!l)return[i.createVNode(f,{ref:"trigger",as:"div",disabled:e.disabled,class:e.ui.trigger,role:"button",onMouseenter:e.onMouseEnter,onTouchstartPassive:e.onTouchStart},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default",{open:t,close:a},()=>[i.createVNode("button",{disabled:e.disabled}," Open ",8,["disabled"])])]),_:2},1032,["disabled","class","onMouseenter","onTouchstartPassive"]),e.overlay?(i.openBlock(),i.createBlock(i.Transition,i.mergeProps({key:0,appear:""},e.ui.overlay.transition),{default:i.withCtx(()=>[t?(i.openBlock(),i.createBlock("div",{key:0,class:[e.ui.overlay.base,e.ui.overlay.background]},null,2)):i.createCommentVNode("",!0)]),_:2},1040)):i.createCommentVNode("",!0),t?(i.openBlock(),i.createBlock("div",{key:1,ref:"container",class:[e.ui.container,e.ui.width],style:e.containerStyle,onMouseenter:e.onMouseEnter},[i.createVNode(i.Transition,i.mergeProps({appear:""},e.ui.transition),{default:i.withCtx(()=>[i.createVNode("div",null,[e.popper.arrow?(i.openBlock(),i.createBlock("div",{key:0,"data-popper-arrow":"",class:Object.values(e.ui.arrow)},null,2)):i.createCommentVNode("",!0),i.createVNode(h,{class:[e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow],static:""},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"panel",{open:t,close:a})]),_:2},1032,["class"])])]),_:2},1040)],46,["onMouseenter"])):i.createCommentVNode("",!0)];l(Je(f,{ref:"trigger",as:"div",disabled:e.disabled,class:e.ui.trigger,role:"button",onMouseenter:e.onMouseEnter,onTouchstart:e.onTouchStart},{default:i.withCtx((l,s,u,d)=>{if(!s)return[i.renderSlot(e.$slots,"default",{open:t,close:a},()=>[i.createVNode("button",{disabled:e.disabled}," Open ",8,["disabled"])])];et(e.$slots,"default",{open:t,close:a},()=>{s(`<button${it(e.disabled)?" disabled":""}${d}> Open </button>`)},s,u,d)}),_:2},s,u)),e.overlay?(l("<template>"),l(t?`<div class="${tt([e.ui.overlay.base,e.ui.overlay.background])}"${u}></div>`:"\x3c!----\x3e"),l("</template>")):l("\x3c!----\x3e"),t?(l(`<div class="${tt([e.ui.container,e.ui.width])}" style="${ot(e.containerStyle)}"${u}><template><div${u}>`),e.popper.arrow?l(`<div data-popper-arrow class="${tt(Object.values(e.ui.arrow))}"${u}></div>`):l("\x3c!----\x3e"),l(Je(h,{class:[e.ui.base,e.ui.background,e.ui.ring,e.ui.rounded,e.ui.shadow],static:""},{default:i.withCtx((l,s,u,d)=>{if(!s)return[i.renderSlot(e.$slots,"panel",{open:t,close:a})];et(e.$slots,"panel",{open:t,close:a},null,s,u,d)}),_:2},s,u)),l("</div></template></div>")):l("\x3c!----\x3e")}),_:3},a))}]]),Ro=h(O.ui.strategy,O.ui.table,{wrapper:"relative overflow-x-auto",base:"min-w-full table-fixed",divide:"divide-y divide-gray-300 dark:divide-gray-700",thead:"relative",tbody:"divide-y divide-gray-200 dark:divide-gray-800",caption:"sr-only",tr:{base:"",selected:"bg-gray-50 dark:bg-gray-800/50",expanded:"bg-gray-50 dark:bg-gray-800/50",active:"hover:bg-gray-50 dark:hover:bg-gray-800/50 cursor-pointer"},th:{base:"text-left rtl:text-right",padding:"px-4 py-3.5",color:"text-gray-900 dark:text-white",font:"font-semibold",size:"text-sm"},td:{base:"whitespace-nowrap",padding:"px-4 py-4",color:"text-gray-500 dark:text-gray-400",font:"",size:"text-sm"},checkbox:{padding:"ps-4"},loadingState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4 animate-spin"},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},expand:{icon:"transform transition-transform duration-200"},progress:{wrapper:"absolute inset-x-0 -bottom-[0.5px] p-0"},default:{sortAscIcon:"i-heroicons-bars-arrow-up-20-solid",sortDescIcon:"i-heroicons-bars-arrow-down-20-solid",sortButton:{icon:"i-heroicons-arrows-up-down-20-solid",trailing:!0,square:!0,color:"gray",variant:"ghost",class:"-m-1.5"},expandButton:{icon:"i-heroicons-chevron-down",color:"gray",variant:"ghost",size:"xs",class:"-my-1.5 align-middle"},checkbox:{color:"primary"},progress:{color:"primary",animation:"carousel"},loadingState:{icon:"i-heroicons-arrow-path-20-solid",label:"Loading..."},emptyState:{icon:"i-heroicons-circle-stack-20-solid",label:"No items."}}});function defaultComparator(e,t){return a(e,t)}function defaultSort(e,t,a){return e===t?0:"asc"===a?e<t?-1:1:e>t?-1:1}function getStringifiedSet(e){return new Set(e.map(e=>JSON.stringify(e)))}const Po=i.defineComponent({components:{UIcon:p,UButton:d,UProgress:Vo,UCheckbox:Le},inheritAttrs:!1,props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>defaultComparator},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortMode:{type:String,default:"auto"},sortButton:{type:Object,default:()=>Ro.default.sortButton},sortAscIcon:{type:String,default:()=>Ro.default.sortAscIcon},sortDescIcon:{type:String,default:()=>Ro.default.sortDescIcon},expandButton:{type:Object,default:()=>Ro.default.expandButton},expand:{type:Object,default:()=>null},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>Ro.default.loadingState},emptyState:{type:Object,default:()=>Ro.default.emptyState},caption:{type:String,default:null},progress:{type:Object,default:()=>Ro.default.progress},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},multipleExpand:{type:Boolean,default:!0},singleSelect:{type:Boolean,default:!1}},emits:["update:modelValue","update:sort","update:expand","select:all"],setup(a,{emit:l,attrs:s}){const{ui:u,attrs:d}=b("table",i.toRef(a,"ui"),Ro,i.toRef(a,"class")),p=i.computed(()=>{var e;const l=null!=(e=a.columns)?e:Object.keys(a.rows[0]).map(e=>({key:e,label:t(e),sortable:!1,class:void 0,sort:defaultSort}));return l.find(e=>"select"===e.key)||!a.modelValue?l:[{key:"select",sortable:!1,class:void 0,sort:defaultSort},...l]}),v=y(a,"sort",l,{passive:!0,defaultValue:e({},a.sort,{column:null,direction:"asc"})}),f=y(a,"expand",l,{passive:!0,defaultValue:e({},a.expand,{openedRows:[],row:null})}),h={column:v.value.column,direction:null},w=i.computed(()=>{var e;if(!(null==(e=v.value)?void 0:e.column)||"manual"===a.sortMode)return a.rows;const{column:t,direction:l}=v.value;return a.rows.slice().sort((e,a)=>{var i,s;const u=x(e,t),d=x(a,t);return(null!=(s=null==(i=p.value.find(e=>e.key===t))?void 0:i.sort)?s:defaultSort)(u,d,l)})}),C=i.computed({get:()=>a.modelValue,set(e){l("update:modelValue",e)}}),S=i.computed(()=>a.rows.length),k=i.computed(()=>{const e=getStringifiedSet(C.value),t=getStringifiedSet(a.rows);return Array.from(e).filter(e=>t.has(e)).length}),V=i.computed(()=>!(!C.value||!a.rows)&&(k.value>0&&k.value<S.value)),O=i.computed(()=>k.value===S.value),$=i.computed(()=>null===a.emptyState?null:{...u.value.default.emptyState,...a.emptyState}),N=i.computed(()=>null===a.loadingState?null:{...u.value.default.loadingState,...a.loadingState});function compare(e,t){if("string"==typeof a.by){const i=(l=a.by,e=>x(e,l));return i(e)===i(t)}var l;return a.by(e,t)}function isSelected(e){return!!a.modelValue&&C.value.some(t=>compare(i.toRaw(t),i.toRaw(e)))}function isExpanded(e){var t;return!!(null==(t=f.value)?void 0:t.openedRows)&&f.value.openedRows.some(t=>compare(t,e))}return{ui:u,attrs:d,sort:v,columns:p,rows:w,selected:C,indeterminate:V,emptyState:$,loadingState:N,isAllRowChecked:O,onChangeCheckbox:function(e,t){C.value=e?a.singleSelect?[t]:[...C.value,t]:C.value.filter(e=>!compare(i.toRaw(e),i.toRaw(t)))},isSelected:isSelected,onSort:function(t){if(v.value.column===t.key){const a=t.direction&&"asc"!==t.direction?"asc":"desc";v.value.direction===a?v.value=e({},h,{column:null,direction:"asc"}):v.value={column:v.value.column,direction:"asc"===v.value.direction?"desc":"asc"}}else v.value={column:t.key,direction:t.direction||"asc"}},onSelect:function(e){const t=(void 0).getSelection();t&&t.toString().length>0||s.onSelect&&s.onSelect(e)},onContextmenu:function(e,t){s.onContextmenu&&s.onContextmenu(e,t)},onChange:function(e){e?function(){const e=[...C.value];a.rows.forEach(t=>{isSelected(t)||e.push(t)}),C.value=e}():C.value=[],l("select:all",e)},getRowData:function(e,t,a=""){return x(e,t,a)},toggleOpened:function(e){f.value={openedRows:isExpanded(e)?f.value.openedRows.filter(t=>!compare(t,e)):a.multipleExpand?[...f.value.openedRows,e]:[e],row:e}},getAriaSort:function(e){if(e.sortable)return v.value.column!==e.key?"none":"asc"===v.value.direction?"ascending":"desc"===v.value.direction?"descending":void 0},isExpanded:isExpanded}}});const To=Po.setup;Po.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/data/Table.vue"),To?To(e,t):void 0};const Eo=v(Po,[["ssrRender",function(e,t,a,l,s,u,v,f){const h=Le,b=d,y=Vo,x=p;t(`<div${Ye(i.mergeProps({class:e.ui.wrapper},e.attrs,l))}><table class="${tt([e.ui.base,e.ui.divide])}">`),e.$slots.caption||e.caption?et(e.$slots,"caption",{},()=>{t(`<caption class="${tt(e.ui.caption)}">${Xe(e.caption)}</caption>`)},t,a):t("\x3c!----\x3e"),t(`<thead class="${tt(e.ui.thead)}"><tr class="${tt(e.ui.tr.base)}">`),e.expand?t(`<th scope="col" class="${tt(e.ui.tr.base)}"><span class="sr-only">Expand</span></th>`):t("\x3c!----\x3e"),t("\x3c!--[--\x3e"),Ze(e.columns,(l,s)=>{t(`<th scope="col" class="${tt([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,"select"===l.key&&e.ui.checkbox.padding,l.class])}"${at("aria-sort",e.getAriaSort(l))}>`),!e.singleSelect&&e.modelValue&&"select"===l.key?et(e.$slots,"select-header",{indeterminate:e.indeterminate,checked:e.isAllRowChecked,change:e.onChange},()=>{t(Je(h,i.mergeProps({"model-value":e.isAllRowChecked,indeterminate:e.indeterminate},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select all",onChange:e.onChange}),null,a))},t,a):et(e.$slots,`${l.key}-header`,{column:l,sort:e.sort,onSort:e.onSort},()=>{l.sortable?t(Je(b,i.mergeProps({ref_for:!0},{...e.ui.default.sortButton||{},...e.sortButton},{icon:e.sort.column&&e.sort.column===l.key?"asc"===e.sort.direction?e.sortAscIcon:e.sortDescIcon:e.sortButton.icon||e.ui.default.sortButton.icon,label:l[e.columnAttribute],onClick:t=>e.onSort(l)}),null,a)):t(`<span>${Xe(l[e.columnAttribute])}</span>`)},t,a),t("</th>")}),t("\x3c!--]--\x3e</tr>"),e.loading&&e.progress?(t(`<tr><td${at("colspan",0)} class="${tt(e.ui.progress.wrapper)}">`),t(Je(y,i.mergeProps({...e.ui.default.progress||{},...e.progress},{size:"2xs"}),null,a)),t("</td></tr>")):t("\x3c!----\x3e"),t(`</thead><tbody class="${tt(e.ui.tbody)}">`),e.loadingState&&e.loading&&!e.rows.length?(t(`<tr><td${at("colspan",e.columns.length+(e.modelValue?1:0)+(e.expand?1:0))}>`),et(e.$slots,"loading-state",{},()=>{t(`<div class="${tt(e.ui.loadingState.wrapper)}">`),e.loadingState.icon?t(Je(x,{name:e.loadingState.icon,class:e.ui.loadingState.icon,"aria-hidden":"true"},null,a)):t("\x3c!----\x3e"),t(`<p class="${tt(e.ui.loadingState.label)}">${Xe(e.loadingState.label)}</p></div>`)},t,a),t("</td></tr>")):e.emptyState&&!e.rows.length?(t(`<tr><td${at("colspan",e.columns.length+(e.modelValue?1:0)+(e.expand?1:0))}>`),et(e.$slots,"empty-state",{},()=>{t(`<div class="${tt(e.ui.emptyState.wrapper)}">`),e.emptyState.icon?t(Je(x,{name:e.emptyState.icon,class:e.ui.emptyState.icon,"aria-hidden":"true"},null,a)):t("\x3c!----\x3e"),t(`<p class="${tt(e.ui.emptyState.label)}">${Xe(e.emptyState.label)}</p></div>`)},t,a),t("</td></tr>")):(t("\x3c!--[--\x3e"),Ze(e.rows,(l,s)=>{t(`\x3c!--[--\x3e<tr class="${tt([e.ui.tr.base,e.isSelected(l)&&e.ui.tr.selected,e.isExpanded(l)&&e.ui.tr.expanded,e.$attrs.onSelect&&e.ui.tr.active,null==l?void 0:l.class])}">`),e.expand?(t(`<td class="${tt([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])}">`),e.$slots["expand-action"]?et(e.$slots,"expand-action",{row:l,isExpanded:e.isExpanded(l),toggle:()=>e.toggleOpened(l)},null,t,a):t(Je(b,i.mergeProps({disabled:l.disabledExpand},{ref_for:!0},{...e.ui.default.expandButton||{},...e.expandButton},{ui:{icon:{base:[e.ui.expand.icon,e.isExpanded(l)&&"rotate-180"].join(" ")}},onClick:t=>e.toggleOpened(l)}),null,a)),t("</td>")):t("\x3c!----\x3e"),t("\x3c!--[--\x3e"),Ze(e.columns,(u,d)=>{var p;t(`<td class="${tt([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size,null==u?void 0:u.rowClass,null==(p=l[u.key])?void 0:p.class,"select"===u.key&&e.ui.checkbox.padding])}">`),e.modelValue&&"select"===u.key?(t("<span>"),et(e.$slots,"select-data",{checked:e.isSelected(l),change:t=>e.onChangeCheckbox(t,l)},()=>{t(Je(h,i.mergeProps({"model-value":e.isSelected(l)},{ref_for:!0},e.ui.default.checkbox,{"aria-label":"Select row",onChange:t=>e.onChangeCheckbox(t,l)}),null,a))},t,a),t("</span>")):et(e.$slots,`${u.key}-data`,{column:u,row:l,index:s,getRowData:t=>e.getRowData(l,u.key,t)},()=>{t(`${Xe(e.getRowData(l,u.key))}`)},t,a),t("</td>")}),t("\x3c!--]--\x3e</tr>"),e.isExpanded(l)?(t('<tr><td colspan="100%">'),et(e.$slots,"expand",{row:l,index:s},null,t,a),t("</td></tr>")):t("\x3c!----\x3e"),t("\x3c!--]--\x3e")}),t("\x3c!--]--\x3e")),t("</tbody></table></div>")}]]),Ao=h(O.ui.strategy,O.ui.modal,{wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}}),Do=i.defineComponent({components:{HDialog:Wt,HDialogPanel:Kt,TransitionRoot:ho,TransitionChild:mo},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:t}){const{ui:a,attrs:l}=b("modal",i.toRef(e,"ui"),Ao,i.toRef(e,"class")),s=i.computed({get:()=>e.modelValue,set(e){t("update:modelValue",e)}}),u=i.computed(()=>e.transition?{...a.value.transition}:{});return we(()=>i.useId()),{ui:a,attrs:l,isOpen:s,transitionClass:u,onAfterLeave:()=>{t("after-leave")},close:function(a){e.preventClose?t("close-prevented"):(s.value=a,t("close"))}}}});const _o=Do.setup;Do.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/overlays/Modal.vue"),_o?_o(e,t):void 0};const Fo=v(Do,[["ssrRender",function(e,t,a,l,s,u,d,p){const v=i.resolveComponent("TransitionRoot"),f=i.resolveComponent("HDialog"),h=i.resolveComponent("TransitionChild"),b=i.resolveComponent("HDialogPanel");t(Je(v,i.mergeProps({appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},l),{default:i.withCtx((t,a,l,s)=>{if(!a)return[i.createVNode(f,i.mergeProps({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:i.withCtx(()=>[e.overlay?(i.openBlock(),i.createBlock(h,i.mergeProps({key:0,as:"template",appear:e.appear},e.ui.overlay.transition,{class:e.ui.overlay.transition.enterFrom}),{default:i.withCtx(()=>[i.createVNode("div",{class:[e.ui.overlay.base,e.ui.overlay.background]},null,2)]),_:1},16,["appear","class"])):i.createCommentVNode("",!0),i.createVNode("div",{class:e.ui.inner},[i.createVNode("div",{class:[e.ui.container,!e.fullscreen&&e.ui.padding]},[i.createVNode(h,i.mergeProps({as:"template",appear:e.appear},e.transitionClass,{class:e.transitionClass.enterFrom}),{default:i.withCtx(()=>[i.createVNode(b,{class:[e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]]},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear","class"])],2)],2)]),_:3},16,["class","onClose"])];a(Je(f,i.mergeProps({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:i.withCtx((t,a,l,s)=>{if(!a)return[e.overlay?(i.openBlock(),i.createBlock(h,i.mergeProps({key:0,as:"template",appear:e.appear},e.ui.overlay.transition,{class:e.ui.overlay.transition.enterFrom}),{default:i.withCtx(()=>[i.createVNode("div",{class:[e.ui.overlay.base,e.ui.overlay.background]},null,2)]),_:1},16,["appear","class"])):i.createCommentVNode("",!0),i.createVNode("div",{class:e.ui.inner},[i.createVNode("div",{class:[e.ui.container,!e.fullscreen&&e.ui.padding]},[i.createVNode(h,i.mergeProps({as:"template",appear:e.appear},e.transitionClass,{class:e.transitionClass.enterFrom}),{default:i.withCtx(()=>[i.createVNode(b,{class:[e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]]},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear","class"])],2)],2)];e.overlay?a(Je(h,i.mergeProps({as:"template",appear:e.appear},e.ui.overlay.transition,{class:e.ui.overlay.transition.enterFrom}),{default:i.withCtx((t,a,l,s)=>{if(!a)return[i.createVNode("div",{class:[e.ui.overlay.base,e.ui.overlay.background]},null,2)];a(`<div class="${tt([e.ui.overlay.base,e.ui.overlay.background])}"${s}></div>`)}),_:1},l,s)):a("\x3c!----\x3e"),a(`<div class="${tt(e.ui.inner)}"${s}><div class="${tt([e.ui.container,!e.fullscreen&&e.ui.padding])}"${s}>`),a(Je(h,i.mergeProps({as:"template",appear:e.appear},e.transitionClass,{class:e.transitionClass.enterFrom}),{default:i.withCtx((t,a,l,s)=>{if(!a)return[i.createVNode(b,{class:[e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]]},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default")]),_:3},8,["class"])];a(Je(b,{class:[e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]]},{default:i.withCtx((t,a,l,s)=>{if(!a)return[i.renderSlot(e.$slots,"default")];et(e.$slots,"default",{},null,a,l,s)}),_:3},l,s))}),_:3},l,s)),a("</div></div>")}),_:3},l,s))}),_:3},a))}]]),zo=h(O.ui.strategy,O.ui.select,P),jo=h(O.ui.strategy,O.ui.selectMenu,_),Lo=i.defineComponent({components:{HCombobox:wt,HComboboxButton:Ct,HComboboxOptions:kt,HComboboxOption:Vt,HComboboxInput:St,HListbox:Xt,HListboxButton:Zt,HListboxOptions:eo,HListboxOption:to,UIcon:p,UAvatar:w},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array,Boolean],default:""},query:{type:String,default:null},by:{type:String,default:void 0},options:{type:Array,default:()=>[]},id:{type:String,default:null},name:{type:String,default:null},required:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>zo.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>zo.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},selectedIcon:{type:String,default:()=>jo.default.selectedIcon},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},searchable:{type:[Boolean,Function],default:!1},searchablePlaceholder:{type:String,default:()=>jo.default.searchablePlaceholder.label},searchableLazy:{type:Boolean,default:!1},clearSearchOnClose:{type:Boolean,default:()=>jo.default.clearSearchOnClose},debounce:{type:Number,default:200},creatable:{type:Boolean,default:!1},showCreateOptionWhen:{type:[String,Function],default:()=>jo.default.showCreateOptionWhen},placeholder:{type:String,default:null},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator:e=>Object.keys(zo.size).includes(e)},color:{type:String,default:()=>zo.default.color,validator:e=>[...O.ui.colors,...Object.keys(zo.color)].includes(e)},variant:{type:String,default:()=>zo.default.variant,validator:e=>[...Object.keys(zo.variant),...Object.values(zo.color).flatMap(e=>Object.keys(e))].includes(e)},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:null},searchAttributes:{type:Array,default:null},inputTargetForm:{type:String,default:null},popper:{type:Object,default:()=>({})},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiMenu:{type:Object,default:()=>({})}},emits:["update:modelValue","update:query","open","close","change"],setup(t,{emit:l,slots:s}){const{ui:u,attrs:d}=b("select",i.toRef(t,"ui"),zo,i.toRef(t,"class")),{ui:p}=b("selectMenu",i.toRef(t,"uiMenu"),jo),v=i.computed(()=>e({},t.popper,p.value.popper)),[f,h]=j(v.value),y=i.computed(()=>{if(!t.by)return;if("function"==typeof t.by)return t.by;const e=t.by;return e.indexOf(".")>0?(t,a)=>accessor2(t,e)===accessor2(a,e):e}),{size:w,rounded:N}=C({ui:u,props:t}),{emitFormBlur:R,emitFormChange:P,inputId:_,color:z,size:H,name:W}=xe(t,zo),G=i.computed(()=>{var e;return null!=(e=w.value)?e:H.value}),Y=i.ref(""),J=i.computed({get(){var e;return null!=(e=t.query)?e:Y.value},set(e){Y.value=e,l("update:query",e)}}),X=i.computed(()=>{var e;function compareValues(e,t){return y.value&&"function"!=typeof y.value&&isObject(e)&&isObject(t)?a(e[y.value],t[y.value]):a(e,t)}function getValue(e){return t.valueAttribute?accessor2(e,t.valueAttribute):e}if(t.multiple){const e=t.modelValue;return Array.isArray(e)&&e.length?ce.value.filter(t=>{const a=getValue(t);return e.some(e=>compareValues(e,a))}):[]}return null!=(e=ce.value.find(e=>compareValues(getValue(e),i.toRaw(t.modelValue))))?e:t.modelValue}),Z=i.computed(()=>t.modelValue?Array.isArray(t.modelValue)&&t.modelValue.length?`${t.modelValue.length} selected`:["string","number"].includes(typeof t.modelValue)?t.valueAttribute?accessor2(X.value,t.optionAttribute):t.modelValue:accessor2(t.modelValue,t.optionAttribute):null),ee=i.computed(()=>{var e,a;const l=(null==(a=null==(e=u.value.color)?void 0:e[z.value])?void 0:a[t.variant])||u.value.variant[t.variant];return k(V(u.value.base,p.value.select,N.value,u.value.size[G.value],u.value.gap[G.value],t.padded?u.value.padding[G.value]:"p-0",null==l?void 0:l.replaceAll("{color}",z.value),(te.value||s.leading)&&u.value.leading.padding[G.value],(oe.value||s.trailing)&&u.value.trailing.padding[G.value]),t.placeholder&&(!t.modelValue||Array.isArray(t.modelValue)&&!t.modelValue.length)&&u.value.placeholder,t.selectClass)}),te=i.computed(()=>t.icon&&t.leading||t.icon&&!t.trailing||t.loading&&!t.trailing||t.leadingIcon),oe=i.computed(()=>t.icon&&t.trailing||t.loading&&t.trailing||t.trailingIcon),le=i.computed(()=>t.loading?t.loadingIcon:t.leadingIcon||t.icon),ne=i.computed(()=>t.loading&&!te.value?t.loadingIcon:t.trailingIcon||t.icon),ie=i.computed(()=>V(u.value.icon.leading.wrapper,u.value.icon.leading.pointer,u.value.icon.leading.padding[G.value])),re=i.computed(()=>V(u.value.icon.base,z.value&&O.ui.colors.includes(z.value)&&u.value.icon.color.replaceAll("{color}",z.value),u.value.icon.size[G.value],t.loading&&u.value.icon.loading)),se=i.computed(()=>V(u.value.icon.trailing.wrapper,u.value.icon.trailing.pointer,u.value.icon.trailing.padding[G.value])),ue=i.computed(()=>V(u.value.icon.base,z.value&&O.ui.colors.includes(z.value)&&u.value.icon.color.replaceAll("{color}",z.value),u.value.icon.size[G.value],t.loading&&!te.value&&u.value.icon.loading)),de=t.searchable&&"function"==typeof t.searchable?$(t.searchable,t.debounce):void 0,ce=S(async()=>de?await de(J.value):t.options||[],[],{lazy:t.searchableLazy});function accessor2(e,t){return x(e,t)}function isObject(e){return!Array.isArray(e)&&null!==e&&"object"==typeof e}const pe=i.computed(()=>{if(!J.value||de)return ce.value;const e=J.value.replace(/[.*+?^${}()|[\]\\]/g,e=>`\\${e}`);return ce.value.filter(a=>{var l;return((null==(l=t.searchAttributes)?void 0:l.length)?t.searchAttributes:[t.optionAttribute]).some(t=>{if(["string","number"].includes(typeof a))return-1!==String(a).search(new RegExp(e,"i"));const l=x(a,t);return null!=l&&-1!==String(l).search(new RegExp(e,"i"))})})}),ve=i.computed(()=>{if(""===J.value)return null;if("empty"===t.showCreateOptionWhen&&pe.value.length)return null;if("always"===t.showCreateOptionWhen){if(pe.value.find(e=>["string","number"].includes(typeof e)?e===J.value:accessor2(e,t.optionAttribute)===J.value))return null}return"function"!=typeof t.showCreateOptionWhen||t.showCreateOptionWhen(J.value,pe.value)?["string","number"].includes(typeof t.modelValue)?J.value:{[t.optionAttribute]:J.value}:null});return i.watch(h,e=>{e?l("open"):(t.clearSearchOnClose&&(J.value=""),l("close"),R())}),we(()=>i.useId()),{ui:u,uiMenu:p,attrs:d,name:W,inputId:_,popper:v,trigger:f,container:h,selected:X,label:Z,accessor:accessor2,isLeading:te,isTrailing:oe,selectClass:ee,leadingIconName:le,leadingIconClass:re,leadingWrapperIconClass:ie,trailingIconName:ne,trailingIconClass:ue,trailingWrapperIconClass:se,filteredOptions:pe,createOption:ve,query:J,onUpdate:function(e){i.toRaw(t.modelValue)!==e&&(l("update:modelValue",e),l("change",e),P())},onQueryChange:function(e){J.value=e.target.value},by:y}}});const Uo=Lo.setup;Lo.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/forms/SelectMenu.vue"),Uo?Uo(e,t):void 0};const qo=v(Lo,[["ssrRender",function(e,t,a,l,s,u,d,v){const f=p,h=i.resolveComponent("HComboboxInput"),b=w;lt(t,i.createVNode(i.resolveDynamicComponent(e.searchable?"HCombobox":"HListbox"),i.mergeProps({by:e.by,name:e.name,"model-value":e.multiple?Array.isArray(e.modelValue)?e.modelValue:[]:e.modelValue,multiple:e.multiple,disabled:e.disabled,as:"div",class:e.ui.wrapper,"onUpdate:modelValue":e.onUpdate},l),{default:i.withCtx(({open:t},a,l,s)=>{if(!a)return[e.required?(i.openBlock(),i.createBlock("input",{key:0,value:e.modelValue,required:e.required,class:e.uiMenu.required,form:e.inputTargetForm,tabindex:"-1","aria-hidden":"true"},null,10,["value","required","form"])):i.createCommentVNode("",!0),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:e.uiMenu.trigger},{default:i.withCtx(()=>[i.renderSlot(e.$slots,"default",{open:t,disabled:e.disabled,loading:e.loading},()=>[i.createVNode("button",i.mergeProps({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(i.openBlock(),i.createBlock("span",{key:0,class:e.leadingWrapperIconClass},[i.renderSlot(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[i.createVNode(f,{name:e.leadingIconName,class:e.leadingIconClass},null,8,["name","class"])])],2)):i.createCommentVNode("",!0),i.renderSlot(e.$slots,"label",{selected:e.selected},()=>[e.label?(i.openBlock(),i.createBlock("span",{key:0,class:e.uiMenu.label},i.toDisplayString(e.label),3)):(i.openBlock(),i.createBlock("span",{key:1,class:e.uiMenu.label},i.toDisplayString(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(i.openBlock(),i.createBlock("span",{key:1,class:e.trailingWrapperIconClass},[i.renderSlot(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[i.createVNode(f,{name:e.trailingIconName,class:e.trailingIconClass,"aria-hidden":"true"},null,8,["name","class"])])],2)):i.createCommentVNode("",!0)],16,["id","disabled"])])]),_:2},1032,["class"])),t?(i.openBlock(),i.createBlock("div",{key:1,ref:"container",class:[e.uiMenu.container,e.uiMenu.width]},[i.createVNode(i.Transition,i.mergeProps({appear:""},e.uiMenu.transition),{default:i.withCtx(()=>[i.createVNode("div",null,[e.popper.arrow?(i.openBlock(),i.createBlock("div",{key:0,"data-popper-arrow":"",class:Object.values(e.uiMenu.arrow)},null,2)):i.createCommentVNode("",!0),(i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:[e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height]},{default:i.withCtx(()=>{var t,a;return[e.searchable?(i.openBlock(),i.createBlock(h,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:e.uiMenu.input,onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):i.createCommentVNode("",!0),(i.openBlock(!0),i.createBlock(i.Fragment,null,i.renderList(e.filteredOptions,(t,a)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.searchable?"HComboboxOption":"HListboxOption"),{key:a,as:"template",value:e.valueAttribute?e.accessor(t,e.valueAttribute):t,disabled:t.disabled},{default:i.withCtx(({active:a,selected:l,disabled:s})=>[i.createVNode("li",{class:[e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,a?e.uiMenu.option.active:e.uiMenu.option.inactive,l&&e.uiMenu.option.selected,s&&e.uiMenu.option.disabled]},[i.createVNode("div",{class:e.uiMenu.option.container},[i.renderSlot(e.$slots,"option",{option:t,active:a,selected:l},()=>[t.icon?(i.openBlock(),i.createBlock(f,{key:0,name:t.icon,class:[e.uiMenu.option.icon.base,a?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,t.iconClass],"aria-hidden":"true"},null,8,["name","class"])):t.avatar?(i.openBlock(),i.createBlock(b,i.mergeProps({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...t.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):t.chip?(i.openBlock(),i.createBlock("span",{key:2,class:e.uiMenu.option.chip.base,style:{background:`#${t.chip}`}},null,6)):i.createCommentVNode("",!0),i.createVNode("span",{class:"truncate"},i.toDisplayString(["string","number"].includes(typeof t)?t:e.accessor(t,e.optionAttribute)),1)])],2),l?(i.openBlock(),i.createBlock("span",{key:0,class:[e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding]},[i.createVNode(f,{name:e.selectedIcon,class:e.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,8,["name","class"])],2)):i.createCommentVNode("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:i.withCtx(({active:t,selected:a})=>[i.createVNode("li",{class:[e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,t?e.uiMenu.option.active:e.uiMenu.option.inactive]},[i.createVNode("div",{class:e.uiMenu.option.container},[i.renderSlot(e.$slots,"option-create",{option:e.createOption,active:t,selected:a},()=>[i.createVNode("span",{class:e.uiMenu.option.create},'Create "'+i.toDisplayString("string"==typeof e.createOption?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!(null==(t=e.filteredOptions)?void 0:t.length)?(i.openBlock(),i.createBlock("p",{key:2,class:e.uiMenu.option.empty},[i.renderSlot(e.$slots,"option-empty",{query:e.query},()=>[i.createTextVNode(i.toDisplayString(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(null==(a=e.filteredOptions)?void 0:a.length)?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock("p",{key:3,class:e.uiMenu.empty},[i.renderSlot(e.$slots,"empty",{query:e.query},()=>[i.createTextVNode(i.toDisplayString(e.uiMenu.default.empty.label),1)])],2))]}),_:3},8,["class"]))])]),_:3},16)],2)):i.createCommentVNode("",!0)];e.required?a(`<input${at("value",e.modelValue)}${it(e.required)?" required":""} class="${tt(e.uiMenu.required)}"${at("form",e.inputTargetForm)} tabindex="-1" aria-hidden="true"${s}>`):a("\x3c!----\x3e"),lt(a,i.createVNode(i.resolveDynamicComponent(e.searchable?"HComboboxButton":"HListboxButton"),{ref:"trigger",as:"div",role:"button",class:e.uiMenu.trigger},{default:i.withCtx((a,l,s,u)=>{if(!l)return[i.renderSlot(e.$slots,"default",{open:t,disabled:e.disabled,loading:e.loading},()=>[i.createVNode("button",i.mergeProps({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs),[e.isLeading&&e.leadingIconName||e.$slots.leading?(i.openBlock(),i.createBlock("span",{key:0,class:e.leadingWrapperIconClass},[i.renderSlot(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[i.createVNode(f,{name:e.leadingIconName,class:e.leadingIconClass},null,8,["name","class"])])],2)):i.createCommentVNode("",!0),i.renderSlot(e.$slots,"label",{selected:e.selected},()=>[e.label?(i.openBlock(),i.createBlock("span",{key:0,class:e.uiMenu.label},i.toDisplayString(e.label),3)):(i.openBlock(),i.createBlock("span",{key:1,class:e.uiMenu.label},i.toDisplayString(e.placeholder||"Â "),3))]),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(i.openBlock(),i.createBlock("span",{key:1,class:e.trailingWrapperIconClass},[i.renderSlot(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>[i.createVNode(f,{name:e.trailingIconName,class:e.trailingIconClass,"aria-hidden":"true"},null,8,["name","class"])])],2)):i.createCommentVNode("",!0)],16,["id","disabled"])])];et(e.$slots,"default",{open:t,disabled:e.disabled,loading:e.loading},()=>{l(`<button${Ye(i.mergeProps({id:e.inputId,class:e.selectClass,disabled:e.disabled,type:"button"},e.attrs))}${u}>`),e.isLeading&&e.leadingIconName||e.$slots.leading?(l(`<span class="${tt(e.leadingWrapperIconClass)}"${u}>`),et(e.$slots,"leading",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>{l(Je(f,{name:e.leadingIconName,class:e.leadingIconClass},null,s,u))},l,s,u),l("</span>")):l("\x3c!----\x3e"),et(e.$slots,"label",{selected:e.selected},()=>{e.label?l(`<span class="${tt(e.uiMenu.label)}"${u}>${Xe(e.label)}</span>`):l(`<span class="${tt(e.uiMenu.label)}"${u}>${Xe(e.placeholder||"Â ")}</span>`)},l,s,u),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(l(`<span class="${tt(e.trailingWrapperIconClass)}"${u}>`),et(e.$slots,"trailing",{selected:e.selected,disabled:e.disabled,loading:e.loading},()=>{l(Je(f,{name:e.trailingIconName,class:e.trailingIconClass,"aria-hidden":"true"},null,s,u))},l,s,u),l("</span>")):l("\x3c!----\x3e"),l("</button>")},l,s,u)}),_:2}),l,s),t?(a(`<div class="${tt([e.uiMenu.container,e.uiMenu.width])}"${s}><template><div${s}>`),e.popper.arrow?a(`<div data-popper-arrow class="${tt(Object.values(e.uiMenu.arrow))}"${s}></div>`):a("\x3c!----\x3e"),lt(a,i.createVNode(i.resolveDynamicComponent(e.searchable?"HComboboxOptions":"HListboxOptions"),{static:"",class:[e.uiMenu.base,e.uiMenu.ring,e.uiMenu.rounded,e.uiMenu.shadow,e.uiMenu.background,e.uiMenu.padding,e.uiMenu.height]},{default:i.withCtx((t,a,l,s)=>{var u,d,p,v;if(!a)return[e.searchable?(i.openBlock(),i.createBlock(h,{key:0,"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:e.uiMenu.input,onChange:e.onQueryChange},null,8,["display-value","placeholder","class","onChange"])):i.createCommentVNode("",!0),(i.openBlock(!0),i.createBlock(i.Fragment,null,i.renderList(e.filteredOptions,(t,a)=>(i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.searchable?"HComboboxOption":"HListboxOption"),{key:a,as:"template",value:e.valueAttribute?e.accessor(t,e.valueAttribute):t,disabled:t.disabled},{default:i.withCtx(({active:a,selected:l,disabled:s})=>[i.createVNode("li",{class:[e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,a?e.uiMenu.option.active:e.uiMenu.option.inactive,l&&e.uiMenu.option.selected,s&&e.uiMenu.option.disabled]},[i.createVNode("div",{class:e.uiMenu.option.container},[i.renderSlot(e.$slots,"option",{option:t,active:a,selected:l},()=>[t.icon?(i.openBlock(),i.createBlock(f,{key:0,name:t.icon,class:[e.uiMenu.option.icon.base,a?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,t.iconClass],"aria-hidden":"true"},null,8,["name","class"])):t.avatar?(i.openBlock(),i.createBlock(b,i.mergeProps({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...t.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):t.chip?(i.openBlock(),i.createBlock("span",{key:2,class:e.uiMenu.option.chip.base,style:{background:`#${t.chip}`}},null,6)):i.createCommentVNode("",!0),i.createVNode("span",{class:"truncate"},i.toDisplayString(["string","number"].includes(typeof t)?t:e.accessor(t,e.optionAttribute)),1)])],2),l?(i.openBlock(),i.createBlock("span",{key:0,class:[e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding]},[i.createVNode(f,{name:e.selectedIcon,class:e.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,8,["name","class"])],2)):i.createCommentVNode("",!0)],2)]),_:2},1032,["value","disabled"]))),128)),e.creatable&&e.createOption?(i.openBlock(),i.createBlock(i.resolveDynamicComponent(e.searchable?"HComboboxOption":"HListboxOption"),{key:1,value:e.createOption,as:"template"},{default:i.withCtx(({active:t,selected:a})=>[i.createVNode("li",{class:[e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,t?e.uiMenu.option.active:e.uiMenu.option.inactive]},[i.createVNode("div",{class:e.uiMenu.option.container},[i.renderSlot(e.$slots,"option-create",{option:e.createOption,active:t,selected:a},()=>[i.createVNode("span",{class:e.uiMenu.option.create},'Create "'+i.toDisplayString("string"==typeof e.createOption?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)]),_:3},8,["value"])):e.searchable&&e.query&&!(null==(p=e.filteredOptions)?void 0:p.length)?(i.openBlock(),i.createBlock("p",{key:2,class:e.uiMenu.option.empty},[i.renderSlot(e.$slots,"option-empty",{query:e.query},()=>[i.createTextVNode(i.toDisplayString(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query)),1)])],2)):(null==(v=e.filteredOptions)?void 0:v.length)?i.createCommentVNode("",!0):(i.openBlock(),i.createBlock("p",{key:3,class:e.uiMenu.empty},[i.renderSlot(e.$slots,"empty",{query:e.query},()=>[i.createTextVNode(i.toDisplayString(e.uiMenu.default.empty.label),1)])],2))];e.searchable?a(Je(h,{"display-value":()=>e.query,name:"q",placeholder:e.searchablePlaceholder,autofocus:"",autocomplete:"off",class:e.uiMenu.input,onChange:e.onQueryChange},null,l,s)):a("\x3c!----\x3e"),a("\x3c!--[--\x3e"),Ze(e.filteredOptions,(t,u)=>{lt(a,i.createVNode(i.resolveDynamicComponent(e.searchable?"HComboboxOption":"HListboxOption"),{key:u,as:"template",value:e.valueAttribute?e.accessor(t,e.valueAttribute):t,disabled:t.disabled},{default:i.withCtx(({active:a,selected:l,disabled:s},u,d,p)=>{if(!u)return[i.createVNode("li",{class:[e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,a?e.uiMenu.option.active:e.uiMenu.option.inactive,l&&e.uiMenu.option.selected,s&&e.uiMenu.option.disabled]},[i.createVNode("div",{class:e.uiMenu.option.container},[i.renderSlot(e.$slots,"option",{option:t,active:a,selected:l},()=>[t.icon?(i.openBlock(),i.createBlock(f,{key:0,name:t.icon,class:[e.uiMenu.option.icon.base,a?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,t.iconClass],"aria-hidden":"true"},null,8,["name","class"])):t.avatar?(i.openBlock(),i.createBlock(b,i.mergeProps({key:1,ref_for:!0},{size:e.uiMenu.option.avatar.size,...t.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,16,["class"])):t.chip?(i.openBlock(),i.createBlock("span",{key:2,class:e.uiMenu.option.chip.base,style:{background:`#${t.chip}`}},null,6)):i.createCommentVNode("",!0),i.createVNode("span",{class:"truncate"},i.toDisplayString(["string","number"].includes(typeof t)?t:e.accessor(t,e.optionAttribute)),1)])],2),l?(i.openBlock(),i.createBlock("span",{key:0,class:[e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding]},[i.createVNode(f,{name:e.selectedIcon,class:e.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,8,["name","class"])],2)):i.createCommentVNode("",!0)],2)];u(`<li class="${tt([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,a?e.uiMenu.option.active:e.uiMenu.option.inactive,l&&e.uiMenu.option.selected,s&&e.uiMenu.option.disabled])}"${p}><div class="${tt(e.uiMenu.option.container)}"${p}>`),et(e.$slots,"option",{option:t,active:a,selected:l},()=>{t.icon?u(Je(f,{name:t.icon,class:[e.uiMenu.option.icon.base,a?e.uiMenu.option.icon.active:e.uiMenu.option.icon.inactive,t.iconClass],"aria-hidden":"true"},null,d,p)):t.avatar?u(Je(b,i.mergeProps({ref_for:!0},{size:e.uiMenu.option.avatar.size,...t.avatar},{class:e.uiMenu.option.avatar.base,"aria-hidden":"true"}),null,d,p)):t.chip?u(`<span class="${tt(e.uiMenu.option.chip.base)}" style="${ot({background:`#${t.chip}`})}"${p}></span>`):u("\x3c!----\x3e"),u(`<span class="truncate"${p}>${Xe(["string","number"].includes(typeof t)?t:e.accessor(t,e.optionAttribute))}</span>`)},u,d,p),u("</div>"),l?(u(`<span class="${tt([e.uiMenu.option.selectedIcon.wrapper,e.uiMenu.option.selectedIcon.padding])}"${p}>`),u(Je(f,{name:e.selectedIcon,class:e.uiMenu.option.selectedIcon.base,"aria-hidden":"true"},null,d,p)),u("</span>")):u("\x3c!----\x3e"),u("</li>")}),_:2}),l,s)}),a("\x3c!--]--\x3e"),e.creatable&&e.createOption?lt(a,i.createVNode(i.resolveDynamicComponent(e.searchable?"HComboboxOption":"HListboxOption"),{value:e.createOption,as:"template"},{default:i.withCtx(({active:t,selected:a},l,s,u)=>{if(!l)return[i.createVNode("li",{class:[e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,t?e.uiMenu.option.active:e.uiMenu.option.inactive]},[i.createVNode("div",{class:e.uiMenu.option.container},[i.renderSlot(e.$slots,"option-create",{option:e.createOption,active:t,selected:a},()=>[i.createVNode("span",{class:e.uiMenu.option.create},'Create "'+i.toDisplayString("string"==typeof e.createOption?e.createOption:e.accessor(e.createOption,e.optionAttribute))+'"',3)])],2)],2)];l(`<li class="${tt([e.uiMenu.option.base,e.uiMenu.option.rounded,e.uiMenu.option.padding,e.uiMenu.option.size,e.uiMenu.option.color,t?e.uiMenu.option.active:e.uiMenu.option.inactive])}"${u}><div class="${tt(e.uiMenu.option.container)}"${u}>`),et(e.$slots,"option-create",{option:e.createOption,active:t,selected:a},()=>{l(`<span class="${tt(e.uiMenu.option.create)}"${u}>Create &quot;${Xe("string"==typeof e.createOption?e.createOption:e.accessor(e.createOption,e.optionAttribute))}&quot;</span>`)},l,s,u),l("</div></li>")}),_:2}),l,s):e.searchable&&e.query&&!(null==(u=e.filteredOptions)?void 0:u.length)?(a(`<p class="${tt(e.uiMenu.option.empty)}"${s}>`),et(e.$slots,"option-empty",{query:e.query},()=>{a(`${Xe(e.uiMenu.default.optionEmpty.label.replace("{query}",e.query))}`)},a,l,s),a("</p>")):(null==(d=e.filteredOptions)?void 0:d.length)?a("\x3c!----\x3e"):(a(`<p class="${tt(e.uiMenu.empty)}"${s}>`),et(e.$slots,"empty",{query:e.query},()=>{a(`${Xe(e.uiMenu.default.empty.label)}`)},a,l,s),a("</p>"))}),_:2}),l,s),a("</div></template></div>")):a("\x3c!----\x3e")}),_:3}),a)}]]),Ho=i.defineComponent({__name:"ItemForm",__ssrInlineRender:!0,props:{fields:{},initialData:{},loading:{type:Boolean}},emits:["save","cancel"],setup(e,{emit:t}){const a=e,l=i.reactive({});return i.watch(()=>a.fields,e=>{e.forEach(e=>{a.initialData&&void 0!==a.initialData[e.id]?l[e.id]=a.initialData[e.id]:"boolean"===e.type?l[e.id]=!1:"multiselect"===e.type?l[e.id]=[]:l[e.id]=null})},{immediate:!0,deep:!0}),(t,a,s,u)=>{const p=ye,v=be,f=_e,h=Re,b=Fe,y=qo,x=d;a(`<form${Ye(u)}><div class="space-y-4">\x3c!--[--\x3e`),Ze(e.fields,e=>{a("<div>"),a(Je(p,{label:e.name,name:e.id},{default:i.withCtx((t,a,s,u)=>{if(!a)return["text"===e.type?(i.openBlock(),i.createBlock(v,{key:0,modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,type:"text"},null,8,["modelValue","onUpdate:modelValue"])):i.createCommentVNode("",!0),"textarea"===e.type?(i.openBlock(),i.createBlock(f,{key:1,modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t},null,8,["modelValue","onUpdate:modelValue"])):i.createCommentVNode("",!0),"number"===e.type?(i.openBlock(),i.createBlock(v,{key:2,modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,modelModifiers:{number:!0},type:"number"},null,8,["modelValue","onUpdate:modelValue"])):i.createCommentVNode("",!0),"date"===e.type?(i.openBlock(),i.createBlock(v,{key:3,modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,type:"date"},null,8,["modelValue","onUpdate:modelValue"])):i.createCommentVNode("",!0),"boolean"===e.type?(i.openBlock(),i.createBlock(h,{key:4,modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t},null,8,["modelValue","onUpdate:modelValue"])):i.createCommentVNode("",!0),"select"===e.type?(i.openBlock(),i.createBlock(b,{key:5,modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,options:e.options||[]},null,8,["modelValue","onUpdate:modelValue","options"])):i.createCommentVNode("",!0),"multiselect"===e.type?(i.openBlock(),i.createBlock(y,{key:6,modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,options:e.options||[],multiple:""},null,8,["modelValue","onUpdate:modelValue","options"])):i.createCommentVNode("",!0)];"text"===e.type?a(Je(v,{modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,type:"text"},null,s,u)):a("\x3c!----\x3e"),"textarea"===e.type?a(Je(f,{modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t},null,s,u)):a("\x3c!----\x3e"),"number"===e.type?a(Je(v,{modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,modelModifiers:{number:!0},type:"number"},null,s,u)):a("\x3c!----\x3e"),"date"===e.type?a(Je(v,{modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,type:"date"},null,s,u)):a("\x3c!----\x3e"),"boolean"===e.type?a(Je(h,{modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t},null,s,u)):a("\x3c!----\x3e"),"select"===e.type?a(Je(b,{modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,options:e.options||[]},null,s,u)):a("\x3c!----\x3e"),"multiselect"===e.type?a(Je(y,{modelValue:i.unref(l)[e.id],"onUpdate:modelValue":t=>i.unref(l)[e.id]=t,options:e.options||[],multiple:""},null,s,u)):a("\x3c!----\x3e")}),_:2},s)),a("</div>")}),a('\x3c!--]--\x3e</div><div class="mt-6 flex justify-end gap-3">'),a(Je(x,{color:"gray",variant:"ghost",onClick:e=>t.$emit("cancel")},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Cancelar")];t("Cancelar")}),_:1},s)),a(Je(x,{type:"submit",loading:e.loading},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Salvar Item")];t("Salvar Item")}),_:1},s)),a("</div></form>")}}}),Wo=Ho.setup;Ho.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("components/ItemForm.vue"),Wo?Wo(e,t):void 0};const Ko=i.defineComponent({__name:"ImportWizard",__ssrInlineRender:!0,props:{collectionFields:{},collectionId:{}},emits:["close","refresh"],setup(e,{emit:t}){const a=e,l=t,s=i.ref(1);i.ref(null);const v=i.ref([]),f=i.ref([]),h=i.ref({}),b=i.computed(()=>0===f.value.length?{}:f.value[0]),processImport=async()=>{s.value=3;const e=nt(),t=u();try{const i=[],s=a.collectionFields.filter(e=>e.required).map(e=>e.id);let u=0;const d=[];f.value.forEach(e=>{let t=!0;for(const a of s){const l=e[h.value[a]];if(null==l||""===l){t=!1;break}}t?d.push(e):u++});const p=50,v=[];for(let e=0;e<d.length;e+=p)v.push(d.slice(e,e+p));for(const t of v){const{data:l,error:s}=await e.from("items").insert(t.map(()=>({collection_id:a.collectionId}))).select();if(s)throw s;l.forEach((e,a)=>{const l=t[a];Object.entries(h.value).forEach(([t,a])=>{const s=l[a];null!=s&&""!==s&&i.push({item_id:e.id,field_id:t,value:s})})})}if(i.length>0){const{error:t}=await e.from("item_values").insert(i);if(t)throw t}t.add({title:"Success",description:`Imported ${d.length} items. Skipped ${u} items due to missing required fields.`,color:"green",timeout:5e3}),l("refresh"),l("close")}catch(e){console.error(e),t.add({title:"Error",description:e.message,color:"red"}),s.value=2}};return(t,a,l,u)=>{const y=p,x=Fe,w=d;a(`<div${Ye(i.mergeProps({class:"space-y-4"},u))}>`),1===i.unref(s)?(a('<div><div class="border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg p-8 text-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition">'),a(Je(y,{name:"i-heroicons-document-arrow-up",class:"w-12 h-12 text-gray-400 mx-auto mb-2"},null,l)),a('<p class="text-gray-600 dark:text-gray-300">Clique para enviar arquivo .xlsx</p><input type="file" accept=".xlsx, .xls, .csv" class="hidden"></div></div>')):a("\x3c!----\x3e"),2===i.unref(s)?(a('<div><h3 class="font-bold mb-4">Mapear Colunas</h3><div class="space-y-3 max-h-96 overflow-y-auto">\x3c!--[--\x3e'),Ze(e.collectionFields,e=>{a(`<div class="grid grid-cols-2 gap-4 items-center"><div class="text-sm font-medium">${Xe(e.name)} `),e.required?a('<span class="text-red-500">*</span>'):a("\x3c!----\x3e"),a("</div>"),a(Je(x,{modelValue:i.unref(h)[e.id],"onUpdate:modelValue":t=>i.unref(h)[e.id]=t,options:i.unref(v),placeholder:"Selecione Coluna Excel"},null,l)),a("</div>")}),a(`\x3c!--]--\x3e</div><div class="mt-4"><h4 class="font-bold text-sm mb-2">PrÃ©-visualizaÃ§Ã£o (Primeira Linha)</h4><div class="bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs overflow-x-auto"><pre>${Xe(i.unref(b))}</pre></div></div></div>`)):a("\x3c!----\x3e"),3===i.unref(s)?(a('<div class="text-center py-8">'),a(Je(y,{name:"i-heroicons-arrow-path",class:"w-12 h-12 animate-spin text-primary-500 mx-auto mb-4"},null,l)),a(`<p>Processando ${Xe(i.unref(f).length)} itens...</p></div>`)):a("\x3c!----\x3e"),a('<div class="flex justify-end gap-3 mt-6">'),i.unref(s)>1&&i.unref(s)<3?a(Je(w,{color:"gray",variant:"ghost",onClick:e=>s.value=1},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Voltar")];t("Voltar")}),_:1},l)):a("\x3c!----\x3e"),2===i.unref(s)?a(Je(w,{onClick:processImport},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Importar Linhas")];t("Importar Linhas")}),_:1},l)):a("\x3c!----\x3e"),a("</div></div>")}}}),Go=Ko.setup;Ko.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("components/ImportWizard.vue"),Go?Go(e,t):void 0};const Qo=h(O.ui.strategy,O.ui.divider,{wrapper:{base:"flex items-center align-center text-center",horizontal:"w-full flex-row",vertical:"flex-col"},container:{base:"font-medium text-gray-700 dark:text-gray-200 flex",horizontal:"mx-3 whitespace-nowrap",vertical:"my-2"},border:{base:"flex border-gray-200 dark:border-gray-800",horizontal:"w-full",vertical:"h-full",size:{horizontal:{"2xs":"border-t",xs:"border-t-[2px]",sm:"border-t-[3px]",md:"border-t-[4px]",lg:"border-t-[5px]",xl:"border-t-[6px]"},vertical:{"2xs":"border-s",xs:"border-s-[2px]",sm:"border-s-[3px]",md:"border-s-[4px]",lg:"border-s-[5px]",xl:"border-s-[6px]"}},type:{solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}},icon:{base:"flex-shrink-0 w-5 h-5"},avatar:{base:"flex-shrink-0",size:"2xs"},label:"text-sm",default:{size:"2xs",type:"solid"}}),Yo=i.defineComponent({components:{UIcon:p,UAvatar:w},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},size:{type:String,default:()=>Qo.default.size,validator:e=>Object.keys(Qo.border.size.horizontal).includes(e)||Object.keys(Qo.border.size.vertical).includes(e)},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:()=>Qo.default.type,validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:t,attrs:a}=b("divider",i.toRef(e,"ui"),Qo),l=i.computed(()=>k(V(t.value.wrapper.base,t.value.wrapper[e.orientation]),e.class)),s=i.computed(()=>V(t.value.container.base,t.value.container[e.orientation])),u=i.computed(()=>V(t.value.border.base,t.value.border[e.orientation],t.value.border.size[e.orientation][e.size],t.value.border.type[e.type]));return{ui:t,attrs:a,wrapperClass:l,containerClass:s,borderClass:u}}});const Jo=Yo.setup;Yo.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/layout/Divider.vue"),Jo?Jo(e,t):void 0};const Xo=v(Yo,[["ssrRender",function(e,t,a,l,s,u,d,v){const f=p,h=w;t(`<div${Ye(i.mergeProps({class:e.wrapperClass},e.attrs,l))}><div class="${tt(e.borderClass)}"></div>`),e.label||e.icon||e.avatar||e.$slots.default?(t(`\x3c!--[--\x3e<div class="${tt(e.containerClass)}">`),et(e.$slots,"default",{},()=>{e.label?t(`<span class="${tt(e.ui.label)}">${Xe(e.label)}</span>`):e.icon?t(Je(f,{name:e.icon,class:e.ui.icon.base},null,a)):e.avatar?t(Je(h,i.mergeProps({size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,a)):t("\x3c!----\x3e")},t,a),t(`</div><div class="${tt(e.borderClass)}"></div>\x3c!--]--\x3e`)):t("\x3c!----\x3e"),t("</div>")}]]),Zo=i.defineComponent({__name:"CollectionSettingsModal",__ssrInlineRender:!0,props:{modelValue:{type:Boolean},collectionId:{}},emits:["update:modelValue","refresh"],setup(e,{emit:t}){const a=e,l=t,s=i.computed({get:()=>a.modelValue,set:e=>l("update:modelValue",e)}),p=nt(),v=u(),f=i.ref(!1),h=i.reactive({name:"",description:"",visibility:"private",fields:[]});i.watch(s,async e=>{if(e){f.value=!0;try{const{data:e,error:t}=await p.from("collections").select("*, fields (*)").eq("id",a.collectionId).single();if(t)throw t;h.name=e.name,h.description=e.description,h.visibility=e.visibility||"private",h.fields=(e.fields||[]).sort((e,t)=>e.folder_order-t.folder_order)}catch(e){v.add({title:"Erro ao carregar",description:e.message,color:"red"}),s.value=!1}finally{f.value=!1}}});const addField=()=>{h.fields.push({name:"",type:"text",options:[],visible:!0,required:!1,folder_order:h.fields.length})},removeField=async e=>{const t=h.fields[e];if(t.id){if(!confirm(`Excluir campo "${t.name}"? Todos os dados deste campo serÃ£o perdidos!`))return;try{const{error:e}=await p.from("fields").delete().eq("id",t.id);if(e)throw e;v.add({title:"Campo removido",color:"green"})}catch(e){return void v.add({title:"Erro",description:e.message,color:"red"})}}h.fields.splice(e,1)},saveChanges=async()=>{f.value=!0;try{const{error:e}=await p.from("collections").update({name:h.name,description:h.description,visibility:h.visibility}).eq("id",a.collectionId);if(e)throw e;const t=h.fields.map((e,t)=>({...e,collection_id:a.collectionId,folder_order:t,id:e.id||void 0}));if(t.length>0){const{error:e}=await p.from("fields").upsert(t);if(e)throw e}v.add({title:"Sucesso",description:"ConfiguraÃ§Ãµes atualizadas",color:"green"}),l("refresh"),s.value=!1}catch(e){v.add({title:"Erro ao salvar",description:e.message,color:"red"})}finally{f.value=!1}};return(t,a,l,u)=>{const p=he,v=d,b=ye,y=be,x=_e,w=Xo,C=ze,S=je;a(Je(Fo,i.mergeProps({modelValue:i.unref(s),"onUpdate:modelValue":e=>i.isRef(s)?s.value=e:null,"prevent-close":"",ui:{width:"sm:max-w-2xl"}},u),{default:i.withCtx((t,a,l,u)=>{if(!a)return[i.createVNode(p,{ui:{divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:i.withCtx(()=>[i.createVNode("div",{class:"flex items-center justify-between"},[i.createVNode("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," ConfiguraÃ§Ãµes da ColeÃ§Ã£o "),i.createVNode(v,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark",class:"-my-1",onClick:e=>s.value=!1},null,8,["onClick"])])]),footer:i.withCtx(()=>[i.createVNode("div",{class:"flex justify-end gap-3"},[i.createVNode(v,{color:"gray",variant:"ghost",onClick:e=>s.value=!1},{default:i.withCtx(()=>[i.createTextVNode("Cancelar")]),_:1},8,["onClick"]),i.createVNode(v,{color:"primary",loading:i.unref(f),onClick:saveChanges},{default:i.withCtx(()=>[i.createTextVNode("Salvar AlteraÃ§Ãµes")]),_:1},8,["loading"])])]),default:i.withCtx(()=>[i.createVNode("div",{class:"space-y-6 max-h-[70vh] overflow-y-auto p-1"},[i.createVNode("div",{class:"space-y-4"},[i.createVNode(b,{label:"Nome da ColeÃ§Ã£o",required:""},{default:i.withCtx(()=>[i.createVNode(y,{modelValue:i.unref(h).name,"onUpdate:modelValue":e=>i.unref(h).name=e,placeholder:"ex. Minha ColeÃ§Ã£o"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),i.createVNode(b,{label:"DescriÃ§Ã£o"},{default:i.withCtx(()=>[i.createVNode(x,{modelValue:i.unref(h).description,"onUpdate:modelValue":e=>i.unref(h).description=e},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),i.createVNode(w),i.createVNode(C,{modelValue:i.unref(h).visibility,"onUpdate:modelValue":e=>i.unref(h).visibility=e,"collection-id":e.collectionId},null,8,["modelValue","onUpdate:modelValue","collection-id"]),i.createVNode(w),i.createVNode("div",{class:"space-y-4"},[i.createVNode("div",{class:"flex items-center justify-between"},[i.createVNode("h4",{class:"text-sm font-bold uppercase tracking-wider text-gray-500"},"Campos Personalizados"),i.createVNode(v,{size:"xs",icon:"i-heroicons-plus",onClick:addField},{default:i.withCtx(()=>[i.createTextVNode("Adicionar Campo")]),_:1})]),0===i.unref(h).fields.length?(i.openBlock(),i.createBlock("div",{key:0,class:"text-center py-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700"},[i.createVNode("p",{class:"text-sm text-gray-500"},"Nenhum campo personalizado ainda.")])):i.createCommentVNode("",!0),i.createVNode("div",{class:"space-y-3"},[(i.openBlock(!0),i.createBlock(i.Fragment,null,i.renderList(i.unref(h).fields,(e,t)=>(i.openBlock(),i.createBlock("div",{key:e.id||t,class:"relative group"},[i.createVNode(S,{modelValue:i.unref(h).fields[t],"onUpdate:modelValue":e=>i.unref(h).fields[t]=e,onRemove:e=>removeField(t)},null,8,["modelValue","onUpdate:modelValue","onRemove"])]))),128))])])])]),_:1})];a(Je(p,{ui:{divide:"divide-y divide-gray-100 dark:divide-gray-800"}},{header:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode("div",{class:"flex items-center justify-between"},[i.createVNode("h3",{class:"text-base font-semibold leading-6 text-gray-900 dark:text-white"}," ConfiguraÃ§Ãµes da ColeÃ§Ã£o "),i.createVNode(v,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark",class:"-my-1",onClick:e=>s.value=!1},null,8,["onClick"])])];t(`<div class="flex items-center justify-between"${l}><h3 class="text-base font-semibold leading-6 text-gray-900 dark:text-white"${l}> ConfiguraÃ§Ãµes da ColeÃ§Ã£o </h3>`),t(Je(v,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark",class:"-my-1",onClick:e=>s.value=!1},null,a,l)),t("</div>")}),footer:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode("div",{class:"flex justify-end gap-3"},[i.createVNode(v,{color:"gray",variant:"ghost",onClick:e=>s.value=!1},{default:i.withCtx(()=>[i.createTextVNode("Cancelar")]),_:1},8,["onClick"]),i.createVNode(v,{color:"primary",loading:i.unref(f),onClick:saveChanges},{default:i.withCtx(()=>[i.createTextVNode("Salvar AlteraÃ§Ãµes")]),_:1},8,["loading"])])];t(`<div class="flex justify-end gap-3"${l}>`),t(Je(v,{color:"gray",variant:"ghost",onClick:e=>s.value=!1},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Cancelar")];t("Cancelar")}),_:1},a,l)),t(Je(v,{color:"primary",loading:i.unref(f),onClick:saveChanges},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Salvar AlteraÃ§Ãµes")];t("Salvar AlteraÃ§Ãµes")}),_:1},a,l)),t("</div>")}),default:i.withCtx((t,a,l,s)=>{if(!a)return[i.createVNode("div",{class:"space-y-6 max-h-[70vh] overflow-y-auto p-1"},[i.createVNode("div",{class:"space-y-4"},[i.createVNode(b,{label:"Nome da ColeÃ§Ã£o",required:""},{default:i.withCtx(()=>[i.createVNode(y,{modelValue:i.unref(h).name,"onUpdate:modelValue":e=>i.unref(h).name=e,placeholder:"ex. Minha ColeÃ§Ã£o"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),i.createVNode(b,{label:"DescriÃ§Ã£o"},{default:i.withCtx(()=>[i.createVNode(x,{modelValue:i.unref(h).description,"onUpdate:modelValue":e=>i.unref(h).description=e},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),i.createVNode(w),i.createVNode(C,{modelValue:i.unref(h).visibility,"onUpdate:modelValue":e=>i.unref(h).visibility=e,"collection-id":e.collectionId},null,8,["modelValue","onUpdate:modelValue","collection-id"]),i.createVNode(w),i.createVNode("div",{class:"space-y-4"},[i.createVNode("div",{class:"flex items-center justify-between"},[i.createVNode("h4",{class:"text-sm font-bold uppercase tracking-wider text-gray-500"},"Campos Personalizados"),i.createVNode(v,{size:"xs",icon:"i-heroicons-plus",onClick:addField},{default:i.withCtx(()=>[i.createTextVNode("Adicionar Campo")]),_:1})]),0===i.unref(h).fields.length?(i.openBlock(),i.createBlock("div",{key:0,class:"text-center py-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700"},[i.createVNode("p",{class:"text-sm text-gray-500"},"Nenhum campo personalizado ainda.")])):i.createCommentVNode("",!0),i.createVNode("div",{class:"space-y-3"},[(i.openBlock(!0),i.createBlock(i.Fragment,null,i.renderList(i.unref(h).fields,(e,t)=>(i.openBlock(),i.createBlock("div",{key:e.id||t,class:"relative group"},[i.createVNode(S,{modelValue:i.unref(h).fields[t],"onUpdate:modelValue":e=>i.unref(h).fields[t]=e,onRemove:e=>removeField(t)},null,8,["modelValue","onUpdate:modelValue","onRemove"])]))),128))])])])];a(`<div class="space-y-6 max-h-[70vh] overflow-y-auto p-1"${s}><div class="space-y-4"${s}>`),a(Je(b,{label:"Nome da ColeÃ§Ã£o",required:""},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode(y,{modelValue:i.unref(h).name,"onUpdate:modelValue":e=>i.unref(h).name=e,placeholder:"ex. Minha ColeÃ§Ã£o"},null,8,["modelValue","onUpdate:modelValue"])];t(Je(y,{modelValue:i.unref(h).name,"onUpdate:modelValue":e=>i.unref(h).name=e,placeholder:"ex. Minha ColeÃ§Ã£o"},null,a,l))}),_:1},l,s)),a(Je(b,{label:"DescriÃ§Ã£o"},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode(x,{modelValue:i.unref(h).description,"onUpdate:modelValue":e=>i.unref(h).description=e},null,8,["modelValue","onUpdate:modelValue"])];t(Je(x,{modelValue:i.unref(h).description,"onUpdate:modelValue":e=>i.unref(h).description=e},null,a,l))}),_:1},l,s)),a("</div>"),a(Je(w,null,null,l,s)),a(Je(C,{modelValue:i.unref(h).visibility,"onUpdate:modelValue":e=>i.unref(h).visibility=e,"collection-id":e.collectionId},null,l,s)),a(Je(w,null,null,l,s)),a(`<div class="space-y-4"${s}><div class="flex items-center justify-between"${s}><h4 class="text-sm font-bold uppercase tracking-wider text-gray-500"${s}>Campos Personalizados</h4>`),a(Je(v,{size:"xs",icon:"i-heroicons-plus",onClick:addField},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Adicionar Campo")];t("Adicionar Campo")}),_:1},l,s)),a("</div>"),0===i.unref(h).fields.length?a(`<div class="text-center py-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border-2 border-dashed border-gray-200 dark:border-gray-700"${s}><p class="text-sm text-gray-500"${s}>Nenhum campo personalizado ainda.</p></div>`):a("\x3c!----\x3e"),a(`<div class="space-y-3"${s}>\x3c!--[--\x3e`),Ze(i.unref(h).fields,(e,t)=>{a(`<div class="relative group"${s}>`),a(Je(S,{modelValue:i.unref(h).fields[t],"onUpdate:modelValue":e=>i.unref(h).fields[t]=e,onRemove:e=>removeField(t)},null,l,s)),a("</div>")}),a("\x3c!--]--\x3e</div></div></div>")}),_:1},l,u))}),_:1},l))}}}),ea=Zo.setup;Zo.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("components/CollectionSettingsModal.vue"),ea?ea(e,t):void 0};const ta=i.defineComponent({__name:"CommentSection",__ssrInlineRender:!0,props:{collectionId:{}},setup(e){const t=e,a=nt(),l=f(),s=u(),p=i.ref([]),v=i.ref(""),h=i.ref(!1),postComment=async()=>{if(v.value.trim()&&l.value){h.value=!0;try{const{error:e}=await a.from("comments").insert({collection_id:t.collectionId,user_id:l.value.id,content:v.value.trim()});if(e)throw e;v.value="",(async()=>{const{data:e,error:l}=await a.from("comments").select("\n      id, \n      content, \n      created_at, \n      profiles ( full_name, avatar_url )\n    ").eq("collection_id",t.collectionId).order("created_at",{ascending:!1});!l&&e&&(p.value=e)})()}catch(e){s.add({title:"Erro",description:e.message,color:"red"})}finally{h.value=!1}}};return(e,t,a,s)=>{const u=w,f=_e,b=d;t(`<div${Ye(i.mergeProps({class:"mt-8"},s))}><h3 class="text-xl font-bold mb-4">ComentÃ¡rios</h3>`),i.unref(l)?(t('<div class="mb-6 flex gap-3">'),t(Je(u,{src:i.unref(l).user_metadata.avatar_url,alt:i.unref(l).user_metadata.full_name},null,a)),t('<div class="flex-1 space-y-2">'),t(Je(f,{modelValue:i.unref(v),"onUpdate:modelValue":e=>i.isRef(v)?v.value=e:null,placeholder:"Escreva um comentÃ¡rio...",rows:2,autoresize:""},null,a)),t('<div class="flex justify-end">'),t(Je(b,{size:"sm",loading:i.unref(h),disabled:!i.unref(v).trim(),onClick:postComment},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Comentar")];t("Comentar")}),_:1},a)),t("</div></div></div>")):t("\x3c!----\x3e"),t('<div class="space-y-4">'),0===i.unref(p).length?t('<div class="text-center text-gray-500 py-4"> Nenhum comentÃ¡rio ainda. Seja o primeiro! </div>'):(t("\x3c!--[--\x3e"),Ze(i.unref(p),e=>{var l,i,s;t('<div class="flex gap-3">'),t(Je(u,{src:null==(l=e.profiles)?void 0:l.avatar_url,alt:null==(i=e.profiles)?void 0:i.full_name,size:"sm"},null,a)),t(`<div class="flex-1"><div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-3"><div class="flex justify-between items-start mb-1"><span class="font-semibold text-sm">${Xe((null==(s=e.profiles)?void 0:s.full_name)||"AnÃ´nimo")}</span><span class="text-xs text-gray-500">${Xe(new Date(e.created_at).toLocaleDateString())}</span></div><p class="text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap">${Xe(e.content)}</p></div></div></div>`)}),t("\x3c!--]--\x3e")),t("</div></div>")}}}),oa=ta.setup;ta.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("components/CommentSection.vue"),oa?oa(e,t):void 0};const aa=i.defineComponent({__name:"index",__ssrInlineRender:!0,setup(e){const t=s().params.id,a=nt(),l=u(),v=i.ref(null),f=i.ref([]),h=i.ref([]),b=i.ref(!0),y=i.ref([]),x=i.ref(!1),w=i.ref(!1),C=i.ref(!1),S=i.ref(!0),toggleStats=()=>{S.value=!S.value,localStorage.setItem("show-stats",String(S.value))},k=i.ref(null),V=i.ref({}),O=i.ref(!1),$=i.ref(""),N=i.ref({}),R=i.computed(()=>Object.values(N.value).filter(e=>e&&""!==e.trim()).length),clearFilters=()=>{N.value={}},loadData=async()=>{b.value=!0;try{const{data:e,error:l}=await a.from("collections").select("*, fields (*)").eq("id",t).single();if(l)throw l;v.value=e,f.value=(e.fields||[]).sort((e,t)=>e.folder_order-t.folder_order);const{data:i,error:s}=await a.from("items").select("id, created_at, item_values ( field_id, value )").eq("collection_id",t).order("created_at",{ascending:!1});if(s)throw s;h.value=i||[]}catch(e){l.add({title:"Error",description:e.message,color:"red"})}finally{b.value=!1}},P=i.computed(()=>h.value.map(e=>{const t={id:e.id,created_at:e.created_at};return e.item_values.forEach(e=>{t[e.field_id]=e.value}),t})),_=i.computed(()=>{let e=P.value;if($.value){const t=$.value.toLowerCase();e=e.filter(e=>Object.values(e).some(e=>String(e).toLowerCase().includes(t)))}for(const[t,a]of Object.entries(N.value))if(a&&""!==a.trim()){const l=a.toLowerCase();e=e.filter(e=>{const a=e[t];return String(null!=a?a:"").toLowerCase().includes(l)})}return e}),z=i.computed(()=>f.value.filter(e=>e.visible).map(e=>({key:e.id,label:e.name,sortable:!0,type:e.type}))),j=i.computed(()=>[...z.value,{key:"actions",label:"AÃ§Ãµes"}]),openCreateModal=()=>{k.value=null,V.value={},x.value=!0},openEditModal=e=>{k.value=e.id,V.value={...e},x.value=!0},handleSave=async e=>{try{O.value=!0;const i={collection_id:t,id:k.value||void 0},{data:s,error:u}=await a.from("items").upsert(i).select().single();if(u)throw u;const d=Object.entries(e).map(([e,t])=>({item_id:s.id,field_id:e,value:t})),{error:p}=await a.from("item_values").upsert(d,{onConflict:"item_id, field_id"});if(p)throw p;l.add({title:"Sucesso",description:"Item salvo",color:"green"}),x.value=!1,loadData()}catch(e){l.add({title:"Erro",description:e.message,color:"red"})}finally{O.value=!1}},deleteItem=async e=>{if(!confirm("Excluir item?"))return;const{error:t}=await a.from("items").delete().eq("id",e);t?l.add({title:"Erro",description:t.message,color:"red"}):(l.add({title:"ExcluÃ­do",color:"green"}),h.value=h.value.filter(t=>t.id!==e))},deleteSelectedItems=async()=>{const e=y.value.length;if(0===e)return;if(!confirm(`Tem certeza que deseja excluir ${e} itens?`))return;const t=y.value.map(e=>e.id),{error:i}=await a.from("items").delete().in("id",t);i?l.add({title:"Erro",description:i.message,color:"red"}):(l.add({title:"ExcluÃ­do",description:`${e} itens excluÃ­dos`,color:"green"}),h.value=h.value.filter(e=>!t.includes(e.id)),y.value=[])};return(e,a,l,s)=>{var u,H;const W=d,G=wo,Y=p,J=Oo,X=be,Z=Io,ee=Eo,te=Ue,oe=Fo,le=he,ne=Ho,ie=Ko,re=Zo,se=ta;a(`<div${Ye(i.mergeProps({class:"p-4"},s))}><div class="mb-6 flex flex-col md:flex-row justify-between md:items-center gap-4"><div><div class="flex items-center gap-2 mb-1">`),a(Je(W,{to:"/dashboard",icon:"i-heroicons-arrow-left",variant:"ghost",color:"gray",size:"sm"},null,l)),a(`<h1 class="text-2xl font-bold">${Xe((null==(u=i.unref(v))?void 0:u.name)||"Carregando...")}</h1></div><p class="text-gray-500 text-sm ml-9">${Xe(null==(H=i.unref(v))?void 0:H.description)}</p></div><div class="flex gap-2">`),i.unref(y).length>0?a(Je(W,{color:"red",variant:"soft",icon:"i-heroicons-trash",onClick:deleteSelectedItems},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode(" Excluir ("+i.toDisplayString(i.unref(y).length)+") ",1)];t(` Excluir (${Xe(i.unref(y).length)}) `)}),_:1},l)):a("\x3c!----\x3e"),a(Je(W,{variant:"outline",icon:"i-heroicons-arrow-up-tray",onClick:e=>w.value=!0},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Importar Excel")];t("Importar Excel")}),_:1},l)),a(Je(W,{icon:"i-heroicons-plus",onClick:openCreateModal},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Novo Item")];t("Novo Item")}),_:1},l)),a(Je(G,{text:"ConfiguraÃ§Ãµes e Campos"},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode(W,{icon:"i-heroicons-cog-6-tooth",variant:"ghost",color:"gray",onClick:e=>C.value=!0},null,8,["onClick"])];t(Je(W,{icon:"i-heroicons-cog-6-tooth",variant:"ghost",color:"gray",onClick:e=>C.value=!0},null,a,l))}),_:1},l)),a("</div></div>"),i.unref(f).length>0&&i.unref(h).length>0?(a('<div class="mb-4 flex items-center justify-between bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm p-2 rounded-lg border border-gray-100 dark:border-gray-800"><div class="flex items-center gap-2 ml-2"><div class="p-1 bg-primary-100 dark:bg-primary-900/40 rounded">'),a(Je(Y,{name:"i-heroicons-presentation-chart-line",class:"w-4 h-4 text-primary-600 dark:text-primary-400"},null,l)),a('</div><h2 class="text-sm font-bold uppercase tracking-wider text-gray-700 dark:text-gray-300">Resumo da ColeÃ§Ã£o</h2></div>'),a(Je(W,{icon:i.unref(S)?"i-heroicons-eye-slash":"i-heroicons-eye",variant:"ghost",color:"gray",size:"xs",onClick:toggleStats},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode(i.toDisplayString(i.unref(S)?"Ocultar Dashboards":"Mostrar Dashboards"),1)];t(`${Xe(i.unref(S)?"Ocultar Dashboards":"Mostrar Dashboards")}`)}),_:1},l)),a("</div>")):a("\x3c!----\x3e"),i.unref(S)?a(Je(J,{fields:i.unref(f),items:i.unref(P)},null,l)):a("\x3c!----\x3e"),a('<div class="mb-4 flex flex-col md:flex-row gap-2">'),a(Je(X,{modelValue:i.unref($),"onUpdate:modelValue":e=>i.isRef($)?$.value=e:null,icon:"i-heroicons-magnifying-glass",placeholder:"Buscar em todas as colunas...",class:"w-full md:w-64"},null,l)),a(Je(Z,null,{panel:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode("div",{class:"p-4 w-80 space-y-4"},[i.createVNode("h4",{class:"font-bold text-sm"},"Filtros Ativos"),(i.openBlock(!0),i.createBlock(i.Fragment,null,i.renderList(i.unref(f),e=>(i.openBlock(),i.createBlock("div",{key:e.id,class:"flex flex-col gap-1"},[i.createVNode("label",{class:"text-xs font-medium text-gray-500"},i.toDisplayString(e.name),1),i.createVNode(X,{modelValue:i.unref(N)[e.id],"onUpdate:modelValue":t=>i.unref(N)[e.id]=t,size:"xs",placeholder:`Filtrar por ${e.name}`},null,8,["modelValue","onUpdate:modelValue","placeholder"])]))),128)),i.unref(R)>0?(i.openBlock(),i.createBlock(W,{key:0,size:"xs",color:"gray",variant:"ghost",block:"",onClick:clearFilters},{default:i.withCtx(()=>[i.createTextVNode("Limpar Todos")]),_:1})):i.createCommentVNode("",!0)])];t(`<div class="p-4 w-80 space-y-4"${l}><h4 class="font-bold text-sm"${l}>Filtros Ativos</h4>\x3c!--[--\x3e`),Ze(i.unref(f),e=>{t(`<div class="flex flex-col gap-1"${l}><label class="text-xs font-medium text-gray-500"${l}>${Xe(e.name)}</label>`),t(Je(X,{modelValue:i.unref(N)[e.id],"onUpdate:modelValue":t=>i.unref(N)[e.id]=t,size:"xs",placeholder:`Filtrar por ${e.name}`},null,a,l)),t("</div>")}),t("\x3c!--]--\x3e"),i.unref(R)>0?t(Je(W,{size:"xs",color:"gray",variant:"ghost",block:"",onClick:clearFilters},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Limpar Todos")];t("Limpar Todos")}),_:1},a,l)):t("\x3c!----\x3e"),t("</div>")}),default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode(W,{color:"white",icon:"i-heroicons-funnel","trailing-icon":"i-heroicons-chevron-down"},{default:i.withCtx(()=>[i.createTextVNode(" Filtros "+i.toDisplayString(i.unref(R)>0?`(${i.unref(R)})`:""),1)]),_:1})];t(Je(W,{color:"white",icon:"i-heroicons-funnel","trailing-icon":"i-heroicons-chevron-down"},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode(" Filtros "+i.toDisplayString(i.unref(R)>0?`(${i.unref(R)})`:""),1)];t(` Filtros ${Xe(i.unref(R)>0?`(${i.unref(R)})`:"")}`)}),_:1},a,l))}),_:1},l)),a("</div>"),a(Je(ee,{modelValue:i.unref(y),"onUpdate:modelValue":e=>i.isRef(y)?y.value=e:null,rows:i.unref(_),columns:i.unref(j),loading:i.unref(b),class:"w-full"},i.createSlots({"actions-data":i.withCtx(({row:e},t,a,l)=>{if(!t)return[i.createVNode("div",{class:"flex gap-1 justify-end"},[i.createVNode(W,{icon:"i-heroicons-pencil-square",size:"xs",color:"gray",variant:"ghost",onClick:t=>openEditModal(e)},null,8,["onClick"]),i.createVNode(W,{icon:"i-heroicons-trash",size:"xs",color:"red",variant:"ghost",onClick:t=>deleteItem(e.id)},null,8,["onClick"])])];t(`<div class="flex gap-1 justify-end"${l}>`),t(Je(W,{icon:"i-heroicons-pencil-square",size:"xs",color:"gray",variant:"ghost",onClick:t=>openEditModal(e)},null,a,l)),t(Je(W,{icon:"i-heroicons-trash",size:"xs",color:"red",variant:"ghost",onClick:t=>deleteItem(e.id)},null,a,l)),t("</div>")}),_:2},[i.renderList(i.unref(z),e=>({name:`${e.key}-data`,fn:i.withCtx(({row:t},a,l,s)=>{if(!a)return["boolean"===e.type?(i.openBlock(),i.createBlock("span",{key:0},[i.createVNode(te,{color:t[e.key]?"green":"gray",variant:"soft"},{default:i.withCtx(()=>[i.createTextVNode(i.toDisplayString(t[e.key]?"Sim":"NÃ£o"),1)]),_:2},1032,["color"])])):"multiselect"===e.type?(i.openBlock(),i.createBlock("span",{key:1},i.toDisplayString(Array.isArray(t[e.key])?t[e.key].join(", "):t[e.key]),1)):(i.openBlock(),i.createBlock("span",{key:2},i.toDisplayString(t[e.key]),1))];"boolean"===e.type?(a(`<span${s}>`),a(Je(te,{color:t[e.key]?"green":"gray",variant:"soft"},{default:i.withCtx((a,l,s,u)=>{if(!l)return[i.createTextVNode(i.toDisplayString(t[e.key]?"Sim":"NÃ£o"),1)];l(`${Xe(t[e.key]?"Sim":"NÃ£o")}`)}),_:2},l,s)),a("</span>")):"multiselect"===e.type?a(`<span${s}>${Xe(Array.isArray(t[e.key])?t[e.key].join(", "):t[e.key])}</span>`):a(`<span${s}>${Xe(t[e.key])}</span>`)})}))]),l)),a(Je(oe,{modelValue:i.unref(x),"onUpdate:modelValue":e=>i.isRef(x)?x.value=e:null},{default:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode(le,null,{header:i.withCtx(()=>[i.createVNode("div",{class:"font-bold"},i.toDisplayString(i.unref(k)?"Editar Item":"Novo Item"),1)]),default:i.withCtx(()=>[i.unref(f).length>0?(i.openBlock(),i.createBlock(ne,{key:0,fields:i.unref(f),"initial-data":i.unref(V),loading:i.unref(O),onSave:handleSave,onCancel:e=>x.value=!1},null,8,["fields","initial-data","loading","onCancel"])):i.createCommentVNode("",!0)]),_:1})];t(Je(le,null,{header:i.withCtx((e,t,a,l)=>{if(!t)return[i.createVNode("div",{class:"font-bold"},i.toDisplayString(i.unref(k)?"Editar Item":"Novo Item"),1)];t(`<div class="font-bold"${l}>${Xe(i.unref(k)?"Editar Item":"Novo Item")}</div>`)}),default:i.withCtx((e,t,a,l)=>{if(!t)return[i.unref(f).length>0?(i.openBlock(),i.createBlock(ne,{key:0,fields:i.unref(f),"initial-data":i.unref(V),loading:i.unref(O),onSave:handleSave,onCancel:e=>x.value=!1},null,8,["fields","initial-data","loading","onCancel"])):i.createCommentVNode("",!0)];i.unref(f).length>0?t(Je(ne,{fields:i.unref(f),"initial-data":i.unref(V),loading:i.unref(O),onSave:handleSave,onCancel:e=>x.value=!1},null,a,l)):t("\x3c!----\x3e")}),_:1},a,l))}),_:1},l)),a(Je(oe,{modelValue:i.unref(w),"onUpdate:modelValue":e=>i.isRef(w)?w.value=e:null},{default:i.withCtx((e,a,l,s)=>{if(!a)return[i.createVNode(le,null,{header:i.withCtx(()=>[i.createTextVNode("Importar do Excel")]),default:i.withCtx(()=>[i.unref(w)?(i.openBlock(),i.createBlock(ie,{key:0,"collection-id":i.unref(t),"collection-fields":i.unref(f),onClose:e=>w.value=!1,onRefresh:loadData},null,8,["collection-id","collection-fields","onClose"])):i.createCommentVNode("",!0)]),_:1})];a(Je(le,null,{header:i.withCtx((e,t,a,l)=>{if(!t)return[i.createTextVNode("Importar do Excel")];t("Importar do Excel")}),default:i.withCtx((e,a,l,s)=>{if(!a)return[i.unref(w)?(i.openBlock(),i.createBlock(ie,{key:0,"collection-id":i.unref(t),"collection-fields":i.unref(f),onClose:e=>w.value=!1,onRefresh:loadData},null,8,["collection-id","collection-fields","onClose"])):i.createCommentVNode("",!0)];i.unref(w)?a(Je(ie,{"collection-id":i.unref(t),"collection-fields":i.unref(f),onClose:e=>w.value=!1,onRefresh:loadData},null,l,s)):a("\x3c!----\x3e")}),_:1},l,s))}),_:1},l)),a(Je(re,{modelValue:i.unref(C),"onUpdate:modelValue":e=>i.isRef(C)?C.value=e:null,"collection-id":i.unref(t),onRefresh:loadData},null,l)),a(Je(se,{"collection-id":i.unref(t)},null,l)),a("</div>")}}}),la=aa.setup;aa.setup=(e,t)=>{const a=i.useSSRContext();return(a.modules||(a.modules=new Set)).add("pages/collections/[id]/index.vue"),la?la(e,t):void 0};export{aa as default};
//# sourceMappingURL=index-DFVr_KK7.mjs.map

import{v as e,u as r,k as t,n as i,_ as o,e as a,f as s}from"./server.mjs";import{_ as l}from"./Card-CjK8ZZ2Z.mjs";import{_ as n}from"./Dropdown-Ba5iGOTw.mjs";import{_ as c}from"./Badge-Bm7uoIiW.mjs";import{u as d}from"./fetch-CFsjn0J_.mjs";import{A as p,D as m,y as g,G as x}from"../routes/renderer.mjs";import"../_/nitro.mjs";import"node:async_hooks";import"../_/shared.esm-bundler.mjs";import"./usePopper-wR_LLQw2.mjs";import"./keyboard-DfXvXu8t.mjs";const u=e.defineComponent({__name:"index",__ssrInlineRender:!0,async setup(u){let h,f;const{user:y}=r(),v=t(),{data:b,pending:w,refresh:k}=([h,f]=e.withAsyncContext(()=>d("/api/collections","$wSvT53YUKM")),h=await h,f(),h),C=e.ref([]),N=e.ref(!1),getActionItems=e=>[[{label:"Editar",icon:"i-heroicons-pencil-square",click:()=>i(`/collections/${e.id}/edit`)}],[{label:"Excluir",icon:"i-heroicons-trash",click:()=>confirmDelete(e.id)}]],goToCollection=e=>{i(`/collections/${e}`)},confirmDelete=async e=>{if(confirm("Tem certeza que deseja excluir esta coleção e todos os seus itens?"))try{await $fetch(`/api/collections/${e}`,{method:"DELETE"}),v.add({title:"Sucesso",description:"Coleção excluída",color:"green"}),k()}catch(e){v.add({title:"Erro",description:e.message,color:"red"})}};return(r,t,i,d)=>{var u,h,f,v;const k=o,$=a,V=l,_=n,j=c,S=s;t(`<div${p(d)}><div class="flex flex-col md:flex-row justify-between items-end mb-10 gap-4"><div><h1 class="text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white mb-2"> Bem-vindo, <span class="text-primary-500">${m(null==(h=null==(u=e.unref(y))?void 0:u.name)?void 0:h.split(" ")[0])}</span></h1><p class="text-gray-500 dark:text-gray-400">Gerencie suas coleções ou descubra novidades.</p></div>`),t(g(k,{to:"/collections/new",icon:"i-heroicons-plus",size:"lg",class:"shadow-lg shadow-primary-500/20 hover:scale-105 transition-transform"},{default:e.withCtx((r,t,i,o)=>{if(!t)return[e.createTextVNode(" Nova Coleção ")];t(" Nova Coleção ")}),_:1},i)),t('</div><div class="space-y-8"><section><h2 class="text-lg font-semibold mb-4 flex items-center gap-2">'),t(g($,{name:"i-heroicons-user"},null,i)),t(" Minhas Coleções </h2>"),e.unref(w)?(t('<div class="flex justify-center py-8">'),t(g($,{name:"i-heroicons-arrow-path",class:"w-8 h-8 animate-spin text-gray-400"},null,i)),t("</div>")):(null==(f=e.unref(b))?void 0:f.length)?(t('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\x3c!--[--\x3e'),x(e.unref(b),r=>{t(g(V,{key:r.id,class:"group cursor-pointer border-0 ring-1 ring-gray-200 dark:ring-gray-800 shadow-sm hover:shadow-xl hover:ring-primary-500/50 dark:hover:ring-primary-500/50 transition-all duration-300 transform hover:-translate-y-1 bg-white dark:bg-gray-900 overflow-hidden",onClick:e=>goToCollection(r.id)},{default:e.withCtx((t,i,o,a)=>{if(!i)return[e.createVNode("div",{class:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity z-10"},[e.createVNode(_,{items:getActionItems(r),onClick:e.withModifiers(()=>{},["stop"])},{default:e.withCtx(()=>[e.createVNode(k,{color:"gray",variant:"soft",icon:"i-heroicons-ellipsis-vertical",size:"xs"})]),_:1},8,["items","onClick"])]),e.createVNode("div",{class:"p-4 flex flex-col h-full"},[e.createVNode("div",{class:"w-12 h-12 rounded-xl bg-primary-50 dark:bg-primary-900/50 flex items-center justify-center text-primary-500 mb-4 group-hover:scale-110 transition-transform duration-300"},[e.createVNode($,{name:"i-heroicons-folder",class:"w-7 h-7"})]),e.createVNode("h3",{class:"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-1 group-hover:text-primary-500 transition-colors"},e.toDisplayString(r.name),1),e.createVNode("p",{class:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2 mb-4 flex-1"},e.toDisplayString(r.description||"Sem descrição definida."),1),e.createVNode("div",{class:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800"},[e.createVNode("span",{class:"text-xs text-gray-400 font-mono"},e.toDisplayString(new Date(r.created_at).toLocaleDateString()),1),e.createVNode(j,{size:"xs",variant:"subtle",color:"public"===r.visibility?"green":"shared"===r.visibility?"purple":"gray"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString("public"===r.visibility?"Público":"shared"===r.visibility?"Compartilahdo":"Privado"),1)]),_:2},1032,["color"])])])];i(`<div class="absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity z-10"${a}>`),i(g(_,{items:getActionItems(r),onClick:()=>{}},{default:e.withCtx((r,t,i,o)=>{if(!t)return[e.createVNode(k,{color:"gray",variant:"soft",icon:"i-heroicons-ellipsis-vertical",size:"xs"})];t(g(k,{color:"gray",variant:"soft",icon:"i-heroicons-ellipsis-vertical",size:"xs"},null,i,o))}),_:2},o,a)),i(`</div><div class="p-4 flex flex-col h-full"${a}><div class="w-12 h-12 rounded-xl bg-primary-50 dark:bg-primary-900/50 flex items-center justify-center text-primary-500 mb-4 group-hover:scale-110 transition-transform duration-300"${a}>`),i(g($,{name:"i-heroicons-folder",class:"w-7 h-7"},null,o,a)),i(`</div><h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-1 group-hover:text-primary-500 transition-colors"${a}>${m(r.name)}</h3><p class="text-gray-500 dark:text-gray-400 text-sm line-clamp-2 mb-4 flex-1"${a}>${m(r.description||"Sem descrição definida.")}</p><div class="flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800"${a}><span class="text-xs text-gray-400 font-mono"${a}>${m(new Date(r.created_at).toLocaleDateString())}</span>`),i(g(j,{size:"xs",variant:"subtle",color:"public"===r.visibility?"green":"shared"===r.visibility?"purple":"gray"},{default:e.withCtx((t,i,o,a)=>{if(!i)return[e.createTextVNode(e.toDisplayString("public"===r.visibility?"Público":"shared"===r.visibility?"Compartilahdo":"Privado"),1)];i(`${m("public"===r.visibility?"Público":"shared"===r.visibility?"Compartilahdo":"Privado")}`)}),_:2},o,a)),i("</div></div>")}),_:2},i))}),t("\x3c!--]--\x3e</div>")):t('<div class="text-center py-8 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-lg"><p class="text-gray-500">Você não tem coleções criadas.</p></div>'),t('</section><section><h2 class="text-lg font-semibold mb-4 flex items-center gap-2 text-purple-600 dark:text-purple-400">'),t(g($,{name:"i-heroicons-users"},null,i)),t(" Compartilhado Comigo </h2>"),e.unref(N)?t('<div class="text-sm text-gray-400">Carregando compartilhamentos...</div>'):0===(null==(v=e.unref(C))?void 0:v.length)?t('<div class="text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg"><p class="text-gray-500 text-sm">Ninguém compartilhou coleções com você ainda.</p></div>'):(t('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">\x3c!--[--\x3e'),x(e.unref(C),r=>{t(g(V,{key:r.collection.id,class:"group cursor-pointer border-0 ring-1 ring-purple-100 dark:ring-purple-900/30 shadow-sm hover:shadow-purple-500/20 hover:ring-purple-500/50 transition-all duration-300 transform hover:-translate-y-1 bg-white dark:bg-gray-900",onClick:e=>goToCollection(r.collection.id)},{default:e.withCtx((t,i,o,a)=>{var s,l,n,c;if(!i)return[e.createVNode("div",{class:"p-4 flex flex-col h-full"},[e.createVNode("div",{class:"flex justify-between items-start mb-3"},[e.createVNode("div",{class:"w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400"},[e.createVNode($,{name:"i-heroicons-folder-open",class:"w-6 h-6"})]),e.createVNode($,{name:"i-heroicons-eye",class:"text-gray-300 group-hover:text-purple-500 transition-colors"})]),e.createVNode("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-purple-500 transition-colors"},e.toDisplayString(r.collection.name),1),e.createVNode("p",{class:"text-gray-500 text-sm line-clamp-2 mb-4 flex-1"},e.toDisplayString(r.collection.description||"Sem descrição"),1),e.createVNode("div",{class:"flex items-center gap-2 pt-3 border-t border-gray-100 dark:border-gray-800"},[e.createVNode(S,{src:null==(n=r.collection.owner)?void 0:n.avatar_url,size:"xs",class:"ring-2 ring-white dark:ring-gray-900"},null,8,["src"]),e.createVNode("div",{class:"flex flex-col"},[e.createVNode("span",{class:"text-[10px] text-gray-400 uppercase tracking-wider font-semibold"},"Compartilhado por"),e.createVNode("span",{class:"text-xs font-medium text-gray-700 dark:text-gray-300"},e.toDisplayString((null==(c=r.collection.owner)?void 0:c.full_name)||"Desconhecido"),1)])])])];i(`<div class="p-4 flex flex-col h-full"${a}><div class="flex justify-between items-start mb-3"${a}><div class="w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400"${a}>`),i(g($,{name:"i-heroicons-folder-open",class:"w-6 h-6"},null,o,a)),i("</div>"),i(g($,{name:"i-heroicons-eye",class:"text-gray-300 group-hover:text-purple-500 transition-colors"},null,o,a)),i(`</div><h3 class="text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-purple-500 transition-colors"${a}>${m(r.collection.name)}</h3><p class="text-gray-500 text-sm line-clamp-2 mb-4 flex-1"${a}>${m(r.collection.description||"Sem descrição")}</p><div class="flex items-center gap-2 pt-3 border-t border-gray-100 dark:border-gray-800"${a}>`),i(g(S,{src:null==(s=r.collection.owner)?void 0:s.avatar_url,size:"xs",class:"ring-2 ring-white dark:ring-gray-900"},null,o,a)),i(`<div class="flex flex-col"${a}><span class="text-[10px] text-gray-400 uppercase tracking-wider font-semibold"${a}>Compartilhado por</span><span class="text-xs font-medium text-gray-700 dark:text-gray-300"${a}>${m((null==(l=r.collection.owner)?void 0:l.full_name)||"Desconhecido")}</span></div></div></div>`)}),_:2},i))}),t("\x3c!--]--\x3e</div>")),t("</section></div></div>")}}}),h=u.setup;u.setup=(r,t)=>{const i=e.useSSRContext();return(i.modules||(i.modules=new Set)).add("pages/dashboard/index.vue"),h?h(r,t):void 0};export{u as default};
//# sourceMappingURL=index-D2GCUBgu.mjs.map

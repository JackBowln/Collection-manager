import{g as e,v as l,h as t,m as a,c as n,o as i,t as r,j as o,i as u,z as s,q as d,y as p}from"./server.mjs";import{f as c}from"../nitro/nitro.mjs";import{A as v,C as m,L as g,z as f,D as y,y as x}from"../routes/renderer.mjs";const b={wrapper:"",inner:"",label:{wrapper:"flex content-center items-center justify-between",base:"block font-medium text-gray-700 dark:text-gray-200",required:"after:content-['*'] after:ms-0.5 after:text-red-500 dark:after:text-red-400"},size:{"2xs":"text-xs",xs:"text-xs",sm:"text-sm",md:"text-sm",lg:"text-sm",xl:"text-base"},container:"mt-1 relative",description:"text-gray-500 dark:text-gray-400",hint:"text-gray-500 dark:text-gray-400",help:"mt-2 text-gray-500 dark:text-gray-400",error:"mt-2 text-red-500 dark:text-red-400",default:{size:"sm"}},h=a(u.ui.strategy,u.ui.formGroup,b),I=l.defineComponent({inheritAttrs:!1,props:{name:{type:String,default:null},size:{type:String,default:null,validator:e=>Object.keys(h.size).includes(e)},label:{type:String,default:null},description:{type:String,default:null},required:{type:Boolean,default:!1},help:{type:String,default:null},error:{type:[String,Boolean],default:null},hint:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},eagerValidation:{type:Boolean,default:!1}},setup(e){const{ui:a,attrs:n}=t("formGroup",l.toRef(e,"ui"),h,l.toRef(e,"class")),i=l.inject("form-errors",null),r=l.computed(()=>{var l,t;return e.error&&"string"==typeof e.error||"boolean"==typeof e.error?e.error:null==(t=null==(l=null==i?void 0:i.value)?void 0:l.find(l=>l.path===e.name))?void 0:t.message}),o=l.computed(()=>{var l;return a.value.size[null!=(l=e.size)?l:h.default.size]}),u=l.ref(l.useId());return l.provide("form-group",{error:r,inputId:u,name:l.computed(()=>e.name),size:l.computed(()=>e.size),eagerValidation:l.computed(()=>e.eagerValidation)}),{ui:a,attrs:n,inputId:u,size:o,error:r}}});const $=I.setup;I.setup=(e,t)=>{const a=l.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/forms/FormGroup.vue"),$?$(e,t):void 0};const z=e(I,[["ssrRender",function(e,t,a,n,i,r,o,u){t(`<div${v(l.mergeProps({class:e.ui.wrapper},e.attrs,n))}><div class="${m(e.ui.inner)}">`),e.label||e.$slots.label?(t(`<div class="${m([e.ui.label.wrapper,e.size])}"><label${g("for",e.inputId)} class="${m([e.ui.label.base,e.required?e.ui.label.required:""])}">`),e.$slots.label?f(e.$slots,"label",{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help},null,t,a):t(`\x3c!--[--\x3e${y(e.label)}\x3c!--]--\x3e`),t("</label>"),e.hint||e.$slots.hint?(t(`<span class="${m([e.ui.hint])}">`),e.$slots.hint?f(e.$slots,"hint",{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help},null,t,a):t(`\x3c!--[--\x3e${y(e.hint)}\x3c!--]--\x3e`),t("</span>")):t("\x3c!----\x3e"),t("</div>")):t("\x3c!----\x3e"),e.description||e.$slots.description?(t(`<p class="${m([e.ui.description,e.size])}">`),e.$slots.description?f(e.$slots,"description",{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help},null,t,a):t(`\x3c!--[--\x3e${y(e.description)}\x3c!--]--\x3e`),t("</p>")):t("\x3c!----\x3e"),t(`</div><div class="${m([e.label?e.ui.container:""])}">`),f(e.$slots,"default",{error:e.error},null,t,a),"string"==typeof e.error&&e.error?(t(`<p class="${m([e.ui.error,e.size])}">`),e.$slots.error?f(e.$slots,"error",{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help},null,t,a):t(`\x3c!--[--\x3e${y(e.error)}\x3c!--]--\x3e`),t("</p>")):e.help||e.$slots.help?(t(`<p class="${m([e.ui.help,e.size])}">`),e.$slots.help?f(e.$slots,"help",{error:e.error,label:e.label,name:e.name,hint:e.hint,description:e.description,help:e.help},null,t,a):t(`\x3c!--[--\x3e${y(e.help)}\x3c!--]--\x3e`),t("</p>")):t("\x3c!----\x3e"),t("</div></div>")}]]),useFormGroup=(e,t,a=!0)=>{const n=l.inject("form-events",void 0),i=l.inject("form-group",void 0),r=l.inject("form-inputs",void 0);i&&(!a||(null==e?void 0:e.legend)?i.inputId.value=void 0:(null==e?void 0:e.id)&&(i.inputId.value=null==e?void 0:e.id),r&&(r.value[i.name.value]=i.inputId.value));const o=l.ref(!1);function emitFormEvent(e,l){n&&n.emit({type:e,path:l})}const u=d(()=>{(o.value||(null==i?void 0:i.eagerValidation.value))&&emitFormEvent("input",null==i?void 0:i.name.value)},300);return{inputId:l.computed(()=>{var l;return null!=(l=null==e?void 0:e.id)?l:null==i?void 0:i.inputId.value}),name:l.computed(()=>{var l;return null!=(l=null==e?void 0:e.name)?l:null==i?void 0:i.name.value}),size:l.computed(()=>{var l,a,n;const r=t.size[null==i?void 0:i.size.value]?null==i?void 0:i.size.value:null;return null!=(n=null!=(l=null==e?void 0:e.size)?l:r)?n:null==(a=t.default)?void 0:a.size}),color:l.computed(()=>{var l;return(null==(l=null==i?void 0:i.error)?void 0:l.value)?"red":null==e?void 0:e.color}),emitFormBlur:function(){emitFormEvent("blur",null==i?void 0:i.name.value),o.value=!0},emitFormInput:u,emitFormChange:function(){emitFormEvent("change",null==i?void 0:i.name.value)}}},S=a(u.ui.strategy,u.ui.input,s),j=l.defineComponent({components:{UIcon:n},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>S.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator:e=>Object.keys(S.size).includes(e)},color:{type:String,default:()=>S.default.color,validator:e=>[...u.ui.colors,...Object.keys(S.color)].includes(e)},variant:{type:String,default:()=>S.default.variant,validator:e=>[...Object.keys(S.variant),...Object.values(S.color).flatMap(e=>Object.keys(e))].includes(e)},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:a,slots:n}){const{ui:s,attrs:d}=t("input",l.toRef(e,"ui"),S,l.toRef(e,"class")),{size:v,rounded:m}=i({ui:s,props:e}),{emitFormBlur:g,emitFormInput:f,size:y,color:x,inputId:b,name:h}=useFormGroup(e,S),I=l.computed(()=>{var e;return null!=(e=v.value)?e:y.value}),$=l.ref(c({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),z=l.ref(null),updateInput=l=>{$.value.trim&&(l=l.trim()),($.value.number||"number"===e.type)&&(l=p(l)),$.value.nullify&&(l||(l=null)),a("update:modelValue",l),f()},j=l.computed(()=>{var l,t;const a=(null==(t=null==(l=s.value.color)?void 0:l[x.value])?void 0:t[e.variant])||s.value.variant[e.variant];return r(o(s.value.base,s.value.form,m.value,s.value.placeholder,"file"===e.type&&s.value.file.base,s.value.size[I.value],e.padded?s.value.padding[I.value]:"p-0",null==a?void 0:a.replaceAll("{color}",x.value),(C.value||n.leading)&&s.value.leading.padding[I.value],(B.value||n.trailing)&&s.value.trailing.padding[I.value]),e.inputClass)}),C=l.computed(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),B=l.computed(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),k=l.computed(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),O=l.computed(()=>e.loading&&!C.value?e.loadingIcon:e.trailingIcon||e.icon),w=l.computed(()=>o(s.value.icon.leading.wrapper,s.value.icon.leading.pointer,s.value.icon.leading.padding[I.value])),F=l.computed(()=>o(s.value.icon.base,x.value&&u.ui.colors.includes(x.value)&&s.value.icon.color.replaceAll("{color}",x.value),s.value.icon.size[I.value],e.loading&&s.value.icon.loading)),q=l.computed(()=>o(s.value.icon.trailing.wrapper,s.value.icon.trailing.pointer,s.value.icon.trailing.padding[I.value])),A=l.computed(()=>o(s.value.icon.base,x.value&&u.ui.colors.includes(x.value)&&s.value.icon.color.replaceAll("{color}",x.value),s.value.icon.size[I.value],e.loading&&!C.value&&s.value.icon.loading));return{ui:s,attrs:d,name:h,inputId:b,input:z,isLeading:C,isTrailing:B,inputClass:j,leadingIconName:k,leadingIconClass:F,leadingWrapperIconClass:w,trailingIconName:O,trailingIconClass:A,trailingWrapperIconClass:q,onInput:e=>{$.value.lazy||updateInput(e.target.value)},onChange:l=>{if("file"===e.type){const e=l.target.files;a("change",e)}else{const e=l.target.value;a("change",e),$.value.lazy&&updateInput(e),$.value.trim&&(l.target.value=e.trim())}},onBlur:e=>{g(),a("blur",e)}}}});const C=j.setup;j.setup=(e,t)=>{const a=l.useSSRContext();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/ui/dist/runtime/components/forms/Input.vue"),C?C(e,t):void 0};const B=e(j,[["ssrRender",function(e,t,a,i,r,o,u,s){const d=n;t(`<div${v(l.mergeProps({class:"hidden"===e.type?"hidden":e.ui.wrapper},i))}><input${v(l.mergeProps({id:e.inputId,ref:"input",name:e.name,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},"file"===e.type?e.attrs:{...e.attrs,value:e.modelValue}))}>`),f(e.$slots,"default",{},null,t,a),e.isLeading&&e.leadingIconName||e.$slots.leading?(t(`<span class="${m(e.leadingWrapperIconClass)}">`),f(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>{t(x(d,{name:e.leadingIconName,class:e.leadingIconClass},null,a))},t,a),t("</span>")):t("\x3c!----\x3e"),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(t(`<span class="${m(e.trailingWrapperIconClass)}">`),f(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>{t(x(d,{name:e.trailingIconName,class:e.trailingIconClass},null,a))},t,a),t("</span>")):t("\x3c!----\x3e"),t("</div>")}]]);export{z as _,B as a,useFormGroup as u};
//# sourceMappingURL=Input-CUCmPBr7.mjs.map

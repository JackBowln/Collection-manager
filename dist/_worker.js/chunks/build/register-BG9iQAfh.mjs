import{_ as e}from"./Card-Dskk1veu.mjs";import{_ as l,a}from"./Input-D0kU1oTm.mjs";import{v as t,u as r,a as o,n as u,_ as n,b as d}from"./server.mjs";import{u as s}from"./useSupabaseClient-CBvWxwze.mjs";import{A as i,y as m}from"../routes/renderer.mjs";import"../_/nitro.mjs";import"node:async_hooks";import"../_/shared.esm-bundler.mjs";const c=t.defineComponent({__name:"register",__ssrInlineRender:!0,setup(c){const p=s(),f=r(),V=o(),h=t.ref(""),x=t.ref(""),w=t.ref(""),y=t.ref(!1);t.watchEffect(()=>{f.value&&u("/dashboard")});const handleRegister=async()=>{try{y.value=!0;const{error:e}=await p.auth.signUp({email:h.value,password:x.value,options:{data:{full_name:w.value}}});if(e)throw e;V.add({title:"Check your email",description:"We sent you a confirmation link.",color:"green"})}catch(e){V.add({title:"Error",description:e.message,color:"red"})}finally{y.value=!1}};return(r,o,u,s)=>{const c=e,p=l,f=a,V=n,v=d;o(`<div${i(t.mergeProps({class:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900"},s))}>`),o(m(c,{class:"w-full max-w-md"},{header:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode("h1",{class:"text-xl font-bold text-center"},"Create Account")];l(`<h1 class="text-xl font-bold text-center"${r}>Create Account</h1>`)}),footer:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode("p",{class:"text-sm text-center text-gray-500"},[t.createTextVNode(" Already have an account? "),t.createVNode(v,{to:"/login",class:"text-primary-600 hover:underline"},{default:t.withCtx(()=>[t.createTextVNode("Sign in")]),_:1})])];l(`<p class="text-sm text-center text-gray-500"${r}> Already have an account? `),l(m(v,{to:"/login",class:"text-primary-600 hover:underline"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createTextVNode("Sign in")];l("Sign in")}),_:1},a,r)),l("</p>")}),default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode("form",{onSubmit:t.withModifiers(handleRegister,["prevent"]),class:"space-y-4"},[t.createVNode(p,{label:"Full Name",name:"fullName"},{default:t.withCtx(()=>[t.createVNode(f,{modelValue:t.unref(w),"onUpdate:modelValue":e=>t.isRef(w)?w.value=e:null,placeholder:"John Doe",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t.createVNode(p,{label:"Email",name:"email"},{default:t.withCtx(()=>[t.createVNode(f,{modelValue:t.unref(h),"onUpdate:modelValue":e=>t.isRef(h)?h.value=e:null,type:"email",placeholder:"you@example.com",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t.createVNode(p,{label:"Password",name:"password"},{default:t.withCtx(()=>[t.createVNode(f,{modelValue:t.unref(x),"onUpdate:modelValue":e=>t.isRef(x)?x.value=e:null,type:"password",required:"",minlength:"6"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t.createVNode(V,{type:"submit",block:"",loading:t.unref(y)},{default:t.withCtx(()=>[t.createTextVNode("Sign Up")]),_:1},8,["loading"])],32)];l(`<form class="space-y-4"${r}>`),l(m(p,{label:"Full Name",name:"fullName"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode(f,{modelValue:t.unref(w),"onUpdate:modelValue":e=>t.isRef(w)?w.value=e:null,placeholder:"John Doe",required:""},null,8,["modelValue","onUpdate:modelValue"])];l(m(f,{modelValue:t.unref(w),"onUpdate:modelValue":e=>t.isRef(w)?w.value=e:null,placeholder:"John Doe",required:""},null,a,r))}),_:1},a,r)),l(m(p,{label:"Email",name:"email"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode(f,{modelValue:t.unref(h),"onUpdate:modelValue":e=>t.isRef(h)?h.value=e:null,type:"email",placeholder:"you@example.com",required:""},null,8,["modelValue","onUpdate:modelValue"])];l(m(f,{modelValue:t.unref(h),"onUpdate:modelValue":e=>t.isRef(h)?h.value=e:null,type:"email",placeholder:"you@example.com",required:""},null,a,r))}),_:1},a,r)),l(m(p,{label:"Password",name:"password"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode(f,{modelValue:t.unref(x),"onUpdate:modelValue":e=>t.isRef(x)?x.value=e:null,type:"password",required:"",minlength:"6"},null,8,["modelValue","onUpdate:modelValue"])];l(m(f,{modelValue:t.unref(x),"onUpdate:modelValue":e=>t.isRef(x)?x.value=e:null,type:"password",required:"",minlength:"6"},null,a,r))}),_:1},a,r)),l(m(V,{type:"submit",block:"",loading:t.unref(y)},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createTextVNode("Sign Up")];l("Sign Up")}),_:1},a,r)),l("</form>")}),_:1},u)),o("</div>")}}}),p=c.setup;c.setup=(e,l)=>{const a=t.useSSRContext();return(a.modules||(a.modules=new Set)).add("pages/register.vue"),p?p(e,l):void 0};export{c as default};
//# sourceMappingURL=register-BG9iQAfh.mjs.map

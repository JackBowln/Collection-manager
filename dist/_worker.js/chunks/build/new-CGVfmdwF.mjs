import{v as e,u as o,k as a,_ as r}from"./server.mjs";import{_ as l}from"./Card-CjK8ZZ2Z.mjs";import{_ as d,a as s}from"./Input-CWRe9pxK.mjs";import{_ as t,a as i,b as n}from"./FieldDefinition-WmOpqtMW.mjs";import{A as u,y as m,C as c,G as p}from"../routes/renderer.mjs";import"../_/nitro.mjs";import"node:async_hooks";import"../_/shared.esm-bundler.mjs";const f=e.defineComponent({__name:"new",__ssrInlineRender:!0,setup(f){o(),a();const h=e.ref(!1),V=e.reactive({name:"",description:"",visibility:"private",fields:[]}),addField=()=>{V.fields.push({name:"",type:"text",options:[],visible:!0,required:!1,is_dynamic:!1,selected:!1,folder_order:V.fields.length})},b=e.ref(!1);return e.ref(null),(o,a,f,x)=>{const v=r,C=l,y=d,_=s,g=t,w=i,N=n;a(`<div${u(e.mergeProps({class:"max-w-3xl mx-auto p-4"},x))}><div class="flex items-center gap-4 mb-6">`),a(m(v,{icon:"i-heroicons-arrow-left",variant:"ghost",to:"/dashboard"},null,f)),a('<h1 class="text-2xl font-bold">Criar Nova Coleção</h1></div><form>'),a(m(C,{class:"mb-6"},{header:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode("h2",{class:"font-semibold"},"Detalhes Básicos")];a(`<h2 class="font-semibold"${l}>Detalhes Básicos</h2>`)}),default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode("div",{class:"space-y-4"},[e.createVNode(y,{label:"Nome da Coleção",required:""},{default:e.withCtx(()=>[e.createVNode(_,{modelValue:e.unref(V).name,"onUpdate:modelValue":o=>e.unref(V).name=o,placeholder:"ex. Discos de Vinil",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e.createVNode(y,{label:"Descrição"},{default:e.withCtx(()=>[e.createVNode(g,{modelValue:e.unref(V).description,"onUpdate:modelValue":o=>e.unref(V).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,8,["modelValue","onUpdate:modelValue"])]),_:1})])];a(`<div class="space-y-4"${l}>`),a(m(y,{label:"Nome da Coleção",required:""},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode(_,{modelValue:e.unref(V).name,"onUpdate:modelValue":o=>e.unref(V).name=o,placeholder:"ex. Discos de Vinil",required:""},null,8,["modelValue","onUpdate:modelValue"])];a(m(_,{modelValue:e.unref(V).name,"onUpdate:modelValue":o=>e.unref(V).name=o,placeholder:"ex. Discos de Vinil",required:""},null,r,l))}),_:1},r,l)),a(m(y,{label:"Descrição"},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createVNode(g,{modelValue:e.unref(V).description,"onUpdate:modelValue":o=>e.unref(V).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,8,["modelValue","onUpdate:modelValue"])];a(m(g,{modelValue:e.unref(V).description,"onUpdate:modelValue":o=>e.unref(V).description=o,placeholder:"Uma coleção dos meus discos raros..."},null,r,l))}),_:1},r,l)),a("</div>")}),_:1},f)),a(m(w,{modelValue:e.unref(V).visibility,"onUpdate:modelValue":o=>e.unref(V).visibility=o,class:"mb-6"},null,f)),a(`<div class="relative mb-6"><div class="absolute -top-1 left-0 right-0 h-1 pointer-events-none"></div><div class="${c([[e.unref(b)?"backdrop-blur-md border-b border-gray-200 dark:border-gray-800":"border-transparent"],"flex justify-between items-center mb-4 sticky top-0 z-10 py-4 transition-all duration-300 dark:bg-transparent"])}"><h2 class="text-lg font-semibold">Campos Personalizados</h2>`),a(m(v,{size:"sm",icon:"i-heroicons-plus",onClick:addField},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createTextVNode("Adicionar Campo")];a("Adicionar Campo")}),_:1},f)),a("</div>"),0===e.unref(V).fields.length?a('<div class="text-center py-8 border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-lg"><p class="text-gray-500">Nenhum campo definido. Adicione campos para estruturar sua coleção.</p></div>'):a("\x3c!----\x3e"),a('<div class="space-y-4">\x3c!--[--\x3e'),p(e.unref(V).fields,(o,r)=>{a(m(N,{key:r,modelValue:e.unref(V).fields[r],"onUpdate:modelValue":o=>e.unref(V).fields[r]=o,onRemove:e=>(e=>{V.fields.splice(e,1)})(r)},null,f))}),a('\x3c!--]--\x3e</div></div><div class="flex justify-end gap-3">'),a(m(v,{to:"/dashboard",color:"gray",variant:"ghost"},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createTextVNode("Cancelar")];a("Cancelar")}),_:1},f)),a(m(v,{type:"submit",loading:e.unref(h)},{default:e.withCtx((o,a,r,l)=>{if(!a)return[e.createTextVNode("Criar Coleção")];a("Criar Coleção")}),_:1},f)),a("</div></form></div>")}}}),h=f.setup;f.setup=(o,a)=>{const r=e.useSSRContext();return(r.modules||(r.modules=new Set)).add("pages/collections/new.vue"),h?h(o,a):void 0};export{f as default};
//# sourceMappingURL=new-CGVfmdwF.mjs.map

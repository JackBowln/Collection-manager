import{v as e,d as r,_ as a,c as t,e as o}from"./server.mjs";import{_ as s}from"./Badge-c-zYzrPl.mjs";import{u as l}from"./useSupabaseClient-CktZlRub.mjs";import{A as i,y as n,G as d,D as c}from"../routes/renderer.mjs";import"../nitro/nitro.mjs";import"node:process";import"node:async_hooks";import"../_/shared.esm-bundler.mjs";const m=e.defineComponent({__name:"explore",__ssrInlineRender:!0,async setup(m){let p,u;const x=l(),{data:g,pending:v}=([p,u]=e.withAsyncContext(async()=>r("public-collections",async()=>{const{data:e,error:r}=await x.from("collections").select("\n      id, \n      name, \n      description, \n      created_at, \n      visibility,\n      owner:profiles ( full_name, avatar_url )\n    ").eq("visibility","public").order("created_at",{ascending:!1});if(r)throw r;return e||[]})),p=await p,u(),p);return(r,l,m,p)=>{var u;const x=a,b=t,f=s,h=o;l(`<div${i(e.mergeProps({class:"container mx-auto p-4 max-w-6xl"},p))}><div class="flex justify-between items-center mb-8 border-b pb-4 dark:border-gray-700"><div><h1 class="text-3xl font-bold bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent"> Explorar Coleções </h1><p class="text-gray-500 mt-1">Descubra o que a comunidade está criando.</p></div>`),l(n(x,{to:"/dashboard",variant:"ghost",icon:"i-heroicons-arrow-left"},{default:e.withCtx((r,a,t,o)=>{if(!a)return[e.createTextVNode("Voltar para Dashboard")];a("Voltar para Dashboard")}),_:1},m)),l("</div>"),e.unref(v)?(l('<div class="flex justify-center py-20">'),l(n(b,{name:"i-heroicons-arrow-path",class:"w-10 h-10 animate-spin text-primary-500"},null,m)),l("</div>")):0===(null==(u=e.unref(g))?void 0:u.length)?(l('<div class="text-center py-20 bg-gray-50 dark:bg-gray-800 rounded-xl">'),l(n(b,{name:"i-heroicons-globe-alt",class:"w-16 h-16 text-gray-400 mx-auto mb-4"},null,m)),l('<h3 class="text-xl font-bold text-gray-900 dark:text-white">Nenhuma coleção pública ainda</h3><p class="text-gray-500 mt-2">Seja o primeiro a compartilhar uma coleção com o mundo!</p></div>')):(l('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">\x3c!--[--\x3e'),d(e.unref(g),r=>{var a,t,o;l('<article class="group flex flex-col h-full bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1"><div class="h-48 bg-gray-100 dark:bg-gray-800 relative overflow-hidden"><div class="absolute inset-0 bg-gradient-to-br from-primary-500/10 to-purple-500/10 group-hover:from-primary-500/20 group-hover:to-purple-500/20 transition-colors"></div><div class="absolute bottom-4 left-4 right-4">'),l(n(f,{color:"primary",variant:"subtle",size:"sm",class:"mb-2"},{default:e.withCtx((r,a,t,o)=>{if(!a)return[e.createTextVNode("Coleção Pública")];a("Coleção Pública")}),_:2},m)),l(`<h2 class="text-xl font-bold text-gray-900 dark:text-white line-clamp-2 leading-tight">${c(r.name)}</h2></div></div><div class="flex-1 p-6 flex flex-col"><p class="text-gray-600 dark:text-gray-400 text-sm line-clamp-3 mb-6 flex-1">${c(r.description||"Sem descrição disponível.")}</p><div class="mt-auto border-t border-gray-100 dark:border-gray-800 pt-4 flex items-center justify-between"><div class="flex items-center gap-2">`),l(n(h,{src:null==(a=r.owner)?void 0:a.avatar_url,alt:null==(t=r.owner)?void 0:t.full_name,size:"xs"},null,m)),l(`<div class="flex flex-col"><span class="text-xs font-semibold text-gray-900 dark:text-white">${c((null==(o=r.owner)?void 0:o.full_name)||"Anônimo")}</span><span class="text-[10px] text-gray-500">${c(new Date(r.created_at).toLocaleDateString())}</span></div></div>`),l(n(x,{to:`/collections/${r.id}`,variant:"ghost",color:"gray",icon:"i-heroicons-arrow-right",class:"-mr-2"},null,m)),l("</div></div></article>")}),l("\x3c!--]--\x3e</div>")),l("</div>")}}}),p=m.setup;m.setup=(r,a)=>{const t=e.useSSRContext();return(t.modules||(t.modules=new Set)).add("pages/explore.vue"),p?p(r,a):void 0};export{m as default};
//# sourceMappingURL=explore-DKNyYkno.mjs.map

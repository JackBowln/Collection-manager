import{_ as e}from"./Card-CjK8ZZ2Z.mjs";import{_ as l,a}from"./Input-CWRe9pxK.mjs";import{v as t,k as r,n as o,_ as u,l as n}from"./server.mjs";import{A as d,y as s}from"../routes/renderer.mjs";import"../_/nitro.mjs";import"node:async_hooks";import"../_/shared.esm-bundler.mjs";const i=t.defineComponent({__name:"register",__ssrInlineRender:!0,setup(i){const m=useSupabaseClient(),c=useSupabaseUser(),p=r(),f=t.ref(""),V=t.ref(""),h=t.ref(""),x=t.ref(!1);t.watchEffect(()=>{c.value&&o("/dashboard")});const handleRegister=async()=>{try{x.value=!0;const{error:e}=await m.auth.signUp({email:f.value,password:V.value,options:{data:{full_name:h.value}}});if(e)throw e;p.add({title:"Check your email",description:"We sent you a confirmation link.",color:"green"})}catch(e){p.add({title:"Error",description:e.message,color:"red"})}finally{x.value=!1}};return(r,o,i,m)=>{const c=e,p=l,y=a,w=u,g=n;o(`<div${d(t.mergeProps({class:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900"},m))}>`),o(s(c,{class:"w-full max-w-md"},{header:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode("h1",{class:"text-xl font-bold text-center"},"Create Account")];l(`<h1 class="text-xl font-bold text-center"${r}>Create Account</h1>`)}),footer:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode("p",{class:"text-sm text-center text-gray-500"},[t.createTextVNode(" Already have an account? "),t.createVNode(g,{to:"/login",class:"text-primary-600 hover:underline"},{default:t.withCtx(()=>[t.createTextVNode("Sign in")]),_:1})])];l(`<p class="text-sm text-center text-gray-500"${r}> Already have an account? `),l(s(g,{to:"/login",class:"text-primary-600 hover:underline"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createTextVNode("Sign in")];l("Sign in")}),_:1},a,r)),l("</p>")}),default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode("form",{onSubmit:t.withModifiers(handleRegister,["prevent"]),class:"space-y-4"},[t.createVNode(p,{label:"Full Name",name:"fullName"},{default:t.withCtx(()=>[t.createVNode(y,{modelValue:t.unref(h),"onUpdate:modelValue":e=>t.isRef(h)?h.value=e:null,placeholder:"John Doe",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t.createVNode(p,{label:"Email",name:"email"},{default:t.withCtx(()=>[t.createVNode(y,{modelValue:t.unref(f),"onUpdate:modelValue":e=>t.isRef(f)?f.value=e:null,type:"email",placeholder:"you@example.com",required:""},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t.createVNode(p,{label:"Password",name:"password"},{default:t.withCtx(()=>[t.createVNode(y,{modelValue:t.unref(V),"onUpdate:modelValue":e=>t.isRef(V)?V.value=e:null,type:"password",required:"",minlength:"6"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t.createVNode(w,{type:"submit",block:"",loading:t.unref(x)},{default:t.withCtx(()=>[t.createTextVNode("Sign Up")]),_:1},8,["loading"])],32)];l(`<form class="space-y-4"${r}>`),l(s(p,{label:"Full Name",name:"fullName"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode(y,{modelValue:t.unref(h),"onUpdate:modelValue":e=>t.isRef(h)?h.value=e:null,placeholder:"John Doe",required:""},null,8,["modelValue","onUpdate:modelValue"])];l(s(y,{modelValue:t.unref(h),"onUpdate:modelValue":e=>t.isRef(h)?h.value=e:null,placeholder:"John Doe",required:""},null,a,r))}),_:1},a,r)),l(s(p,{label:"Email",name:"email"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode(y,{modelValue:t.unref(f),"onUpdate:modelValue":e=>t.isRef(f)?f.value=e:null,type:"email",placeholder:"you@example.com",required:""},null,8,["modelValue","onUpdate:modelValue"])];l(s(y,{modelValue:t.unref(f),"onUpdate:modelValue":e=>t.isRef(f)?f.value=e:null,type:"email",placeholder:"you@example.com",required:""},null,a,r))}),_:1},a,r)),l(s(p,{label:"Password",name:"password"},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createVNode(y,{modelValue:t.unref(V),"onUpdate:modelValue":e=>t.isRef(V)?V.value=e:null,type:"password",required:"",minlength:"6"},null,8,["modelValue","onUpdate:modelValue"])];l(s(y,{modelValue:t.unref(V),"onUpdate:modelValue":e=>t.isRef(V)?V.value=e:null,type:"password",required:"",minlength:"6"},null,a,r))}),_:1},a,r)),l(s(w,{type:"submit",block:"",loading:t.unref(x)},{default:t.withCtx((e,l,a,r)=>{if(!l)return[t.createTextVNode("Sign Up")];l("Sign Up")}),_:1},a,r)),l("</form>")}),_:1},i)),o("</div>")}}}),m=i.setup;i.setup=(e,l)=>{const a=t.useSSRContext();return(a.modules||(a.modules=new Set)).add("pages/register.vue"),m?m(e,l):void 0};export{i as default};
//# sourceMappingURL=register--cxVIvzB.mjs.map

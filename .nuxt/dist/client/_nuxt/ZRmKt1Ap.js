import{_ as Y,f as _,c as f,o as c,a as v,a0 as N,a1 as G,D as C,a3 as W,a4 as L,P as U,r as D,a7 as Ce,B as ue,q as re,E as $,ak as ee,ab as F,a6 as I,ap as Ve,aq as Ie,Q as Se,z as q,ar as ce,as as Ae,d as P,t as T,ad as me,L as we,F as K,v as Z,A as x,ao as Oe,w as B,af as E,Y as Be,i as ze,b as A,m as V,l as oe,at as Ue,p as fe,x as qe,au as je,s as ie,ai as Ne,am as Te}from"./BgoPae_m.js";import{u as X,a as ge,_ as Re}from"./BCpvTb5o.js";import{_ as pe}from"./BSzSwfWJ.js";import{u as Fe}from"./BrtmVOS2.js";const Me={wrapper:"relative flex items-start",fieldset:"",legend:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",default:{color:"primary"}},ve={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-radio",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},De={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},R=W(I.ui.strategy,I.ui.textarea,Ve),Ge=_({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(R.size).includes(e)}},color:{type:String,default:()=>R.default.color,validator(e){return[...I.ui.colors,...Object.keys(R.color)].includes(e)}},variant:{type:String,default:()=>R.default.variant,validator(e){return[...Object.keys(R.variant),...Object.values(R.color).flatMap(l=>Object.keys(l))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:l}){const{ui:a,attrs:o}=L("textarea",U(e,"ui"),R,U(e,"class")),{emitFormBlur:r,emitFormInput:s,inputId:i,color:n,size:d,name:t}=X(e,R),g=D(Ce({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),p=D(null),m=()=>{e.autofocus&&p.value?.focus()},O=()=>{if(e.autoresize){if(!p.value)return;p.value.rows=e.rows;const h=p.value.style.overflow;p.value.style.overflow="hidden";const z=window.getComputedStyle(p.value),H=Number.parseInt(z.paddingTop),w=Number.parseInt(z.paddingBottom),Q=H+w,le=Number.parseInt(z.lineHeight),{scrollHeight:ae}=p.value,J=(ae-Q)/le;J>e.rows&&(p.value.rows=e.maxrows?Math.min(J,e.maxrows):J),p.value.style.overflow=h}},u=h=>{g.value.trim&&(h=h.trim()),g.value.number&&(h=Ie(h)),g.value.nullify&&(h||=null),l("update:modelValue",h),s()},S=h=>{O(),g.value.lazy||u(h.target.value)},b=h=>{const z=h.target.value;l("change",z),g.value.lazy&&u(z),g.value.trim&&(h.target.value=z.trim())},y=h=>{l("blur",h),r()};ue(()=>{setTimeout(()=>{m()},e.autofocusDelay)}),re(()=>e.modelValue,()=>{Se(O)}),ue(()=>{setTimeout(()=>{m(),O()},100)});const M=$(()=>{const h=a.value.color?.[n.value]?.[e.variant]||a.value.variant[e.variant];return ee(F(a.value.base,a.value.form,a.value.rounded,a.value.placeholder,a.value.size[d.value],e.padded?a.value.padding[d.value]:"p-0",h?.replaceAll("{color}",n.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:a,attrs:o,name:t,inputId:i,textarea:p,textareaClass:M,onInput:S,onChange:b,onBlur:y}}}),_e=["id","value","name","rows","required","disabled","placeholder"];function Ee(e,l,a,o,r,s){return c(),f("div",{class:C(e.ui.wrapper)},[v("textarea",G({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:l[0]||(l[0]=(...i)=>e.onInput&&e.onInput(...i)),onBlur:l[1]||(l[1]=(...i)=>e.onBlur&&e.onBlur(...i)),onChange:l[2]||(l[2]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,_e),N(e.$slots,"default")],2)}const zl=Y(Ge,[["render",Ee]]),te=W(I.ui.strategy,I.ui.radio,ve),Le=_({inheritAttrs:!1,props:{id:{type:String,default:null},value:{type:[String,Number,Boolean],default:null},modelValue:{type:[String,Number,Boolean,Object],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>te.default.color,validator(e){return I.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l}){const{ui:a,attrs:o}=L("radio",U(e,"ui"),te,U(e,"class")),r=e.id??me(),s=we("radio-group",null),{emitFormChange:i,color:n,name:d}=s??X(e,te),t=$({get(){return e.modelValue},set(m){l("update:modelValue",m),s||i()}});function g(m){l("change",m.target.value)}const p=$(()=>ee(F(a.value.base,a.value.form,a.value.background,a.value.border,n.value&&a.value.ring.replaceAll("{color}",n.value),n.value&&a.value.color.replaceAll("{color}",n.value)),e.inputClass));return{inputId:r,ui:a,attrs:o,pick:t,name:d,inputClass:p,onChange:g}}}),Pe=["data-n-ids"],We=["id","name","required","value","disabled"],He=["for"];function Qe(e,l,a,o,r,s){return c(),f("div",{class:C(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[v("div",{class:C(e.ui.container)},[ce(v("input",G({id:e.inputId,"onUpdate:modelValue":l[0]||(l[0]=i=>e.pick=i),name:e.name,required:e.required,value:e.value,disabled:e.disabled,type:"radio",class:e.inputClass},e.attrs,{onChange:l[1]||(l[1]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,We),[[Ae,e.pick]])],2),e.label||e.$slots.label?(c(),f("div",{key:0,class:C(e.ui.inner)},[v("label",{for:e.inputId,class:C(e.ui.label)},[N(e.$slots,"label",{label:e.label},()=>[P(T(e.label),1)]),e.required?(c(),f("span",{key:0,class:C(e.ui.required)},"*",2)):q("",!0)],10,He),e.help||e.$slots.help?(c(),f("p",{key:0,class:C(e.ui.help)},[N(e.$slots,"help",{help:e.help},()=>[P(T(e.help),1)])],2)):q("",!0)],2)):q("",!0)],10,Pe)}const be=Y(Le,[["render",Qe]]),ne=W(I.ui.strategy,I.ui.radioGroup,Me),Je=W(I.ui.strategy,I.ui.radio,ve),Ke=_({components:{URadio:be},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Boolean],default:""},name:{type:String,default:null},legend:{type:String,default:null},options:{type:Array,default:()=>[]},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},disabled:{type:Boolean,default:!1},color:{type:String,default:()=>ne.default.color,validator(e){return I.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiRadio:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l}){const{ui:a,attrs:o}=L("radioGroup",U(e,"ui"),ne,U(e,"class")),{ui:r}=L("radio",U(e,"uiRadio"),Je),{emitFormChange:s,color:i,name:n}=X(e,ne,!1);Be("radio-group",{color:i,name:n});const d=u=>{l("update:modelValue",u),l("change",u),s()},t=u=>E(u,e.valueAttribute,E(u,e.optionAttribute)),g=u=>E(u,e.optionAttribute,E(u,e.valueAttribute)),p=u=>e.modelValue===t(u),m=u=>["string","number","boolean"].includes(typeof u)?{value:u,label:u}:{...u,value:t(u),label:g(u),selected:p(u)},O=$(()=>e.options.map(u=>m(u)));return{ui:a,uiRadio:r,attrs:o,normalizedOptions:O,onUpdate:d}}});function Ye(e,l,a,o,r,s){const i=be;return c(),f("div",{class:C(e.ui.wrapper)},[v("fieldset",G(e.attrs,{class:e.ui.fieldset}),[e.legend||e.$slots.legend?(c(),f("legend",{key:0,class:C(e.ui.legend)},[N(e.$slots,"legend",{},()=>[P(T(e.legend),1)])],2)):q("",!0),(c(!0),f(K,null,Z(e.normalizedOptions,n=>(c(),x(i,{key:n.value,label:n.label,"model-value":e.modelValue,value:n.value,help:n.help,disabled:n.disabled||e.disabled,ui:e.uiRadio,onChange:d=>e.onUpdate(n.value)},Oe({_:2},[e.$slots.label?{name:"label",fn:B(()=>[N(e.$slots,"label",G({ref_for:!0},{option:n,selected:n.selected}))]),key:"0"}:void 0,e.$slots.help?{name:"help",fn:B(()=>[N(e.$slots,"help",G({ref_for:!0},{option:n,selected:n.selected}))]),key:"1"}:void 0]),1032,["label","model-value","value","help","disabled","ui","onChange"]))),128))],16)],2)}const Xe=Y(Ke,[["render",Ye]]),Ze={class:"space-y-6"},xe={class:"space-y-4"},el={class:"space-y-4"},ll={class:"flex gap-2"},al={key:0,class:"text-gray-500 text-sm italic"},tl={key:1,class:"space-y-2"},nl={class:"flex items-center gap-2"},ol={class:"text-sm"},rl={class:"font-medium"},il={class:"text-xs text-gray-500"},Ul=_({__name:"CollectionAccessControl",props:{modelValue:{},collectionId:{}},emits:["update:modelValue"],setup(e,{emit:l}){const a=e,o=l,r=Fe(),s=ze(),i=$({get:()=>a.modelValue,set:S=>o("update:modelValue",S)}),n=[{value:"private",label:"Privado (Apenas eu)"},{value:"shared",label:"Compartilhado (Usuários específicos)"},{value:"public",label:'Público (Qualquer pessoa pode ver na aba "Explorar")'}],d=D(""),t=D(!1),g=D(!1),p=D([]),m=async()=>{if(!a.collectionId)return;const{data:S,error:b}=await r.from("collection_shares").select("id, user_id, profiles ( id, email, full_name, avatar_url )").eq("collection_id",a.collectionId);!b&&S&&(p.value=S)};re(()=>a.collectionId,m,{immediate:!0});const O=async()=>{if(!(!d.value||!a.collectionId)){g.value=!0;try{const{data:S,error:b}=await r.from("profiles").select("id").eq("email",d.value).single();if(b||!S){s.add({title:"Usuário não encontrado",description:"Nenhum usuário encontrado com este e-mail.",color:"red"});return}const{error:y}=await r.from("collection_shares").insert({collection_id:a.collectionId,user_id:S.id});if(y)if(y.code==="23505")s.add({title:"Já compartilhado",description:"Usuário já tem acesso.",color:"orange"});else throw y;else s.add({title:"Adicionado",color:"green"}),d.value="",m()}catch(S){s.add({title:"Erro",description:S.message,color:"red"})}finally{g.value=!1}}},u=async S=>{if(!confirm("Remover acesso para este usuário?"))return;const{error:b}=await r.from("collection_shares").delete().eq("id",S);b?s.add({title:"Erro",description:b.message,color:"red"}):m()};return(S,b)=>{const y=Xe,M=pe,h=ge,z=fe,H=qe;return c(),f("div",Ze,[A(M,null,{header:B(()=>[...b[2]||(b[2]=[v("h3",{class:"font-semibold"},"Configurações de Visibilidade",-1)])]),default:B(()=>[v("div",xe,[A(y,{modelValue:V(i),"onUpdate:modelValue":b[0]||(b[0]=w=>oe(i)?i.value=w:null),options:n,legend:"Quem pode ver esta coleção?"},null,8,["modelValue"])])]),_:1}),V(i)==="shared"?(c(),x(M,{key:0},{header:B(()=>[...b[3]||(b[3]=[v("h3",{class:"font-semibold"},"Compartilhado com",-1)])]),default:B(()=>[v("div",el,[v("div",ll,[A(h,{modelValue:V(d),"onUpdate:modelValue":b[1]||(b[1]=w=>oe(d)?d.value=w:null),placeholder:"Digite o e-mail do usuário...",class:"flex-1",loading:V(t),onKeyup:Ue(O,["enter"])},null,8,["modelValue","loading"]),A(z,{icon:"i-heroicons-paper-airplane",onClick:O,loading:V(g)},{default:B(()=>[...b[4]||(b[4]=[P("Adicionar",-1)])]),_:1},8,["loading"])]),V(p).length===0?(c(),f("div",al," Não compartilhado com ninguém ainda. ")):(c(),f("div",tl,[(c(!0),f(K,null,Z(V(p),w=>(c(),f("div",{key:w.id,class:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-2 rounded"},[v("div",nl,[A(H,{src:w.profiles?.avatar_url,alt:w.profiles?.full_name,size:"xs"},null,8,["src","alt"]),v("div",ol,[v("div",rl,T(w.profiles?.full_name||"Unknown"),1),v("div",il,T(w.profiles?.email),1)])]),A(z,{icon:"i-heroicons-trash",color:"red",variant:"ghost",size:"xs",onClick:Q=>u(w.id)},null,8,["onClick"])]))),128))]))])]),_:1})):q("",!0)])}}}),sl=me,de=W(I.ui.strategy,I.ui.checkbox,De),ul=_({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>de.default.color,validator(e){return I.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l}){const{ui:a,attrs:o}=L("checkbox",U(e,"ui"),de,U(e,"class")),{emitFormChange:r,color:s,name:i,inputId:n}=X(e),d=n.value??sl(),t=$({get(){return e.modelValue},set(m){l("update:modelValue",m)}}),g=m=>{l("change",m.target.checked),r()},p=$(()=>ee(F(a.value.base,a.value.form,a.value.rounded,a.value.background,a.value.border,s.value&&a.value.ring.replaceAll("{color}",s.value),s.value&&a.value.color.replaceAll("{color}",s.value)),e.inputClass));return{ui:a,attrs:o,toggle:t,inputId:d,name:i,inputClass:p,onChange:g}}}),dl=["data-n-ids"],cl=["id","name","required","value","disabled","indeterminate"],ml=["for"];function fl(e,l,a,o,r,s){return c(),f("div",{class:C(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[v("div",{class:C(e.ui.container)},[ce(v("input",G({id:e.inputId,"onUpdate:modelValue":l[0]||(l[0]=i=>e.toggle=i),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:l[1]||(l[1]=(...i)=>e.onChange&&e.onChange(...i))}),null,16,cl),[[je,e.toggle]])],2),e.label||e.$slots.label?(c(),f("div",{key:0,class:C(e.ui.inner)},[v("label",{for:e.inputId,class:C(e.ui.label)},[N(e.$slots,"label",{label:e.label},()=>[P(T(e.label),1)]),e.required?(c(),f("span",{key:0,class:C(e.ui.required)},"*",2)):q("",!0)],10,ml),e.help||e.$slots.help?(c(),f("p",{key:0,class:C(e.ui.help)},[N(e.$slots,"help",{help:e.help},()=>[P(T(e.help),1)])],2)):q("",!0)],2)):q("",!0)],10,dl)}const gl=Y(ul,[["render",fl]]),j=W(I.ui.strategy,I.ui.select,Te),pl=_({components:{UIcon:ie},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>j.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>j.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(j.size).includes(e)}},color:{type:String,default:()=>j.default.color,validator(e){return[...I.ui.colors,...Object.keys(j.color)].includes(e)}},variant:{type:String,default:()=>j.default.variant,validator(e){return[...Object.keys(j.variant),...Object.values(j.color).flatMap(l=>Object.keys(l))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:l,slots:a}){const{ui:o,attrs:r}=L("select",U(e,"ui"),j,U(e,"class")),{size:s,rounded:i}=Ne({ui:o,props:e}),{emitFormChange:n,inputId:d,color:t,size:g,name:p}=X(e,j),m=$(()=>s.value??g.value),O=k=>{l("update:modelValue",k.target.value)},u=k=>{l("change",k.target.value),n()},S=k=>E(k,e.valueAttribute,""),b=k=>E(k,e.optionAttribute,""),y=k=>["string","number","boolean"].includes(typeof k)?{[e.valueAttribute]:k,[e.optionAttribute]:k}:{...k,[e.valueAttribute]:S(k),[e.optionAttribute]:b(k)},M=$(()=>e.options.map(k=>y(k))),h=$(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...M.value]:M.value),z=$(()=>{const k=y(e.modelValue),se=h.value.find(ke=>ke[e.valueAttribute]===k[e.valueAttribute]);return se?se[e.valueAttribute]:""}),H=$(()=>{const k=o.value.color?.[t.value]?.[e.variant]||o.value.variant[e.variant];return ee(F(o.value.base,o.value.form,i.value,o.value.size[m.value],e.padded?o.value.padding[m.value]:"p-0",k?.replaceAll("{color}",t.value),(w.value||a.leading)&&o.value.leading.padding[m.value],(Q.value||a.trailing)&&o.value.trailing.padding[m.value]),e.placeholder&&!e.modelValue&&o.value.placeholder,e.selectClass)}),w=$(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),Q=$(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),le=$(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),ae=$(()=>e.loading&&!w.value?e.loadingIcon:e.trailingIcon||e.icon),J=$(()=>F(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[m.value])),ye=$(()=>F(o.value.icon.base,t.value&&I.ui.colors.includes(t.value)&&o.value.icon.color.replaceAll("{color}",t.value),o.value.icon.size[m.value],e.loading&&o.value.icon.loading)),he=$(()=>F(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[m.value])),$e=$(()=>F(o.value.icon.base,t.value&&I.ui.colors.includes(t.value)&&o.value.icon.color.replaceAll("{color}",t.value),o.value.icon.size[m.value],e.loading&&!w.value&&o.value.icon.loading));return{ui:o,attrs:r,name:p,inputId:d,normalizedOptionsWithPlaceholder:h,normalizedValue:z,isLeading:w,isTrailing:Q,selectClass:H,leadingIconName:le,leadingIconClass:ye,leadingWrapperIconClass:J,trailingIconName:ae,trailingIconClass:$e,trailingWrapperIconClass:he,onInput:O,onChange:u}}}),vl=["id","name","value","required","disabled"],bl=["value","label"],yl=["value","selected","disabled","textContent"],hl=["value","selected","disabled","textContent"];function $l(e,l,a,o,r,s){const i=ie;return c(),f("div",{class:C(e.ui.wrapper)},[v("select",G({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:l[0]||(l[0]=(...n)=>e.onInput&&e.onInput(...n)),onChange:l[1]||(l[1]=(...n)=>e.onChange&&e.onChange(...n))}),[(c(!0),f(K,null,Z(e.normalizedOptionsWithPlaceholder,(n,d)=>(c(),f(K,null,[n.children?(c(),f("optgroup",{key:`${n[e.valueAttribute]}-optgroup-${d}`,value:n[e.valueAttribute],label:n[e.optionAttribute]},[(c(!0),f(K,null,Z(n.children,(t,g)=>(c(),f("option",{key:`${t[e.valueAttribute]}-${d}-${g}`,value:t[e.valueAttribute],selected:t[e.valueAttribute]===e.normalizedValue,disabled:t.disabled,textContent:T(t[e.optionAttribute])},null,8,yl))),128))],8,bl)):(c(),f("option",{key:`${n[e.valueAttribute]}-${d}`,value:n[e.valueAttribute],selected:n[e.valueAttribute]===e.normalizedValue,disabled:n.disabled,textContent:T(n[e.optionAttribute])},null,8,hl))],64))),256))],16,vl),e.isLeading&&e.leadingIconName||e.$slots.leading?(c(),f("span",{key:0,class:C(e.leadingWrapperIconClass)},[N(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[A(i,{name:e.leadingIconName,class:C(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):q("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(c(),f("span",{key:1,class:C(e.trailingWrapperIconClass)},[N(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[A(i,{name:e.trailingIconName,class:C(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):q("",!0)],2)}const kl=Y(pl,[["render",$l],["__scopeId","data-v-cbc9516f"]]),Cl={class:"flex justify-between items-center"},Vl={class:"flex items-center gap-2"},Il={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Sl={class:"flex items-center gap-4 mt-2"},ql=_({__name:"FieldDefinition",props:{modelValue:{}},emits:["update:modelValue","remove"],setup(e,{emit:l}){const a=e,o=l,r=$({get:()=>a.modelValue,set:d=>o("update:modelValue",d)}),s=D(r.value.options?r.value.options.join(", "):""),i=[{label:"Texto Curto",value:"text"},{label:"Texto Longo",value:"textarea"},{label:"Número",value:"number"},{label:"Data",value:"date"},{label:"Sim/Não",value:"boolean"},{label:"Seleção (Dropdown)",value:"select"},{label:"Múltipla Seleção",value:"multiselect"}],n=()=>{s.value.trim()?r.value.options=s.value.split(",").map(d=>d.trim()).filter(Boolean):r.value.options=[]};return re(()=>r.value.type,d=>{["select","multiselect"].includes(d)||(r.value.options=null,s.value="")}),(d,t)=>{const g=gl,p=ie,m=fe,O=ge,u=Re,S=kl,b=pe;return c(),x(b,{class:"mb-4 relative"},{header:B(()=>[v("div",Cl,[v("div",Vl,[A(g,{modelValue:V(r).selected,"onUpdate:modelValue":t[0]||(t[0]=y=>V(r).selected=y)},null,8,["modelValue"]),A(p,{name:"i-heroicons-bars-3",class:"cursor-move text-gray-400"}),t[7]||(t[7]=v("span",{class:"font-medium text-sm"},"Definição do Campo",-1))]),A(m,{color:"red",variant:"ghost",icon:"i-heroicons-trash",size:"xs",onClick:t[1]||(t[1]=y=>d.$emit("remove"))})])]),default:B(()=>[v("div",Il,[A(u,{label:"Nome do Campo",required:""},{default:B(()=>[A(O,{modelValue:V(r).name,"onUpdate:modelValue":t[2]||(t[2]=y=>V(r).name=y),placeholder:"ex. Ano de Lançamento"},null,8,["modelValue"])]),_:1}),A(u,{label:"Tipo do Campo",required:""},{default:B(()=>[A(S,{modelValue:V(r).type,"onUpdate:modelValue":t[3]||(t[3]=y=>V(r).type=y),options:i},null,8,["modelValue"])]),_:1}),["select","multiselect"].includes(V(r).type)?(c(),x(u,{key:0,label:"Opções (separadas por vírgula)",class:"md:col-span-2",required:""},{help:B(()=>[...t[8]||(t[8]=[v("span",{class:"text-xs text-gray-500"},"Digite as opções separadas por vírgula.",-1)])]),default:B(()=>[A(O,{modelValue:V(s),"onUpdate:modelValue":t[4]||(t[4]=y=>oe(s)?s.value=y:null),placeholder:"Opção 1, Opção 2, Opção 3",onBlur:n},null,8,["modelValue"])]),_:1})):q("",!0),v("div",Sl,[A(g,{modelValue:V(r).visible,"onUpdate:modelValue":t[5]||(t[5]=y=>V(r).visible=y),label:"Visível na Tabela"},null,8,["modelValue"]),A(g,{modelValue:V(r).required,"onUpdate:modelValue":t[6]||(t[6]=y=>V(r).required=y),label:"Obrigatório",color:"red"},null,8,["modelValue"])])])]),_:1})}}});export{Ul as _,zl as a,ql as b,gl as c,kl as d};

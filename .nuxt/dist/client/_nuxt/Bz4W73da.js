import{f as A,g as V,q,h as F,s as b,c as i,a as e,b as s,d,t as a,m as l,w as p,F as v,r as k,j as L,o as r,l as M,A as w,v as I,n as C,p as P}from"./fMH9WF-P.js";import{_ as G}from"./Bj9RiH3F.js";import{_ as K}from"./XV1S8cey.js";import{_ as Y}from"./Ccg_Gj5U.js";import{u as H}from"./BbOMdhvK.js";import"./DgaVNCIk.js";import"./BpJ0bP9P.js";import"./BF8qsuGU.js";const J={class:"flex flex-col md:flex-row justify-between items-end mb-10 gap-4"},O={class:"text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white mb-2"},Q={class:"text-primary-500"},R={class:"space-y-8"},W={class:"text-lg font-semibold mb-4 flex items-center gap-2"},X={key:0,class:"flex justify-center py-8"},Z={key:1,class:"text-center py-8 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-lg"},ee={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},te={class:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity z-10"},oe={class:"p-4 flex flex-col h-full"},se={class:"w-12 h-12 rounded-xl bg-primary-50 dark:bg-primary-900/50 flex items-center justify-center text-primary-500 mb-4 group-hover:scale-110 transition-transform duration-300"},re={class:"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-1 group-hover:text-primary-500 transition-colors"},ie={class:"text-gray-500 dark:text-gray-400 text-sm line-clamp-2 mb-4 flex-1"},ae={class:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800"},ne={class:"text-xs text-gray-400 font-mono"},le={class:"text-lg font-semibold mb-4 flex items-center gap-2 text-purple-600 dark:text-purple-400"},ce={key:0,class:"text-sm text-gray-400"},de={key:1,class:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg"},pe={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ge={class:"p-4 flex flex-col h-full"},me={class:"flex justify-between items-start mb-3"},_e={class:"w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400"},ue={class:"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-purple-500 transition-colors"},xe={class:"text-gray-500 text-sm line-clamp-2 mb-4 flex-1"},he={class:"flex items-center gap-2 pt-3 border-t border-gray-100 dark:border-gray-800"},ye={class:"flex flex-col"},fe={class:"text-xs font-medium text-gray-700 dark:text-gray-300"},Be=A({__name:"index",async setup(be){let g,m;const{user:j}=V(),_=q(),{data:u,pending:S,refresh:U}=([g,m]=F(()=>H("/api/collections","$wSvT53YUKM")),g=await g,m(),g),x=b([]),$=b(!1),B=n=>[[{label:"Editar",icon:"i-heroicons-pencil-square",click:()=>C(`/collections/${n.id}/edit`)}],[{label:"Excluir",icon:"i-heroicons-trash",click:()=>D(n.id)}]],h=n=>{C(`/collections/${n}`)},D=async n=>{if(confirm("Tem certeza que deseja excluir esta coleção e todos os seus itens?"))try{await $fetch(`/api/collections/${n}`,{method:"DELETE"}),_.add({title:"Sucesso",description:"Coleção excluída",color:"green"}),U()}catch(t){_.add({title:"Erro",description:t.message,color:"red"})}};return(n,t)=>{const y=L,c=M,E=G,T=K,f=Y,z=P;return r(),i("div",null,[e("div",J,[e("div",null,[e("h1",O,[t[1]||(t[1]=d(" Bem-vindo, ",-1)),e("span",Q,a(l(j)?.name?.split(" ")[0]),1)]),t[2]||(t[2]=e("p",{class:"text-gray-500 dark:text-gray-400"},"Gerencie suas coleções ou descubra novidades.",-1))]),s(y,{to:"/collections/new",icon:"i-heroicons-plus",size:"lg",class:"shadow-lg shadow-primary-500/20 hover:scale-105 transition-transform"},{default:p(()=>[...t[3]||(t[3]=[d(" Nova Coleção ",-1)])]),_:1})]),e("div",R,[e("section",null,[e("h2",W,[s(c,{name:"i-heroicons-user"}),t[4]||(t[4]=d(" Minhas Coleções ",-1))]),l(S)?(r(),i("div",X,[s(c,{name:"i-heroicons-arrow-path",class:"w-8 h-8 animate-spin text-gray-400"})])):l(u)?.length?(r(),i("div",ee,[(r(!0),i(v,null,k(l(u),o=>(r(),w(f,{key:o.id,class:"group cursor-pointer border-0 ring-1 ring-gray-200 dark:ring-gray-800 shadow-sm hover:shadow-xl hover:ring-primary-500/50 dark:hover:ring-primary-500/50 transition-all duration-300 transform hover:-translate-y-1 bg-white dark:bg-gray-900 overflow-hidden",onClick:N=>h(o.id)},{default:p(()=>[e("div",te,[s(E,{items:B(o),onClick:t[0]||(t[0]=I(()=>{},["stop"]))},{default:p(()=>[s(y,{color:"gray",variant:"soft",icon:"i-heroicons-ellipsis-vertical",size:"xs"})]),_:1},8,["items"])]),e("div",oe,[e("div",se,[s(c,{name:"i-heroicons-folder",class:"w-7 h-7"})]),e("h3",re,a(o.name),1),e("p",ie,a(o.description||"Sem descrição definida."),1),e("div",ae,[e("span",ne,a(new Date(o.created_at).toLocaleDateString()),1),s(T,{size:"xs",variant:"subtle",color:o.visibility==="public"?"green":o.visibility==="shared"?"purple":"gray"},{default:p(()=>[d(a(o.visibility==="public"?"Público":o.visibility==="shared"?"Compartilahdo":"Privado"),1)]),_:2},1032,["color"])])])]),_:2},1032,["onClick"]))),128))])):(r(),i("div",Z,[...t[5]||(t[5]=[e("p",{class:"text-gray-500"},"Você não tem coleções criadas.",-1)])]))]),e("section",null,[e("h2",le,[s(c,{name:"i-heroicons-users"}),t[6]||(t[6]=d(" Compartilhado Comigo ",-1))]),l($)?(r(),i("div",ce,"Carregando compartilhamentos...")):l(x)?.length===0?(r(),i("div",de,[...t[7]||(t[7]=[e("p",{class:"text-gray-500 text-sm"},"Ninguém compartilhou coleções com você ainda.",-1)])])):(r(),i("div",pe,[(r(!0),i(v,null,k(l(x),o=>(r(),w(f,{key:o.collection.id,class:"group cursor-pointer border-0 ring-1 ring-purple-100 dark:ring-purple-900/30 shadow-sm hover:shadow-purple-500/20 hover:ring-purple-500/50 transition-all duration-300 transform hover:-translate-y-1 bg-white dark:bg-gray-900",onClick:N=>h(o.collection.id)},{default:p(()=>[e("div",ge,[e("div",me,[e("div",_e,[s(c,{name:"i-heroicons-folder-open",class:"w-6 h-6"})]),s(c,{name:"i-heroicons-eye",class:"text-gray-300 group-hover:text-purple-500 transition-colors"})]),e("h3",ue,a(o.collection.name),1),e("p",xe,a(o.collection.description||"Sem descrição"),1),e("div",he,[s(z,{src:o.collection.owner?.avatar_url,size:"xs",class:"ring-2 ring-white dark:ring-gray-900"},null,8,["src"]),e("div",ye,[t[8]||(t[8]=e("span",{class:"text-[10px] text-gray-400 uppercase tracking-wider font-semibold"},"Compartilhado por",-1)),e("span",fe,a(o.collection.owner?.full_name||"Desconhecido"),1)])])])]),_:2},1032,["onClick"]))),128))]))])])])}}});export{Be as default};

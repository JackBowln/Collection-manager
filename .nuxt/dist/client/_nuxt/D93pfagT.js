import{_ as V,a as U}from"./BCpvTb5o.js";import{f as C,g as E,i as B,r as m,j as N,c as S,b as t,w as a,o as L,a as s,k as T,l as x,m as c,p as j,d as l,e as G,n as v}from"./BgoPae_m.js";import{_ as I}from"./BSzSwfWJ.js";import{u as q}from"./BrtmVOS2.js";const O={class:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900"},W={class:"text-sm text-center text-gray-500"},P=C({__name:"login",setup($){const p=q(),b=E(),i=B(),n=m(""),r=m(""),d=m(!1);N(()=>{b.value&&v("/dashboard")});const w=async()=>{try{d.value=!0;const{error:o}=await p.auth.signInWithPassword({email:n.value,password:r.value});if(o)throw o;i.add({title:"Sucesso",description:"Login realizado com sucesso",color:"green"}),v("/dashboard")}catch(o){i.add({title:"Error",description:o.message,color:"red"})}finally{d.value=!1}},y=async()=>{const{error:o}=await p.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/confirm`}});o&&i.add({title:"Error",description:o.message,color:"red"})};return(o,e)=>{const f=U,_=V,g=j,h=G,k=I;return L(),S("div",O,[t(k,{class:"w-full max-w-md"},{header:a(()=>[...e[2]||(e[2]=[s("h1",{class:"text-xl font-bold text-center"},"Bem-vindo de volta",-1)])]),footer:a(()=>[s("p",W,[e[6]||(e[6]=l(" NÃ£o tem uma conta? ",-1)),t(h,{to:"/register",class:"text-primary-600 hover:underline"},{default:a(()=>[...e[5]||(e[5]=[l("Cadastre-se",-1)])]),_:1})])]),default:a(()=>[s("form",{onSubmit:T(w,["prevent"]),class:"space-y-4"},[t(_,{label:"E-mail",name:"email"},{default:a(()=>[t(f,{modelValue:c(n),"onUpdate:modelValue":e[0]||(e[0]=u=>x(n)?n.value=u:null),type:"email",placeholder:"seu@email.com",required:""},null,8,["modelValue"])]),_:1}),t(_,{label:"Senha",name:"password"},{default:a(()=>[t(f,{modelValue:c(r),"onUpdate:modelValue":e[1]||(e[1]=u=>x(r)?r.value=u:null),type:"password",required:""},null,8,["modelValue"])]),_:1}),t(g,{type:"submit",block:"",loading:c(d)},{default:a(()=>[...e[3]||(e[3]=[l("Entrar",-1)])]),_:1},8,["loading"])],32),e[7]||(e[7]=s("div",{class:"relative my-6"},[s("div",{class:"absolute inset-0 flex items-center"},[s("span",{class:"w-full border-t"})]),s("div",{class:"relative flex justify-center text-sm"},[s("span",{class:"px-2 bg-white dark:bg-gray-800 text-gray-500"},"Ou continue com")])],-1)),t(g,{block:"",color:"white",variant:"solid",icon:"i-logos-google-icon",onClick:y},{default:a(()=>[...e[4]||(e[4]=[l(" Google ",-1)])]),_:1})]),_:1})])}}});export{P as default};

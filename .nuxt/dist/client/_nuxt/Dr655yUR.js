import{_ as Q,f as E,c,o as u,a as v,S as q,U as G,D as V,W as H,X as W,Y as U,s as D,a0 as Ce,B as ue,k as re,G as $,ae as ee,a4 as R,$ as S,ai as Ve,aj as Ie,L as Se,z as B,ak as ce,al as Ae,d as _,t as N,a7 as me,M as we,F as K,r as Z,A as x,a5 as Oe,w,a9 as L,P as Be,q as ze,b as I,m as h,x as oe,am as Ue,j as fe,p as je,an as qe,l as ie,ac as Ne,ag as Te}from"./fMH9WF-P.js";import{u as X,a as ge,_ as Re}from"./B7Xsw2Wk.js";import{_ as pe}from"./Ccg_Gj5U.js";const Fe={wrapper:"relative flex items-start",fieldset:"",legend:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",default:{color:"primary"}},ve={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-radio",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},Me={wrapper:"relative flex items-start",container:"flex items-center h-5",base:"h-4 w-4 dark:checked:bg-current dark:checked:border-transparent dark:indeterminate:bg-current dark:indeterminate:border-transparent disabled:opacity-50 disabled:cursor-not-allowed focus:ring-0 focus:ring-transparent focus:ring-offset-transparent",form:"form-checkbox",rounded:"rounded",color:"text-{color}-500 dark:text-{color}-400",background:"bg-white dark:bg-gray-900",border:"border border-gray-300 dark:border-gray-700",ring:"focus-visible:ring-2 focus-visible:ring-{color}-500 dark:focus-visible:ring-{color}-400 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",inner:"ms-3 flex flex-col",label:"text-sm font-medium text-gray-700 dark:text-gray-200",required:"text-sm text-red-500 dark:text-red-400",help:"text-sm text-gray-500 dark:text-gray-400",default:{color:"primary"}},T=H(S.ui.strategy,S.ui.textarea,Ve),De=E({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(T.size).includes(e)}},color:{type:String,default:()=>T.default.color,validator(e){return[...S.ui.colors,...Object.keys(T.color)].includes(e)}},variant:{type:String,default:()=>T.default.variant,validator(e){return[...Object.keys(T.variant),...Object.values(T.color).flatMap(t=>Object.keys(t))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:t}){const{ui:n,attrs:o}=W("textarea",U(e,"ui"),T,U(e,"class")),{emitFormBlur:i,emitFormInput:d,inputId:s,color:a,size:f,name:l}=X(e,T),g=D(Ce({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),p=D(null),m=()=>{e.autofocus&&p.value?.focus()},O=()=>{if(e.autoresize){if(!p.value)return;p.value.rows=e.rows;const b=p.value.style.overflow;p.value.style.overflow="hidden";const z=window.getComputedStyle(p.value),A=Number.parseInt(z.paddingTop),M=Number.parseInt(z.paddingBottom),Y=A+M,ae=Number.parseInt(z.lineHeight),{scrollHeight:le}=p.value,J=(le-Y)/ae;J>e.rows&&(p.value.rows=e.maxrows?Math.min(J,e.maxrows):J),p.value.style.overflow=b}},r=b=>{g.value.trim&&(b=b.trim()),g.value.number&&(b=Ie(b)),g.value.nullify&&(b||=null),t("update:modelValue",b),d()},k=b=>{O(),g.value.lazy||r(b.target.value)},F=b=>{const z=b.target.value;t("change",z),g.value.lazy&&r(z),g.value.trim&&(b.target.value=z.trim())},y=b=>{t("blur",b),i()};ue(()=>{setTimeout(()=>{m()},e.autofocusDelay)}),re(()=>e.modelValue,()=>{Se(O)}),ue(()=>{setTimeout(()=>{m(),O()},100)});const P=$(()=>{const b=n.value.color?.[a.value]?.[e.variant]||n.value.variant[e.variant];return ee(R(n.value.base,n.value.form,n.value.rounded,n.value.placeholder,n.value.size[f.value],e.padded?n.value.padding[f.value]:"p-0",b?.replaceAll("{color}",a.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:n,attrs:o,name:l,inputId:s,textarea:p,textareaClass:P,onInput:k,onChange:F,onBlur:y}}}),Ge=["id","value","name","rows","required","disabled","placeholder"];function Ee(e,t,n,o,i,d){return u(),c("div",{class:V(e.ui.wrapper)},[v("textarea",G({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:t[0]||(t[0]=(...s)=>e.onInput&&e.onInput(...s)),onBlur:t[1]||(t[1]=(...s)=>e.onBlur&&e.onBlur(...s)),onChange:t[2]||(t[2]=(...s)=>e.onChange&&e.onChange(...s))}),null,16,Ge),q(e.$slots,"default")],2)}const Ba=Q(De,[["render",Ee]]),te=H(S.ui.strategy,S.ui.radio,ve),Pe=E({inheritAttrs:!1,props:{id:{type:String,default:null},value:{type:[String,Number,Boolean],default:null},modelValue:{type:[String,Number,Boolean,Object],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>te.default.color,validator(e){return S.ui.colors.includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:o}=W("radio",U(e,"ui"),te,U(e,"class")),i=e.id??me(),d=we("radio-group",null),{emitFormChange:s,color:a,name:f}=d??X(e,te),l=$({get(){return e.modelValue},set(m){t("update:modelValue",m),d||s()}});function g(m){t("change",m.target.value)}const p=$(()=>ee(R(n.value.base,n.value.form,n.value.background,n.value.border,a.value&&n.value.ring.replaceAll("{color}",a.value),a.value&&n.value.color.replaceAll("{color}",a.value)),e.inputClass));return{inputId:i,ui:n,attrs:o,pick:l,name:f,inputClass:p,onChange:g}}}),Le=["data-n-ids"],We=["id","name","required","value","disabled"],_e=["for"];function He(e,t,n,o,i,d){return u(),c("div",{class:V(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[v("div",{class:V(e.ui.container)},[ce(v("input",G({id:e.inputId,"onUpdate:modelValue":t[0]||(t[0]=s=>e.pick=s),name:e.name,required:e.required,value:e.value,disabled:e.disabled,type:"radio",class:e.inputClass},e.attrs,{onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))}),null,16,We),[[Ae,e.pick]])],2),e.label||e.$slots.label?(u(),c("div",{key:0,class:V(e.ui.inner)},[v("label",{for:e.inputId,class:V(e.ui.label)},[q(e.$slots,"label",{label:e.label},()=>[_(N(e.label),1)]),e.required?(u(),c("span",{key:0,class:V(e.ui.required)},"*",2)):B("",!0)],10,_e),e.help||e.$slots.help?(u(),c("p",{key:0,class:V(e.ui.help)},[q(e.$slots,"help",{help:e.help},()=>[_(N(e.help),1)])],2)):B("",!0)],2)):B("",!0)],10,Le)}const be=Q(Pe,[["render",He]]),ne=H(S.ui.strategy,S.ui.radioGroup,Fe),Je=H(S.ui.strategy,S.ui.radio,ve),Ke=E({components:{URadio:be},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Boolean],default:""},name:{type:String,default:null},legend:{type:String,default:null},options:{type:Array,default:()=>[]},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},disabled:{type:Boolean,default:!1},color:{type:String,default:()=>ne.default.color,validator(e){return S.ui.colors.includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},uiRadio:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:o}=W("radioGroup",U(e,"ui"),ne,U(e,"class")),{ui:i}=W("radio",U(e,"uiRadio"),Je),{emitFormChange:d,color:s,name:a}=X(e,ne,!1);Be("radio-group",{color:s,name:a});const f=r=>{t("update:modelValue",r),t("change",r),d()},l=r=>L(r,e.valueAttribute,L(r,e.optionAttribute)),g=r=>L(r,e.optionAttribute,L(r,e.valueAttribute)),p=r=>e.modelValue===l(r),m=r=>["string","number","boolean"].includes(typeof r)?{value:r,label:r}:{...r,value:l(r),label:g(r),selected:p(r)},O=$(()=>e.options.map(r=>m(r)));return{ui:n,uiRadio:i,attrs:o,normalizedOptions:O,onUpdate:f}}});function Qe(e,t,n,o,i,d){const s=be;return u(),c("div",{class:V(e.ui.wrapper)},[v("fieldset",G(e.attrs,{class:e.ui.fieldset}),[e.legend||e.$slots.legend?(u(),c("legend",{key:0,class:V(e.ui.legend)},[q(e.$slots,"legend",{},()=>[_(N(e.legend),1)])],2)):B("",!0),(u(!0),c(K,null,Z(e.normalizedOptions,a=>(u(),x(s,{key:a.value,label:a.label,"model-value":e.modelValue,value:a.value,help:a.help,disabled:a.disabled||e.disabled,ui:e.uiRadio,onChange:f=>e.onUpdate(a.value)},Oe({_:2},[e.$slots.label?{name:"label",fn:w(()=>[q(e.$slots,"label",G({ref_for:!0},{option:a,selected:a.selected}))]),key:"0"}:void 0,e.$slots.help?{name:"help",fn:w(()=>[q(e.$slots,"help",G({ref_for:!0},{option:a,selected:a.selected}))]),key:"1"}:void 0]),1032,["label","model-value","value","help","disabled","ui","onChange"]))),128))],16)],2)}const Xe=Q(Ke,[["render",Qe]]),Ye={class:"space-y-6"},Ze={class:"space-y-4"},xe={class:"space-y-4"},ea={class:"flex gap-2"},aa={key:0,class:"text-gray-500 text-sm italic"},la={key:1,class:"space-y-2"},ta={class:"flex items-center gap-2"},na={class:"text-sm"},oa={class:"font-medium"},ra={class:"text-xs text-gray-500"},za=E({__name:"CollectionAccessControl",props:{modelValue:{},collectionId:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,i=ze(),d=$({get:()=>n.modelValue,set:r=>o("update:modelValue",r)}),s=[{value:"private",label:"Privado (Apenas eu)"},{value:"shared",label:"Compartilhado (Usuários específicos)"},{value:"public",label:'Público (Qualquer pessoa pode ver na aba "Explorar")'}],a=D(""),f=D(!1),l=D(!1),g=D([]),p=async()=>{if(n.collectionId)try{const r=await $fetch(`/api/collections/${n.collectionId}/shares`);g.value=r}catch(r){console.error("Error loading shares:",r)}};re(()=>n.collectionId,p,{immediate:!0});const m=async()=>{if(!(!a.value||!n.collectionId)){l.value=!0;try{await $fetch(`/api/collections/${n.collectionId}/shares`,{method:"POST",body:{email:a.value}}),i.add({title:"Adicionado",color:"green"}),a.value="",p()}catch(r){const k=r.statusCode===404?"Usuário não encontrado":r.statusCode===409?"Já compartilhado":r.message;i.add({title:"Erro",description:k,color:"red"})}finally{l.value=!1}}},O=async r=>{if(confirm("Remover acesso para este usuário?"))try{await $fetch(`/api/collections/${n.collectionId}/shares/${r}`,{method:"DELETE"}),p()}catch(k){i.add({title:"Erro",description:k.message,color:"red"})}};return(r,k)=>{const F=Xe,y=pe,P=ge,b=fe,z=je;return u(),c("div",Ye,[I(y,null,{header:w(()=>[...k[2]||(k[2]=[v("h3",{class:"font-semibold"},"Configurações de Visibilidade",-1)])]),default:w(()=>[v("div",Ze,[I(F,{modelValue:h(d),"onUpdate:modelValue":k[0]||(k[0]=A=>oe(d)?d.value=A:null),options:s,legend:"Quem pode ver esta coleção?"},null,8,["modelValue"])])]),_:1}),h(d)==="shared"?(u(),x(y,{key:0},{header:w(()=>[...k[3]||(k[3]=[v("h3",{class:"font-semibold"},"Compartilhado com",-1)])]),default:w(()=>[v("div",xe,[v("div",ea,[I(P,{modelValue:h(a),"onUpdate:modelValue":k[1]||(k[1]=A=>oe(a)?a.value=A:null),placeholder:"Digite o e-mail do usuário...",class:"flex-1",loading:h(f),onKeyup:Ue(m,["enter"])},null,8,["modelValue","loading"]),I(b,{icon:"i-heroicons-paper-airplane",onClick:m,loading:h(l)},{default:w(()=>[...k[4]||(k[4]=[_("Adicionar",-1)])]),_:1},8,["loading"])]),h(g).length===0?(u(),c("div",aa," Não compartilhado com ninguém ainda. ")):(u(),c("div",la,[(u(!0),c(K,null,Z(h(g),A=>(u(),c("div",{key:A.id,class:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-2 rounded"},[v("div",ta,[I(z,{src:A.profiles?.avatar_url,alt:A.profiles?.full_name,size:"xs"},null,8,["src","alt"]),v("div",na,[v("div",oa,N(A.profiles?.full_name||"Unknown"),1),v("div",ra,N(A.profiles?.email),1)])]),I(b,{icon:"i-heroicons-trash",color:"red",variant:"ghost",size:"xs",onClick:M=>O(A.id)},null,8,["onClick"])]))),128))]))])]),_:1})):B("",!0)])}}}),ia=me,de=H(S.ui.strategy,S.ui.checkbox,Me),sa=E({inheritAttrs:!1,props:{id:{type:String,default:()=>null},value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:void 0},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>de.default.color,validator(e){return S.ui.colors.includes(e)}},inputClass:{type:String,default:""},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t}){const{ui:n,attrs:o}=W("checkbox",U(e,"ui"),de,U(e,"class")),{emitFormChange:i,color:d,name:s,inputId:a}=X(e),f=a.value??ia(),l=$({get(){return e.modelValue},set(m){t("update:modelValue",m)}}),g=m=>{t("change",m.target.checked),i()},p=$(()=>ee(R(n.value.base,n.value.form,n.value.rounded,n.value.background,n.value.border,d.value&&n.value.ring.replaceAll("{color}",d.value),d.value&&n.value.color.replaceAll("{color}",d.value)),e.inputClass));return{ui:n,attrs:o,toggle:l,inputId:f,name:s,inputClass:p,onChange:g}}}),ua=["data-n-ids"],da=["id","name","required","value","disabled","indeterminate"],ca=["for"];function ma(e,t,n,o,i,d){return u(),c("div",{class:V(e.ui.wrapper),"data-n-ids":e.attrs["data-n-ids"]},[v("div",{class:V(e.ui.container)},[ce(v("input",G({id:e.inputId,"onUpdate:modelValue":t[0]||(t[0]=s=>e.toggle=s),name:e.name,required:e.required,value:e.value,disabled:e.disabled,indeterminate:e.indeterminate,type:"checkbox",class:e.inputClass},e.attrs,{onChange:t[1]||(t[1]=(...s)=>e.onChange&&e.onChange(...s))}),null,16,da),[[qe,e.toggle]])],2),e.label||e.$slots.label?(u(),c("div",{key:0,class:V(e.ui.inner)},[v("label",{for:e.inputId,class:V(e.ui.label)},[q(e.$slots,"label",{label:e.label},()=>[_(N(e.label),1)]),e.required?(u(),c("span",{key:0,class:V(e.ui.required)},"*",2)):B("",!0)],10,ca),e.help||e.$slots.help?(u(),c("p",{key:0,class:V(e.ui.help)},[q(e.$slots,"help",{help:e.help},()=>[_(N(e.help),1)])],2)):B("",!0)],2)):B("",!0)],10,ua)}const fa=Q(sa,[["render",ma]]),j=H(S.ui.strategy,S.ui.select,Te),ga=E({components:{UIcon:ie},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>j.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:()=>j.default.trailingIcon},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},size:{type:String,default:null,validator(e){return Object.keys(j.size).includes(e)}},color:{type:String,default:()=>j.default.color,validator(e){return[...S.ui.colors,...Object.keys(j.color)].includes(e)}},variant:{type:String,default:()=>j.default.variant,validator(e){return[...Object.keys(j.variant),...Object.values(j.color).flatMap(t=>Object.keys(t))].includes(e)}},optionAttribute:{type:String,default:"label"},valueAttribute:{type:String,default:"value"},selectClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","change"],setup(e,{emit:t,slots:n}){const{ui:o,attrs:i}=W("select",U(e,"ui"),j,U(e,"class")),{size:d,rounded:s}=Ne({ui:o,props:e}),{emitFormChange:a,inputId:f,color:l,size:g,name:p}=X(e,j),m=$(()=>d.value??g.value),O=C=>{t("update:modelValue",C.target.value)},r=C=>{t("change",C.target.value),a()},k=C=>L(C,e.valueAttribute,""),F=C=>L(C,e.optionAttribute,""),y=C=>["string","number","boolean"].includes(typeof C)?{[e.valueAttribute]:C,[e.optionAttribute]:C}:{...C,[e.valueAttribute]:k(C),[e.optionAttribute]:F(C)},P=$(()=>e.options.map(C=>y(C))),b=$(()=>e.placeholder?[{[e.valueAttribute]:"",[e.optionAttribute]:e.placeholder,disabled:!0},...P.value]:P.value),z=$(()=>{const C=y(e.modelValue),se=b.value.find(ke=>ke[e.valueAttribute]===C[e.valueAttribute]);return se?se[e.valueAttribute]:""}),A=$(()=>{const C=o.value.color?.[l.value]?.[e.variant]||o.value.variant[e.variant];return ee(R(o.value.base,o.value.form,s.value,o.value.size[m.value],e.padded?o.value.padding[m.value]:"p-0",C?.replaceAll("{color}",l.value),(M.value||n.leading)&&o.value.leading.padding[m.value],(Y.value||n.trailing)&&o.value.trailing.padding[m.value]),e.placeholder&&!e.modelValue&&o.value.placeholder,e.selectClass)}),M=$(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),Y=$(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),ae=$(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),le=$(()=>e.loading&&!M.value?e.loadingIcon:e.trailingIcon||e.icon),J=$(()=>R(o.value.icon.leading.wrapper,o.value.icon.leading.pointer,o.value.icon.leading.padding[m.value])),ye=$(()=>R(o.value.icon.base,l.value&&S.ui.colors.includes(l.value)&&o.value.icon.color.replaceAll("{color}",l.value),o.value.icon.size[m.value],e.loading&&o.value.icon.loading)),he=$(()=>R(o.value.icon.trailing.wrapper,o.value.icon.trailing.pointer,o.value.icon.trailing.padding[m.value])),$e=$(()=>R(o.value.icon.base,l.value&&S.ui.colors.includes(l.value)&&o.value.icon.color.replaceAll("{color}",l.value),o.value.icon.size[m.value],e.loading&&!M.value&&o.value.icon.loading));return{ui:o,attrs:i,name:p,inputId:f,normalizedOptionsWithPlaceholder:b,normalizedValue:z,isLeading:M,isTrailing:Y,selectClass:A,leadingIconName:ae,leadingIconClass:ye,leadingWrapperIconClass:J,trailingIconName:le,trailingIconClass:$e,trailingWrapperIconClass:he,onInput:O,onChange:r}}}),pa=["id","name","value","required","disabled"],va=["value","label"],ba=["value","selected","disabled","textContent"],ya=["value","selected","disabled","textContent"];function ha(e,t,n,o,i,d){const s=ie;return u(),c("div",{class:V(e.ui.wrapper)},[v("select",G({id:e.inputId,name:e.name,value:e.modelValue,required:e.required,disabled:e.disabled,class:e.selectClass},e.attrs,{onInput:t[0]||(t[0]=(...a)=>e.onInput&&e.onInput(...a)),onChange:t[1]||(t[1]=(...a)=>e.onChange&&e.onChange(...a))}),[(u(!0),c(K,null,Z(e.normalizedOptionsWithPlaceholder,(a,f)=>(u(),c(K,null,[a.children?(u(),c("optgroup",{key:`${a[e.valueAttribute]}-optgroup-${f}`,value:a[e.valueAttribute],label:a[e.optionAttribute]},[(u(!0),c(K,null,Z(a.children,(l,g)=>(u(),c("option",{key:`${l[e.valueAttribute]}-${f}-${g}`,value:l[e.valueAttribute],selected:l[e.valueAttribute]===e.normalizedValue,disabled:l.disabled,textContent:N(l[e.optionAttribute])},null,8,ba))),128))],8,va)):(u(),c("option",{key:`${a[e.valueAttribute]}-${f}`,value:a[e.valueAttribute],selected:a[e.valueAttribute]===e.normalizedValue,disabled:a.disabled,textContent:N(a[e.optionAttribute])},null,8,ya))],64))),256))],16,pa),e.isLeading&&e.leadingIconName||e.$slots.leading?(u(),c("span",{key:0,class:V(e.leadingWrapperIconClass)},[q(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[I(s,{name:e.leadingIconName,class:V(e.leadingIconClass)},null,8,["name","class"])],!0)],2)):B("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(u(),c("span",{key:1,class:V(e.trailingWrapperIconClass)},[q(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[I(s,{name:e.trailingIconName,class:V(e.trailingIconClass),"aria-hidden":"true"},null,8,["name","class"])],!0)],2)):B("",!0)],2)}const $a=Q(ga,[["render",ha],["__scopeId","data-v-cbc9516f"]]),ka={class:"flex justify-between items-center"},Ca={class:"flex items-center gap-2"},Va={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ia={key:0,class:"md:col-span-2 space-y-3"},Sa={class:"flex items-center gap-4 mt-2"},Ua=E({__name:"FieldDefinition",props:{modelValue:{}},emits:["update:modelValue","remove"],setup(e,{emit:t}){const n=e,o=t,i=$({get:()=>n.modelValue,set:f=>o("update:modelValue",f)}),d=D(Array.isArray(i.value.options)?i.value.options.join(", "):""),s=[{label:"Texto Curto",value:"text"},{label:"Texto Longo",value:"textarea"},{label:"Número",value:"number"},{label:"Data",value:"date"},{label:"Sim/Não",value:"boolean"},{label:"Seleção (Dropdown)",value:"select"},{label:"Múltipla Seleção",value:"multiselect"}],a=()=>{d.value.trim()?i.value.options=d.value.split(",").map(f=>f.trim()).filter(Boolean):i.value.options=[]};return re(()=>i.value.type,f=>{["select","multiselect"].includes(f)||(i.value.options=null,i.value.is_dynamic=!1,d.value="")}),(f,l)=>{const g=fa,p=ie,m=fe,O=ge,r=Re,k=$a,F=pe;return u(),x(F,{class:"mb-4 relative"},{header:w(()=>[v("div",ka,[v("div",Ca,[I(g,{modelValue:h(i).selected,"onUpdate:modelValue":l[0]||(l[0]=y=>h(i).selected=y)},null,8,["modelValue"]),I(p,{name:"i-heroicons-bars-3",class:"cursor-move text-gray-400"}),l[8]||(l[8]=v("span",{class:"font-medium text-sm"},"Definição do Campo",-1))]),I(m,{color:"red",variant:"ghost",icon:"i-heroicons-trash",size:"xs",onClick:l[1]||(l[1]=y=>f.$emit("remove"))})])]),default:w(()=>[v("div",Va,[I(r,{label:"Nome do Campo",required:""},{default:w(()=>[I(O,{modelValue:h(i).name,"onUpdate:modelValue":l[2]||(l[2]=y=>h(i).name=y),placeholder:"ex. Ano de Lançamento"},null,8,["modelValue"])]),_:1}),I(r,{label:"Tipo do Campo",required:""},{default:w(()=>[I(k,{modelValue:h(i).type,"onUpdate:modelValue":l[3]||(l[3]=y=>h(i).type=y),options:s},null,8,["modelValue"])]),_:1}),["select","multiselect"].includes(h(i).type)?(u(),c("div",Ia,[I(g,{modelValue:h(i).is_dynamic,"onUpdate:modelValue":l[4]||(l[4]=y=>h(i).is_dynamic=y),label:"Preencher opções automaticamente com valores existentes no banco",help:"Se marcado, as opções serão carregadas dos itens já cadastrados nesta coleção."},null,8,["modelValue"]),h(i).is_dynamic?B("",!0):(u(),x(r,{key:0,label:"Opções (separadas por vírgula)",required:""},{help:w(()=>[...l[9]||(l[9]=[v("span",{class:"text-xs text-gray-500"},"Digite as opções separadas por vírgula.",-1)])]),default:w(()=>[I(O,{modelValue:h(d),"onUpdate:modelValue":l[5]||(l[5]=y=>oe(d)?d.value=y:null),placeholder:"Opção 1, Opção 2, Opção 3",onBlur:a},null,8,["modelValue"])]),_:1}))])):B("",!0),v("div",Sa,[I(g,{modelValue:h(i).visible,"onUpdate:modelValue":l[6]||(l[6]=y=>h(i).visible=y),label:"Visível na Tabela"},null,8,["modelValue"]),I(g,{modelValue:h(i).required,"onUpdate:modelValue":l[7]||(l[7]=y=>h(i).required=y),label:"Obrigatório",color:"red"},null,8,["modelValue"])])])]),_:1})}}});export{za as _,Ba as a,Ua as b,fa as c,$a as d};

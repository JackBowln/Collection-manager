{"version":3,"file":"login-DHWlol1x.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900\">\r\n    <UCard class=\"w-full max-w-md\">\r\n      <template #header>\r\n        <h1 class=\"text-xl font-bold text-center\">Bem-vindo de volta</h1>\r\n      </template>\r\n\r\n      <form @submit.prevent=\"handleLogin\" class=\"space-y-4\">\r\n        <UFormGroup label=\"E-mail\" name=\"email\">\r\n          <UInput v-model=\"email\" type=\"email\" placeholder=\"seu@email.com\" required />\r\n        </UFormGroup>\r\n\r\n        <UFormGroup label=\"Senha\" name=\"password\">\r\n          <UInput v-model=\"password\" type=\"password\" required />\r\n        </UFormGroup>\r\n\r\n        <UButton type=\"submit\" block :loading=\"loading\">Entrar</UButton>\r\n      </form>\r\n\r\n      <div class=\"relative my-6\">\r\n        <div class=\"absolute inset-0 flex items-center\">\r\n          <span class=\"w-full border-t\" />\r\n        </div>\r\n        <div class=\"relative flex justify-center text-sm\">\r\n          <span class=\"px-2 bg-white dark:bg-gray-800 text-gray-500\">Ou continue com</span>\r\n        </div>\r\n      </div>\r\n\r\n      <UButton\r\n        block\r\n        color=\"white\"\r\n        variant=\"solid\"\r\n        icon=\"i-logos-google-icon\"\r\n        @click=\"handleGoogleLogin\"\r\n      >\r\n        Google\r\n      </UButton>\r\n\r\n      <template #footer>\r\n        <p class=\"text-sm text-center text-gray-500\">\r\n          NÃ£o tem uma conta?\r\n          <NuxtLink to=\"/register\" class=\"text-primary-600 hover:underline\">Cadastre-se</NuxtLink>\r\n        </p>\r\n      </template>\r\n    </UCard>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nconst supabase = useSupabaseClient()\r\nconst user = useSupabaseUser()\r\nconst toast = useToast()\r\n\r\nconst email = ref('')\r\nconst password = ref('')\r\nconst loading = ref(false)\r\n\r\n// Redirect if already logged in\r\nwatchEffect(() => {\r\n  if (user.value) {\r\n    navigateTo('/dashboard')\r\n  }\r\n})\r\n\r\nconst handleLogin = async () => {\r\n  try {\r\n    loading.value = true\r\n    const { error } = await supabase.auth.signInWithPassword({\r\n      email: email.value,\r\n      password: password.value,\r\n    })\r\n    if (error) throw error\r\n    toast.add({ title: 'Sucesso', description: 'Login realizado com sucesso', color: 'green' })\r\n    navigateTo('/dashboard')\r\n  } catch (error: any) {\r\n    toast.add({ title: 'Error', description: error.message, color: 'red' })\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\nconst handleGoogleLogin = async () => {\r\n  const { error } = await supabase.auth.signInWithOAuth({\r\n    provider: 'google',\r\n    options: {\r\n      redirectTo: `${window.location.origin}/confirm`, // We'll create this page\r\n    }\r\n  })\r\n  if (error) {\r\n    toast.add({ title: 'Error', description: error.message, color: 'red' })\r\n  }\r\n}\r\n</script>\r\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrRenderComponent","_push","_parent","_createVNode","_","_scopeId","_unref"],"mappings":"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"}
{"version":3,"file":"index-D2GCUBgu.js","sources":["../../../../pages/dashboard/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- Hero Section -->\r\n    <div class=\"flex flex-col md:flex-row justify-between items-end mb-10 gap-4\">\r\n      <div>\r\n        <h1 class=\"text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white mb-2\">\r\n          Bem-vindo, <span class=\"text-primary-500\">{{ (user as any)?.name?.split(' ')[0] }}</span>\r\n        </h1>\r\n        <p class=\"text-gray-500 dark:text-gray-400\">Gerencie suas coleções ou descubra novidades.</p>\r\n      </div>\r\n      <UButton to=\"/collections/new\" icon=\"i-heroicons-plus\" size=\"lg\" class=\"shadow-lg shadow-primary-500/20 hover:scale-105 transition-transform\">\r\n        Nova Coleção\r\n      </UButton>\r\n    </div>\r\n\r\n    <!-- Tabs for My Collections vs Shared -->\r\n    <div class=\"space-y-8\">\r\n      \r\n      <!-- Section: My Collections -->\r\n      <section>\r\n        <h2 class=\"text-lg font-semibold mb-4 flex items-center gap-2\">\r\n          <UIcon name=\"i-heroicons-user\" />\r\n          Minhas Coleções\r\n        </h2>\r\n        \r\n        <!-- Loading -->\r\n        <div v-if=\"pending\" class=\"flex justify-center py-8\">\r\n          <UIcon name=\"i-heroicons-arrow-path\" class=\"w-8 h-8 animate-spin text-gray-400\" />\r\n        </div>\r\n        \r\n        <!-- Empty -->\r\n        <div v-else-if=\"!(collections as any)?.length\" class=\"text-center py-8 border-2 border-dashed border-gray-200 dark:border-gray-800 rounded-lg\">\r\n           <p class=\"text-gray-500\">Você não tem coleções criadas.</p>\r\n        </div>\r\n\r\n        <!-- Grid -->\r\n        <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n           <UCard\r\n             v-for=\"collection in (collections as any)\"\r\n             :key=\"(collection as any).id\"\r\n             class=\"group cursor-pointer border-0 ring-1 ring-gray-200 dark:ring-gray-800 shadow-sm hover:shadow-xl hover:ring-primary-500/50 dark:hover:ring-primary-500/50 transition-all duration-300 transform hover:-translate-y-1 bg-white dark:bg-gray-900 overflow-hidden\"\r\n             @click=\"goToCollection((collection as any).id)\"\r\n           >\r\n             <div class=\"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity z-10\">\r\n                <UDropdown :items=\"getActionItems(collection)\" @click.stop>\r\n                    <UButton color=\"gray\" variant=\"soft\" icon=\"i-heroicons-ellipsis-vertical\" size=\"xs\" />\r\n                 </UDropdown>\r\n             </div>\r\n\r\n             <!-- Card Body -->\r\n             <div class=\"p-4 flex flex-col h-full\">\r\n                <div class=\"w-12 h-12 rounded-xl bg-primary-50 dark:bg-primary-900/50 flex items-center justify-center text-primary-500 mb-4 group-hover:scale-110 transition-transform duration-300\">\r\n                  <UIcon name=\"i-heroicons-folder\" class=\"w-7 h-7\" />\r\n                </div>\r\n                \r\n                <h3 class=\"text-xl font-bold text-gray-900 dark:text-white mb-2 line-clamp-1 group-hover:text-primary-500 transition-colors\">\r\n                  {{ collection.name }}\r\n                </h3>\r\n                \r\n                <p class=\"text-gray-500 dark:text-gray-400 text-sm line-clamp-2 mb-4 flex-1\">\r\n                  {{ collection.description || 'Sem descrição definida.' }}\r\n                </p>\r\n\r\n                <div class=\"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-gray-800\">\r\n                  <span class=\"text-xs text-gray-400 font-mono\">{{ new Date((collection as any).created_at).toLocaleDateString() }}</span>\r\n                  <UBadge \r\n                    size=\"xs\" \r\n                    variant=\"subtle\" \r\n                    :color=\"(collection as any).visibility === 'public' ? 'green' : ((collection as any).visibility === 'shared' ? 'purple' : 'gray')\"\r\n                  >\r\n                    {{ (collection as any).visibility === 'public' ? 'Público' : ((collection as any).visibility === 'shared' ? 'Compartilahdo' : 'Privado') }}\r\n                  </UBadge>\r\n                </div>\r\n             </div>\r\n             \r\n             <!-- Remove default header/footer slots to custom design -->\r\n           </UCard>\r\n        </div>\r\n      </section>\r\n\r\n      <!-- Section: Shared With Me -->\r\n      <section>\r\n        <h2 class=\"text-lg font-semibold mb-4 flex items-center gap-2 text-purple-600 dark:text-purple-400\">\r\n          <UIcon name=\"i-heroicons-users\" />\r\n          Compartilhado Comigo\r\n        </h2>\r\n\r\n        <!-- Loading -->\r\n        <div v-if=\"pendingShares\" class=\"text-sm text-gray-400\">Carregando compartilhamentos...</div>\r\n\r\n        <!-- Empty -->\r\n        <div v-else-if=\"sharedCollections?.length === 0\" class=\"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg\">\r\n           <p class=\"text-gray-500 text-sm\">Ninguém compartilhou coleções com você ainda.</p>\r\n        </div>\r\n\r\n        <!-- Grid -->\r\n        <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n           <UCard\r\n             v-for=\"item in sharedCollections\"\r\n             :key=\"item.collection.id\"\r\n             class=\"group cursor-pointer border-0 ring-1 ring-purple-100 dark:ring-purple-900/30 shadow-sm hover:shadow-purple-500/20 hover:ring-purple-500/50 transition-all duration-300 transform hover:-translate-y-1 bg-white dark:bg-gray-900\"\r\n             @click=\"goToCollection(item.collection.id)\"\r\n           >\r\n             <div class=\"p-4 flex flex-col h-full\">\r\n                <div class=\"flex justify-between items-start mb-3\">\r\n                  <div class=\"w-10 h-10 rounded-lg bg-purple-50 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400\">\r\n                    <UIcon name=\"i-heroicons-folder-open\" class=\"w-6 h-6\" />\r\n                  </div>\r\n                  <UIcon name=\"i-heroicons-eye\" class=\"text-gray-300 group-hover:text-purple-500 transition-colors\" />\r\n                </div>\r\n\r\n                <h3 class=\"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-purple-500 transition-colors\">\r\n                   {{ item.collection.name }}\r\n                </h3>\r\n                <p class=\"text-gray-500 text-sm line-clamp-2 mb-4 flex-1\">\r\n                  {{ item.collection.description || 'Sem descrição' }}\r\n                </p>\r\n             \r\n                <div class=\"flex items-center gap-2 pt-3 border-t border-gray-100 dark:border-gray-800\">\r\n                   <UAvatar :src=\"item.collection.owner?.avatar_url\" size=\"xs\" class=\"ring-2 ring-white dark:ring-gray-900\" />\r\n                   <div class=\"flex flex-col\">\r\n                      <span class=\"text-[10px] text-gray-400 uppercase tracking-wider font-semibold\">Compartilhado por</span>\r\n                      <span class=\"text-xs font-medium text-gray-700 dark:text-gray-300\">\r\n                        {{ item.collection.owner?.full_name || 'Desconhecido' }}\r\n                      </span>\r\n                   </div>\r\n                </div>\r\n             </div>\r\n           </UCard>\r\n        </div>\r\n      </section>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nconst { user } = useUserSession()\r\nconst toast = useToast()\r\n\r\ndefinePageMeta({\r\n  middleware: 'auth'\r\n})\r\n\r\n// Fetch My Collections\r\nconst { data: collections, pending, refresh } = await useFetch('/api/collections')\r\n\r\n// Fetch Shared With Me (Placeholder for now, we'll implement later)\r\nconst sharedCollections = ref([])\r\nconst pendingShares = ref(false)\r\n\r\nconst getActionItems = (collection: any) => [\r\n  [{\r\n    label: 'Editar',\r\n    icon: 'i-heroicons-pencil-square',\r\n    click: () => navigateTo(`/collections/${collection.id}/edit`)\r\n  }],\r\n  [{\r\n    label: 'Excluir',\r\n    icon: 'i-heroicons-trash',\r\n    click: () => confirmDelete(collection.id)\r\n  }]\r\n]\r\n\r\nconst goToCollection = (id: string) => {\r\n  navigateTo(`/collections/${id}`)\r\n}\r\n\r\nconst confirmDelete = async (id: string) => {\r\n  if (!confirm('Tem certeza que deseja excluir esta coleção e todos os seus itens?')) return\r\n\r\n  try {\r\n    await $fetch(`/api/collections/${id}`, { method: 'DELETE' })\r\n    toast.add({ title: 'Sucesso', description: 'Coleção excluída', color: 'green' })\r\n    refresh()\r\n  } catch (error: any) {\r\n    toast.add({ title: 'Erro', description: error.message, color: 'red' })\r\n  }\r\n}\r\n</script>\r\n"],"names":["_withAsyncContext","_unref","_push","_parent","_ssrRenderComponent","_ssrRenderList","_","_scopeId","_createVNode","_ssrInterpolate","_createTextVNode","_toDisplayString"],"mappings":"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"}